ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccGUtQxr.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"ota_port.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.hal_check_flash_param,"ax",%progbits
  18              		.align	1
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu fpv4-sp-d16
  24              	hal_check_flash_param:
  25              	.LFB133:
  26              		.file 1 "C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src/ota_po
   1:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c **** /*----------------------------------------------------------------------------
   2:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****  * Copyright (c) <2016-2018>, <Huawei Technologies Co., Ltd>
   3:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****  * All rights reserved.
   4:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****  * Redistribution and use in source and binary forms, with or without modification,
   5:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****  * are permitted provided that the following conditions are met:
   6:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****  * 1. Redistributions of source code must retain the above copyright notice, this list of
   7:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****  * conditions and the following disclaimer.
   8:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice, this list
   9:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****  * of conditions and the following disclaimer in the documentation and/or other materials
  10:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****  * provided with the distribution.
  11:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****  * 3. Neither the name of the copyright holder nor the names of its contributors may be used
  12:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****  * to endorse or promote products derived from this software without specific prior written
  13:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****  * permission.
  14:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****  * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
  15:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****  * "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  16:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****  * THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  17:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****  * PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR
  18:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****  * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  19:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  20:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****  * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;
  21:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****  * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
  22:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****  * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
  23:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****  * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
  24:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****  * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  25:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****  *---------------------------------------------------------------------------*/
  26:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c **** /*----------------------------------------------------------------------------
  27:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****  * Notice of Export Control Law
  28:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****  * ===============================================
  29:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****  * Huawei LiteOS may be subject to applicable export control laws and regulations, which might
  30:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****  * include those applicable to Huawei LiteOS of U.S. and the country in which you are located.
  31:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****  * Import, export and usage of Huawei LiteOS in any manner by you shall be in compliance with such
  32:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****  * applicable export control laws and regulations.
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccGUtQxr.s 			page 2


  33:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****  *---------------------------------------------------------------------------*/
  34:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c **** 
  35:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c **** #include "ota_port.h"
  36:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c **** #include "common.h"
  37:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c **** #include "flag_manager.h"
  38:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c **** #include "upgrade_flag.h"
  39:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c **** #include <string.h>
  40:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c **** #include <stdlib.h>
  41:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c **** #include <board.h>
  42:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c **** #include "flash_adaptor.h"
  43:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c **** #include "hal_qspi_flash.h"
  44:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c **** #include "ota/ota.h"
  45:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c **** 
  46:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c **** static const uint32_t g_flash_base_addrs[] = {OTA_IMAGE_DOWNLOAD_ADDR, OTA_IMAGE_DOWNLOAD_ADDR, OTA
  47:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c **** static const uint32_t g_flash_max_size[] = {OTA_IMAGE_DOWNLOAD_SIZE, OTA_IMAGE_DOWNLOAD_SIZE, FLASH
  48:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c **** 
  49:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c **** static int hal_check_flash_param(ota_flash_type_e type, int32_t len, uint32_t location)
  50:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c **** {
  27              		.loc 1 50 0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              	.LVL0:
  32 0000 70B5     		push	{r4, r5, r6, lr}
  33              	.LCFI0:
  34              		.cfi_def_cfa_offset 16
  35              		.cfi_offset 4, -16
  36              		.cfi_offset 5, -12
  37              		.cfi_offset 6, -8
  38              		.cfi_offset 14, -4
  39 0002 82B0     		sub	sp, sp, #8
  40              	.LCFI1:
  41              		.cfi_def_cfa_offset 24
  42 0004 0446     		mov	r4, r0
  51:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****     if (type > OTA_UPDATE_INFO)
  43              		.loc 1 51 0
  44 0006 0228     		cmp	r0, #2
  45 0008 09D8     		bhi	.L6
  46 000a 0D46     		mov	r5, r1
  47 000c 1646     		mov	r6, r2
  52:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****     {
  53:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****         HAL_OTA_LOG("err type %d", type);
  54:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****         return ERR;
  55:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****     }
  56:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c **** 
  57:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****     if(len > g_flash_max_size[type])
  48              		.loc 1 57 0
  49 000e 104B     		ldr	r3, .L8
  50 0010 53F82030 		ldr	r3, [r3, r0, lsl #2]
  51 0014 8B42     		cmp	r3, r1
  52 0016 0ED3     		bcc	.L7
  58:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****     {
  59:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****         HAL_OTA_LOG("err offset %lu, len %lu", location, len);
  60:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****         return ERR;
  61:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****     }
  62:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c **** 
  63:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****     return OK;
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccGUtQxr.s 			page 3


  53              		.loc 1 63 0
  54 0018 0020     		movs	r0, #0
  55              	.LVL1:
  56              	.L1:
  64:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c **** }
  57              		.loc 1 64 0
  58 001a 02B0     		add	sp, sp, #8
  59              	.LCFI2:
  60              		.cfi_remember_state
  61              		.cfi_def_cfa_offset 16
  62              		@ sp needed
  63 001c 70BD     		pop	{r4, r5, r6, pc}
  64              	.LVL2:
  65              	.L6:
  66              	.LCFI3:
  67              		.cfi_restore_state
  53:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****         return ERR;
  68              		.loc 1 53 0
  69 001e FFF7FEFF 		bl	atiny_gettime_ms
  70              	.LVL3:
  71 0022 0094     		str	r4, [sp]
  72 0024 0346     		mov	r3, r0
  73 0026 3522     		movs	r2, #53
  74 0028 0A49     		ldr	r1, .L8+4
  75 002a 0B48     		ldr	r0, .L8+8
  76 002c FFF7FEFF 		bl	printf
  77              	.LVL4:
  54:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****     }
  78              		.loc 1 54 0
  79 0030 4FF0FF30 		mov	r0, #-1
  80 0034 F1E7     		b	.L1
  81              	.LVL5:
  82              	.L7:
  59:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****         return ERR;
  83              		.loc 1 59 0
  84 0036 FFF7FEFF 		bl	atiny_gettime_ms
  85              	.LVL6:
  86 003a 0195     		str	r5, [sp, #4]
  87 003c 0096     		str	r6, [sp]
  88 003e 0346     		mov	r3, r0
  89 0040 3B22     		movs	r2, #59
  90 0042 0449     		ldr	r1, .L8+4
  91 0044 0548     		ldr	r0, .L8+12
  92 0046 FFF7FEFF 		bl	printf
  93              	.LVL7:
  60:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****     }
  94              		.loc 1 60 0
  95 004a 4FF0FF30 		mov	r0, #-1
  96 004e E4E7     		b	.L1
  97              	.L9:
  98              		.align	2
  99              	.L8:
 100 0050 00000000 		.word	.LANCHOR1
 101 0054 00000000 		.word	.LANCHOR0
 102 0058 00000000 		.word	.LC0
 103 005c 1C000000 		.word	.LC1
 104              		.cfi_endproc
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccGUtQxr.s 			page 4


 105              	.LFE133:
 107              		.section	.text.hal_write_flash,"ax",%progbits
 108              		.align	1
 109              		.syntax unified
 110              		.thumb
 111              		.thumb_func
 112              		.fpu fpv4-sp-d16
 114              	hal_write_flash:
 115              	.LFB135:
  65:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c **** 
  66:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c **** static int hal_read_flash(ota_flash_type_e type, void *buf, int32_t len, uint32_t location)
  67:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c **** {
  68:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****     if (hal_check_flash_param(type, len, location) != OK)
  69:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****     {
  70:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****         return ERR;
  71:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****     }
  72:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c **** 		printf("*****reading spi flash!!*****\r\n");
  73:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c **** 		if (type == 2) printf("****reading flag!\r\n*****");
  74:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****     return hal_spi_flash_read(buf, len, g_flash_base_addrs[type] + location);
  75:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c **** }
  76:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c **** 
  77:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c **** static int hal_write_flash(ota_flash_type_e type, const void *buf, int32_t len, uint32_t location)
  78:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c **** {
 116              		.loc 1 78 0
 117              		.cfi_startproc
 118              		@ args = 0, pretend = 0, frame = 0
 119              		@ frame_needed = 0, uses_anonymous_args = 0
 120              	.LVL8:
 121 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 122              	.LCFI4:
 123              		.cfi_def_cfa_offset 24
 124              		.cfi_offset 3, -24
 125              		.cfi_offset 4, -20
 126              		.cfi_offset 5, -16
 127              		.cfi_offset 6, -12
 128              		.cfi_offset 7, -8
 129              		.cfi_offset 14, -4
 130 0002 0646     		mov	r6, r0
 131 0004 0F46     		mov	r7, r1
 132 0006 1546     		mov	r5, r2
 133 0008 1C46     		mov	r4, r3
  79:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****     if (hal_check_flash_param(type, len, location) != OK)
 134              		.loc 1 79 0
 135 000a 1A46     		mov	r2, r3
 136              	.LVL9:
 137 000c 2946     		mov	r1, r5
 138              	.LVL10:
 139 000e FFF7FEFF 		bl	hal_check_flash_param
 140              	.LVL11:
 141 0012 70B9     		cbnz	r0, .L13
  80:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****     {
  81:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****         return ERR;
  82:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****     }
  83:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c **** 		if (type == 2) 
 142              		.loc 1 83 0
 143 0014 022E     		cmp	r6, #2
 144 0016 08D0     		beq	.L15
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccGUtQxr.s 			page 5


 145              	.L12:
  84:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c **** 		{
  85:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c **** 			printf("****writing flag!\r\n*****");
  86:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c **** 		}
  87:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****     return flash_adaptor_write(g_flash_base_addrs[type] + location, (const uint8_t *)buf, len);
 146              		.loc 1 87 0
 147 0018 074B     		ldr	r3, .L16
 148 001a 53F82600 		ldr	r0, [r3, r6, lsl #2]
 149 001e 2A46     		mov	r2, r5
 150 0020 3946     		mov	r1, r7
 151 0022 2044     		add	r0, r0, r4
 152 0024 FFF7FEFF 		bl	flash_adaptor_write
 153              	.LVL12:
 154              	.L10:
  88:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c **** }
 155              		.loc 1 88 0
 156 0028 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 157              	.LVL13:
 158              	.L15:
  85:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c **** 		}
 159              		.loc 1 85 0
 160 002a 0448     		ldr	r0, .L16+4
 161 002c FFF7FEFF 		bl	printf
 162              	.LVL14:
 163 0030 F2E7     		b	.L12
 164              	.L13:
  81:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****     }
 165              		.loc 1 81 0
 166 0032 4FF0FF30 		mov	r0, #-1
 167 0036 F7E7     		b	.L10
 168              	.L17:
 169              		.align	2
 170              	.L16:
 171 0038 00000000 		.word	.LANCHOR2
 172 003c 00000000 		.word	.LC2
 173              		.cfi_endproc
 174              	.LFE135:
 176              		.section	.text.hal_read_flash,"ax",%progbits
 177              		.align	1
 178              		.syntax unified
 179              		.thumb
 180              		.thumb_func
 181              		.fpu fpv4-sp-d16
 183              	hal_read_flash:
 184              	.LFB134:
  67:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****     if (hal_check_flash_param(type, len, location) != OK)
 185              		.loc 1 67 0
 186              		.cfi_startproc
 187              		@ args = 0, pretend = 0, frame = 0
 188              		@ frame_needed = 0, uses_anonymous_args = 0
 189              	.LVL15:
 190 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 191              	.LCFI5:
 192              		.cfi_def_cfa_offset 24
 193              		.cfi_offset 3, -24
 194              		.cfi_offset 4, -20
 195              		.cfi_offset 5, -16
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccGUtQxr.s 			page 6


 196              		.cfi_offset 6, -12
 197              		.cfi_offset 7, -8
 198              		.cfi_offset 14, -4
 199 0002 0646     		mov	r6, r0
 200 0004 0F46     		mov	r7, r1
 201 0006 1446     		mov	r4, r2
 202 0008 1D46     		mov	r5, r3
  68:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****     {
 203              		.loc 1 68 0
 204 000a 1A46     		mov	r2, r3
 205              	.LVL16:
 206 000c 2146     		mov	r1, r4
 207              	.LVL17:
 208 000e FFF7FEFF 		bl	hal_check_flash_param
 209              	.LVL18:
 210 0012 88B9     		cbnz	r0, .L21
  72:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c **** 		if (type == 2) printf("****reading flag!\r\n*****");
 211              		.loc 1 72 0
 212 0014 0A48     		ldr	r0, .L24
 213 0016 FFF7FEFF 		bl	puts
 214              	.LVL19:
  73:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****     return hal_spi_flash_read(buf, len, g_flash_base_addrs[type] + location);
 215              		.loc 1 73 0
 216 001a 022E     		cmp	r6, #2
 217 001c 08D0     		beq	.L23
 218              	.L20:
  74:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c **** }
 219              		.loc 1 74 0
 220 001e 094B     		ldr	r3, .L24+4
 221 0020 53F82620 		ldr	r2, [r3, r6, lsl #2]
 222 0024 2A44     		add	r2, r2, r5
 223 0026 2146     		mov	r1, r4
 224 0028 3846     		mov	r0, r7
 225 002a FFF7FEFF 		bl	hal_spi_flash_read
 226              	.LVL20:
 227              	.L18:
  75:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c **** 
 228              		.loc 1 75 0
 229 002e F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 230              	.LVL21:
 231              	.L23:
  73:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****     return hal_spi_flash_read(buf, len, g_flash_base_addrs[type] + location);
 232              		.loc 1 73 0 discriminator 1
 233 0030 0548     		ldr	r0, .L24+8
 234 0032 FFF7FEFF 		bl	printf
 235              	.LVL22:
 236 0036 F2E7     		b	.L20
 237              	.L21:
  70:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****     }
 238              		.loc 1 70 0
 239 0038 4FF0FF30 		mov	r0, #-1
 240 003c F7E7     		b	.L18
 241              	.L25:
 242 003e 00BF     		.align	2
 243              	.L24:
 244 0040 00000000 		.word	.LC3
 245 0044 00000000 		.word	.LANCHOR2
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccGUtQxr.s 			page 7


 246 0048 20000000 		.word	.LC4
 247              		.cfi_endproc
 248              	.LFE134:
 250              		.section	.text.hal_init_ota,"ax",%progbits
 251              		.align	1
 252              		.global	hal_init_ota
 253              		.syntax unified
 254              		.thumb
 255              		.thumb_func
 256              		.fpu fpv4-sp-d16
 258              	hal_init_ota:
 259              	.LFB136:
  89:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c **** 
  90:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c **** void hal_init_ota(void)
  91:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c **** {
 260              		.loc 1 91 0
 261              		.cfi_startproc
 262              		@ args = 0, pretend = 0, frame = 0
 263              		@ frame_needed = 0, uses_anonymous_args = 0
 264 0000 08B5     		push	{r3, lr}
 265              	.LCFI6:
 266              		.cfi_def_cfa_offset 8
 267              		.cfi_offset 3, -8
 268              		.cfi_offset 14, -4
  92:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c **** 		//ota_init();
  93:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****     flash_adaptor_init();
 269              		.loc 1 93 0
 270 0002 FFF7FEFF 		bl	flash_adaptor_init
 271              	.LVL23:
  94:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c **** }
 272              		.loc 1 94 0
 273 0006 08BD     		pop	{r3, pc}
 274              		.cfi_endproc
 275              	.LFE136:
 277              		.section	.text.hal_get_ota_opt,"ax",%progbits
 278              		.align	1
 279              		.global	hal_get_ota_opt
 280              		.syntax unified
 281              		.thumb
 282              		.thumb_func
 283              		.fpu fpv4-sp-d16
 285              	hal_get_ota_opt:
 286              	.LFB137:
  95:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c **** 
  96:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c **** 
  97:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c **** void hal_get_ota_opt(ota_opt_s *opt)
  98:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c **** {
 287              		.loc 1 98 0
 288              		.cfi_startproc
 289              		@ args = 0, pretend = 0, frame = 0
 290              		@ frame_needed = 0, uses_anonymous_args = 0
 291              	.LVL24:
 292 0000 08B5     		push	{r3, lr}
 293              	.LCFI7:
 294              		.cfi_def_cfa_offset 8
 295              		.cfi_offset 3, -8
 296              		.cfi_offset 14, -4
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccGUtQxr.s 			page 8


  99:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****     if (opt == NULL)
 297              		.loc 1 99 0
 298 0002 50B1     		cbz	r0, .L32
 100:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****     {
 101:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****         HAL_OTA_LOG("opt NULL");
 102:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****         return;
 103:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****     }
 104:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c **** 
 105:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****     memset(opt, 0, sizeof(*opt));
 299              		.loc 1 105 0
 300 0004 0022     		movs	r2, #0
 301 0006 C260     		str	r2, [r0, #12]	@ unaligned
 302 0008 0261     		str	r2, [r0, #16]	@ unaligned
 106:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****     opt->read_flash = hal_read_flash;
 303              		.loc 1 106 0
 304 000a 084A     		ldr	r2, .L33
 305 000c 0260     		str	r2, [r0]
 107:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****     opt->write_flash = hal_write_flash;
 306              		.loc 1 107 0
 307 000e 084A     		ldr	r2, .L33+4
 308 0010 4260     		str	r2, [r0, #4]
 108:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****     opt->flash_block_size = FLASH_BLOCK_SIZE;
 309              		.loc 1 108 0
 310 0012 4FF48052 		mov	r2, #4096
 311 0016 8260     		str	r2, [r0, #8]
 312              	.LVL25:
 313              	.L28:
 109:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c **** }
 314              		.loc 1 109 0
 315 0018 08BD     		pop	{r3, pc}
 316              	.LVL26:
 317              	.L32:
 101:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****         return;
 318              		.loc 1 101 0
 319 001a FFF7FEFF 		bl	atiny_gettime_ms
 320              	.LVL27:
 321 001e 0346     		mov	r3, r0
 322 0020 6522     		movs	r2, #101
 323 0022 0449     		ldr	r1, .L33+8
 324 0024 0448     		ldr	r0, .L33+12
 325 0026 FFF7FEFF 		bl	printf
 326              	.LVL28:
 102:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Src\ota_port.c ****     }
 327              		.loc 1 102 0
 328 002a F5E7     		b	.L28
 329              	.L34:
 330              		.align	2
 331              	.L33:
 332 002c 00000000 		.word	hal_read_flash
 333 0030 00000000 		.word	hal_write_flash
 334 0034 00000000 		.word	.LANCHOR3
 335 0038 00000000 		.word	.LC5
 336              		.cfi_endproc
 337              	.LFE137:
 339              		.section	.rodata.__FUNCTION__.10485,"a",%progbits
 340              		.align	2
 341              		.set	.LANCHOR0,. + 0
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccGUtQxr.s 			page 9


 344              	__FUNCTION__.10485:
 345 0000 68616C5F 		.ascii	"hal_check_flash_param\000"
 345      63686563 
 345      6B5F666C 
 345      6173685F 
 345      70617261 
 346              		.section	.rodata.__FUNCTION__.10504,"a",%progbits
 347              		.align	2
 348              		.set	.LANCHOR3,. + 0
 351              	__FUNCTION__.10504:
 352 0000 68616C5F 		.ascii	"hal_get_ota_opt\000"
 352      6765745F 
 352      6F74615F 
 352      6F707400 
 353              		.section	.rodata.g_flash_base_addrs,"a",%progbits
 354              		.align	2
 355              		.set	.LANCHOR2,. + 0
 358              	g_flash_base_addrs:
 359 0000 00000100 		.word	65536
 360 0004 00000100 		.word	65536
 361 0008 00000000 		.word	0
 362              		.section	.rodata.g_flash_max_size,"a",%progbits
 363              		.align	2
 364              		.set	.LANCHOR1,. + 0
 367              	g_flash_max_size:
 368 0000 00000400 		.word	262144
 369 0004 00000400 		.word	262144
 370 0008 00100000 		.word	4096
 371              		.section	.rodata.hal_check_flash_param.str1.4,"aMS",%progbits,1
 372              		.align	2
 373              	.LC0:
 374 0000 5B25733A 		.ascii	"[%s:%d][%lu]err type %d\015\012\000"
 374      25645D5B 
 374      256C755D 
 374      65727220 
 374      74797065 
 375 001a 0000     		.space	2
 376              	.LC1:
 377 001c 5B25733A 		.ascii	"[%s:%d][%lu]err offset %lu, len %lu\015\012\000"
 377      25645D5B 
 377      256C755D 
 377      65727220 
 377      6F666673 
 378              		.section	.rodata.hal_get_ota_opt.str1.4,"aMS",%progbits,1
 379              		.align	2
 380              	.LC5:
 381 0000 5B25733A 		.ascii	"[%s:%d][%lu]opt NULL\015\012\000"
 381      25645D5B 
 381      256C755D 
 381      6F707420 
 381      4E554C4C 
 382              		.section	.rodata.hal_read_flash.str1.4,"aMS",%progbits,1
 383              		.align	2
 384              	.LC3:
 385 0000 2A2A2A2A 		.ascii	"*****reading spi flash!!*****\015\000"
 385      2A726561 
 385      64696E67 
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccGUtQxr.s 			page 10


 385      20737069 
 385      20666C61 
 386 001f 00       		.space	1
 387              	.LC4:
 388 0020 2A2A2A2A 		.ascii	"****reading flag!\015\012*****\000"
 388      72656164 
 388      696E6720 
 388      666C6167 
 388      210D0A2A 
 389              		.section	.rodata.hal_write_flash.str1.4,"aMS",%progbits,1
 390              		.align	2
 391              	.LC2:
 392 0000 2A2A2A2A 		.ascii	"****writing flag!\015\012*****\000"
 392      77726974 
 392      696E6720 
 392      666C6167 
 392      210D0A2A 
 393              		.text
 394              	.Letext0:
 395              		.file 2 "c:\\program files (x86)\\liteos studio\\resources\\arm-none-eabi\\arm-none-eabi\\include\
 396              		.file 3 "c:\\program files (x86)\\liteos studio\\resources\\arm-none-eabi\\arm-none-eabi\\include\
 397              		.file 4 "C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/include/ota/ota_api.h"
 398              		.file 5 "c:\\program files (x86)\\liteos studio\\resources\\arm-none-eabi\\arm-none-eabi\\include\
 399              		.file 6 "c:\\program files (x86)\\liteos studio\\resources\\arm-none-eabi\\arm-none-eabi\\include\
 400              		.file 7 "c:\\program files (x86)\\liteos studio\\resources\\arm-none-eabi\\lib\\gcc\\arm-none-eabi
 401              		.file 8 "c:\\program files (x86)\\liteos studio\\resources\\arm-none-eabi\\arm-none-eabi\\include\
 402              		.file 9 "C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/kernel/include/los_typedef.h"
 403              		.file 10 "C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/arch/arm/common/cmsis/core_cm4.h"
 404              		.file 11 "C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Inc/syste
 405              		.file 12 "C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/kernel/include/los_list.h"
 406              		.file 13 "C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/kernel/include/los_err.h"
 407              		.file 14 "C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/arch/arm/arm-m/include/los_hwi.h"
 408              		.file 15 "C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/kernel/include/los_tick.h"
 409              		.file 16 "C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/kernel/include/los_event.h"
 410              		.file 17 "C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/kernel/include/los_task.h"
 411              		.file 18 "C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/kernel/base/include/los_task.ph"
 412              		.file 19 "C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Inc/main.
 413              		.file 20 "C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/OS_CONFIG
 414              		.file 21 "C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/kernel/include/los_config.h"
 415              		.file 22 "c:\\program files (x86)\\liteos studio\\resources\\arm-none-eabi\\arm-none-eabi\\include
 416              		.file 23 "C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/include/ota/ota.h"
 417              		.file 24 "C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/include/osdepends/atiny_osdep.h"
 418              		.file 25 "c:\\program files (x86)\\liteos studio\\resources\\arm-none-eabi\\arm-none-eabi\\include
 419              		.file 26 "C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Inc/flash
 420              		.file 27 "C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Hardware/
 421              		.file 28 "<built-in>"
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccGUtQxr.s 			page 11


DEFINED SYMBOLS
                            *ABS*:00000000 ota_port.c
c:\Users\lenovo\AppData\Local\Temp\ccGUtQxr.s:18     .text.hal_check_flash_param:00000000 $t
c:\Users\lenovo\AppData\Local\Temp\ccGUtQxr.s:24     .text.hal_check_flash_param:00000000 hal_check_flash_param
c:\Users\lenovo\AppData\Local\Temp\ccGUtQxr.s:100    .text.hal_check_flash_param:00000050 $d
c:\Users\lenovo\AppData\Local\Temp\ccGUtQxr.s:108    .text.hal_write_flash:00000000 $t
c:\Users\lenovo\AppData\Local\Temp\ccGUtQxr.s:114    .text.hal_write_flash:00000000 hal_write_flash
c:\Users\lenovo\AppData\Local\Temp\ccGUtQxr.s:171    .text.hal_write_flash:00000038 $d
c:\Users\lenovo\AppData\Local\Temp\ccGUtQxr.s:177    .text.hal_read_flash:00000000 $t
c:\Users\lenovo\AppData\Local\Temp\ccGUtQxr.s:183    .text.hal_read_flash:00000000 hal_read_flash
c:\Users\lenovo\AppData\Local\Temp\ccGUtQxr.s:244    .text.hal_read_flash:00000040 $d
c:\Users\lenovo\AppData\Local\Temp\ccGUtQxr.s:251    .text.hal_init_ota:00000000 $t
c:\Users\lenovo\AppData\Local\Temp\ccGUtQxr.s:258    .text.hal_init_ota:00000000 hal_init_ota
c:\Users\lenovo\AppData\Local\Temp\ccGUtQxr.s:278    .text.hal_get_ota_opt:00000000 $t
c:\Users\lenovo\AppData\Local\Temp\ccGUtQxr.s:285    .text.hal_get_ota_opt:00000000 hal_get_ota_opt
c:\Users\lenovo\AppData\Local\Temp\ccGUtQxr.s:332    .text.hal_get_ota_opt:0000002c $d
c:\Users\lenovo\AppData\Local\Temp\ccGUtQxr.s:340    .rodata.__FUNCTION__.10485:00000000 $d
c:\Users\lenovo\AppData\Local\Temp\ccGUtQxr.s:344    .rodata.__FUNCTION__.10485:00000000 __FUNCTION__.10485
c:\Users\lenovo\AppData\Local\Temp\ccGUtQxr.s:347    .rodata.__FUNCTION__.10504:00000000 $d
c:\Users\lenovo\AppData\Local\Temp\ccGUtQxr.s:351    .rodata.__FUNCTION__.10504:00000000 __FUNCTION__.10504
c:\Users\lenovo\AppData\Local\Temp\ccGUtQxr.s:354    .rodata.g_flash_base_addrs:00000000 $d
c:\Users\lenovo\AppData\Local\Temp\ccGUtQxr.s:358    .rodata.g_flash_base_addrs:00000000 g_flash_base_addrs
c:\Users\lenovo\AppData\Local\Temp\ccGUtQxr.s:363    .rodata.g_flash_max_size:00000000 $d
c:\Users\lenovo\AppData\Local\Temp\ccGUtQxr.s:367    .rodata.g_flash_max_size:00000000 g_flash_max_size
c:\Users\lenovo\AppData\Local\Temp\ccGUtQxr.s:372    .rodata.hal_check_flash_param.str1.4:00000000 $d
c:\Users\lenovo\AppData\Local\Temp\ccGUtQxr.s:379    .rodata.hal_get_ota_opt.str1.4:00000000 $d
c:\Users\lenovo\AppData\Local\Temp\ccGUtQxr.s:383    .rodata.hal_read_flash.str1.4:00000000 $d
c:\Users\lenovo\AppData\Local\Temp\ccGUtQxr.s:390    .rodata.hal_write_flash.str1.4:00000000 $d

UNDEFINED SYMBOLS
atiny_gettime_ms
printf
flash_adaptor_write
puts
hal_spi_flash_read
flash_adaptor_init
