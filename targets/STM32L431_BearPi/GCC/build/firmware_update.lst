ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"firmware_update.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.record_fw_uri,"ax",%progbits
  18              		.align	1
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu fpv4-sp-d16
  24              	record_fw_uri:
  25              	.LFB135:
  26              		.file 1 "C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/
   1:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** /*----------------------------------------------------------------------------
   2:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****  * Copyright (c) <2016-2018>, <Huawei Technologies Co., Ltd>
   3:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****  * All rights reserved.
   4:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****  * Redistribution and use in source and binary forms, with or without modification,
   5:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****  * are permitted provided that the following conditions are met:
   6:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****  * 1. Redistributions of source code must retain the above copyright notice, this list of
   7:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****  * conditions and the following disclaimer.
   8:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice, this list
   9:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****  * of conditions and the following disclaimer in the documentation and/or other materials
  10:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****  * provided with the distribution.
  11:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****  * 3. Neither the name of the copyright holder nor the names of its contributors may be used
  12:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****  * to endorse or promote products derived from this software without specific prior written
  13:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****  * permission.
  14:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****  * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
  15:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****  * "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  16:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****  * THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  17:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****  * PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR
  18:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****  * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  19:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  20:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****  * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;
  21:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****  * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
  22:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****  * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
  23:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****  * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
  24:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****  * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  25:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****  *---------------------------------------------------------------------------*/
  26:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** /*----------------------------------------------------------------------------
  27:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****  * Notice of Export Control Law
  28:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****  * ===============================================
  29:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****  * Huawei LiteOS may be subject to applicable export control laws and regulations, which might
  30:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****  * include those applicable to Huawei LiteOS of U.S. and the country in which you are located.
  31:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****  * Import, export and usage of Huawei LiteOS in any manner by you shall be in compliance with such
  32:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****  * applicable export control laws and regulations.
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s 			page 2


  33:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****  *---------------------------------------------------------------------------*/
  34:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** 
  35:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** #include "internals.h"
  36:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** #include "atiny_lwm2m/agenttiny.h"
  37:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** #include "log/atiny_log.h"
  38:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** #include "ota/package.h"
  39:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** #include "firmware_update.h"
  40:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** 
  41:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** #define FW_BLOCK_SIZE (512)
  42:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** 
  43:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** #define COAP_PROTO_PREFIX "coap://"
  44:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** #define COAPS_PROTO_PREFIX "coaps://"
  45:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** 
  46:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** typedef struct fw_update_record
  47:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** {
  48:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     uint8_t in_use;
  49:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     uint8_t block_more;
  50:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     uint16_t block_size;
  51:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     uint32_t block_num;
  52:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     uint32_t block_offset;
  53:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     uint32_t uri_len;
  54:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     char *uri;
  55:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** } fw_update_record_t;
  56:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** 
  57:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** static char *g_ota_uri = NULL;
  58:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** static pack_storage_device_api_s *g_fota_storage_device = NULL;
  59:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** static fw_update_record_t g_fw_update_record = {0};
  60:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** 
  61:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** static firmware_update_notify g_firmware_update_notify = NULL;
  62:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** static void *g_firmware_update_notify_param = NULL;
  63:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** 
  64:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** static void firmware_download_reply(lwm2m_transaction_t *transacP,
  65:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****                                     void *message)
  66:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** {
  67:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     coap_packet_t *packet = (coap_packet_t *)message;
  68:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     lwm2m_context_t *contextP = (lwm2m_context_t *)(transacP->userData);
  69:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     lwm2m_transaction_t *transaction;
  70:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     uint32_t len = 0;
  71:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     uint32_t block_num = 0;
  72:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     uint8_t block2_more = 0;
  73:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     uint16_t block_size = FW_BLOCK_SIZE;
  74:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     uint32_t block_offset = 0;
  75:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     int ret = 0;
  76:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** 
  77:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     if(NULL == message)
  78:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     {
  79:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         ATINY_LOG(LOG_INFO, "transaction timeout");
  80:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         goto failed_exit;
  81:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     }
  82:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** 
  83:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     if(1 != coap_get_header_block2(message, &block_num, &block2_more, &block_size, &block_offset))
  84:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     {
  85:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         ATINY_LOG(LOG_ERR, "coap_get_header_block2 failed");
  86:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         goto failed_exit;
  87:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     }
  88:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     ATINY_LOG(LOG_ERR, "block_num : %lu, block2_more : %lu, block_offset : %lu, payload_len is %u",
  89:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****               block_num, (uint32_t)block2_more, block_offset, packet->payload_len);
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s 			page 3


  90:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** 
  91:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     if(0 == block_num)
  92:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     {
  93:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         g_fw_update_record.in_use = 1;
  94:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     }
  95:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** 
  96:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     g_fw_update_record.block_size = block_size;
  97:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     g_fw_update_record.block_num = block_num;
  98:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     g_fw_update_record.block_offset = block_offset;
  99:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     g_fw_update_record.block_more = block2_more;
 100:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** 
 101:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     len = (uint32_t)(packet->payload_len);
 102:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     if(g_fota_storage_device && g_fota_storage_device->write_software)
 103:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     {
 104:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         ret = g_fota_storage_device->write_software(g_fota_storage_device, block_offset, packet->pa
 105:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         if(ret != 0)
 106:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****             goto failed_exit;
 107:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     }
 108:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     else if(NULL == g_fota_storage_device)
 109:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         ATINY_LOG(LOG_ERR, "g_fota_storage_device NULL");
 110:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     else
 111:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         ATINY_LOG(LOG_ERR, "g_fota_storage_device->write_software NULL");
 112:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** 
 113:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     len = block_offset + (uint32_t)(packet->payload_len);
 114:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** 
 115:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     if(block2_more)
 116:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     {
 117:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         transaction = transaction_new(transacP->peerH, COAP_GET, NULL, NULL, contextP->nextMID++, 4
 118:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         if(!transaction)
 119:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         {
 120:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****             ATINY_LOG(LOG_ERR, "transaction_new failed");
 121:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****             goto failed_exit;
 122:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         }
 123:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         ret = coap_set_header_uri_path(transaction->message, g_ota_uri);
 124:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         if(ret < 0 || NULL == transaction->message->uri_path)
 125:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         {
 126:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****             transaction_free(transaction);
 127:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****             goto failed_exit;
 128:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         }
 129:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         //coap_set_header_uri_query(transaction->message, query);
 130:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         ret = coap_set_header_block2(transaction->message, g_fw_update_record.block_num + 1, 0, g_f
 131:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         if(ret < 0)
 132:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         {
 133:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****             transaction_free(transaction);
 134:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****             goto failed_exit;
 135:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         }
 136:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         ATINY_LOG(LOG_DEBUG, "get next : %lu", block_num + 1);
 137:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** 
 138:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         transaction->callback = firmware_download_reply;
 139:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         transaction->userData = (void *)contextP;
 140:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** 
 141:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         contextP->transactionList = (lwm2m_transaction_t *)LWM2M_LIST_ADD(contextP->transactionList
 142:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** 
 143:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         if(transaction_send(contextP, transaction) != 0)
 144:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         {
 145:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****             ATINY_LOG(LOG_ERR, "transaction_send failed");
 146:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****             goto failed_exit;
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s 			page 4


 147:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         }
 148:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     }
 149:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     else
 150:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     {
 151:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         ret = ATINY_ERR;
 152:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         if(g_fota_storage_device && g_fota_storage_device->write_software_end)
 153:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****             ret = g_fota_storage_device->write_software_end(g_fota_storage_device, PACK_DOWNLOAD_OK
 154:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         else if(NULL == g_fota_storage_device)
 155:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****             ATINY_LOG(LOG_ERR, "g_fota_storage_device NULL");
 156:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         else
 157:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****             ATINY_LOG(LOG_ERR, "g_fota_storage_device->write_software_end NULL");
 158:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         ATINY_LOG(LOG_ERR, "g_firmware_update_notify FIRMWARE_UPDATE_RST_SUCCESS, write end ret %d"
 159:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         if(g_firmware_update_notify)
 160:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****             g_firmware_update_notify((ret == ATINY_OK) ?  FIRMWARE_UPDATE_RST_SUCCESS : FIRMWARE_UP
 161:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         ATINY_LOG(LOG_ERR, "download success, total size : %lu, write end ret %d", len, ret);
 162:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     }
 163:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     return;
 164:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** failed_exit:
 165:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     if(g_fota_storage_device && g_fota_storage_device->write_software_end)
 166:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         (void)g_fota_storage_device->write_software_end(g_fota_storage_device, PACK_DOWNLOAD_FAIL, 
 167:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     else if(NULL == g_fota_storage_device)
 168:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         ATINY_LOG(LOG_ERR, "g_fota_storage_device NULL");
 169:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     else
 170:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         ATINY_LOG(LOG_ERR, "g_fota_storage_device->write_software_end NULL");
 171:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     ATINY_LOG(LOG_INFO, "g_firmware_update_notify FIRMWARE_UPDATE_RST_FAILED");
 172:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     if(g_firmware_update_notify)
 173:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         g_firmware_update_notify(FIRMWARE_UPDATE_RST_FAILED, g_firmware_update_notify_param);
 174:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     return;
 175:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** }
 176:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** 
 177:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** static int record_fw_uri(char *uri, int uri_len)
 178:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** {
  27              		.loc 1 178 0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              	.LVL0:
 179:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     if(!uri || *uri == '\0' || uri_len <= 0)
  32              		.loc 1 179 0
  33 0000 80B3     		cbz	r0, .L4
 178:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     if(!uri || *uri == '\0' || uri_len <= 0)
  34              		.loc 1 178 0 discriminator 1
  35 0002 30B5     		push	{r4, r5, lr}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 12
  38              		.cfi_offset 4, -12
  39              		.cfi_offset 5, -8
  40              		.cfi_offset 14, -4
  41 0004 83B0     		sub	sp, sp, #12
  42              	.LCFI1:
  43              		.cfi_def_cfa_offset 24
  44 0006 0546     		mov	r5, r0
  45              		.loc 1 179 0 discriminator 1
  46 0008 0278     		ldrb	r2, [r0]	@ zero_extendqisi2
  47 000a 72B3     		cbz	r2, .L5
  48              		.loc 1 179 0 is_stmt 0 discriminator 2
  49 000c 0029     		cmp	r1, #0
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s 			page 5


  50 000e 2FDD     		ble	.L6
  51 0010 0C46     		mov	r4, r1
 180:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     {
 181:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         return -1;
 182:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     }
 183:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** 
 184:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     g_fw_update_record.uri = (char *)lwm2m_malloc(uri_len + 1);
  52              		.loc 1 184 0 is_stmt 1
  53 0012 481C     		adds	r0, r1, #1
  54              	.LVL1:
  55 0014 FFF7FEFF 		bl	lwm2m_malloc
  56              	.LVL2:
  57 0018 174B     		ldr	r3, .L14
  58 001a 1861     		str	r0, [r3, #16]
 185:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     if(NULL == g_fw_update_record.uri)
  59              		.loc 1 185 0
  60 001c 50B1     		cbz	r0, .L12
 186:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     {
 187:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         ATINY_LOG(LOG_ERR, "lwm2m_malloc failed");
 188:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         return -1;
 189:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     }
 190:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     memcpy(g_fw_update_record.uri, uri, uri_len);
  61              		.loc 1 190 0
  62 001e 2246     		mov	r2, r4
  63 0020 2946     		mov	r1, r5
  64 0022 FFF7FEFF 		bl	memcpy
  65              	.LVL3:
 191:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     g_fw_update_record.uri[uri_len] = '\0';
  66              		.loc 1 191 0
  67 0026 144B     		ldr	r3, .L14
  68 0028 1A69     		ldr	r2, [r3, #16]
  69 002a 0020     		movs	r0, #0
  70 002c 1055     		strb	r0, [r2, r4]
 192:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     g_fw_update_record.uri_len = uri_len;
  71              		.loc 1 192 0
  72 002e DC60     		str	r4, [r3, #12]
  73              	.LVL4:
  74              	.L1:
 193:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** 
 194:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     return 0;
 195:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** }
  75              		.loc 1 195 0
  76 0030 03B0     		add	sp, sp, #12
  77              	.LCFI2:
  78              		.cfi_remember_state
  79              		.cfi_def_cfa_offset 12
  80              		@ sp needed
  81 0032 30BD     		pop	{r4, r5, pc}
  82              	.LVL5:
  83              	.L12:
  84              	.LCFI3:
  85              		.cfi_restore_state
 187:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         return -1;
  86              		.loc 1 187 0
  87 0034 FFF7FEFF 		bl	atiny_get_log_level
  88              	.LVL6:
  89 0038 0328     		cmp	r0, #3
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s 			page 6


  90 003a 02D9     		bls	.L13
 188:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     }
  91              		.loc 1 188 0
  92 003c 4FF0FF30 		mov	r0, #-1
  93 0040 F6E7     		b	.L1
  94              	.L13:
 187:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         return -1;
  95              		.loc 1 187 0 discriminator 1
  96 0042 0320     		movs	r0, #3
  97 0044 FFF7FEFF 		bl	atiny_get_log_level_name
  98              	.LVL7:
  99 0048 0446     		mov	r4, r0
 100              	.LVL8:
 101 004a FFF7FEFF 		bl	atiny_gettime_ms
 102              	.LVL9:
 103 004e BB23     		movs	r3, #187
 104 0050 0093     		str	r3, [sp]
 105 0052 0A4B     		ldr	r3, .L14+4
 106 0054 0246     		mov	r2, r0
 107 0056 2146     		mov	r1, r4
 108 0058 0948     		ldr	r0, .L14+8
 109 005a FFF7FEFF 		bl	atiny_printf
 110              	.LVL10:
 188:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     }
 111              		.loc 1 188 0 discriminator 1
 112 005e 4FF0FF30 		mov	r0, #-1
 113 0062 E5E7     		b	.L1
 114              	.LVL11:
 115              	.L4:
 116              	.LCFI4:
 117              		.cfi_def_cfa_offset 0
 118              		.cfi_restore 4
 119              		.cfi_restore 5
 120              		.cfi_restore 14
 181:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     }
 121              		.loc 1 181 0
 122 0064 4FF0FF30 		mov	r0, #-1
 123              	.LVL12:
 124              		.loc 1 195 0
 125 0068 7047     		bx	lr
 126              	.LVL13:
 127              	.L5:
 128              	.LCFI5:
 129              		.cfi_def_cfa_offset 24
 130              		.cfi_offset 4, -12
 131              		.cfi_offset 5, -8
 132              		.cfi_offset 14, -4
 181:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     }
 133              		.loc 1 181 0
 134 006a 4FF0FF30 		mov	r0, #-1
 135              	.LVL14:
 136 006e DFE7     		b	.L1
 137              	.LVL15:
 138              	.L6:
 139 0070 4FF0FF30 		mov	r0, #-1
 140              	.LVL16:
 141 0074 DCE7     		b	.L1
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s 			page 7


 142              	.L15:
 143 0076 00BF     		.align	2
 144              	.L14:
 145 0078 00000000 		.word	.LANCHOR0
 146 007c 00000000 		.word	.LANCHOR1
 147 0080 00000000 		.word	.LC0
 148              		.cfi_endproc
 149              	.LFE135:
 151              		.section	.text.firmware_download_reply,"ax",%progbits
 152              		.align	1
 153              		.syntax unified
 154              		.thumb
 155              		.thumb_func
 156              		.fpu fpv4-sp-d16
 158              	firmware_download_reply:
 159              	.LFB134:
  66:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     coap_packet_t *packet = (coap_packet_t *)message;
 160              		.loc 1 66 0
 161              		.cfi_startproc
 162              		@ args = 0, pretend = 0, frame = 16
 163              		@ frame_needed = 0, uses_anonymous_args = 0
 164              	.LVL17:
 165 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 166              	.LCFI6:
 167              		.cfi_def_cfa_offset 24
 168              		.cfi_offset 4, -24
 169              		.cfi_offset 5, -20
 170              		.cfi_offset 6, -16
 171              		.cfi_offset 7, -12
 172              		.cfi_offset 8, -8
 173              		.cfi_offset 14, -4
 174 0004 8AB0     		sub	sp, sp, #40
 175              	.LCFI7:
 176              		.cfi_def_cfa_offset 64
 177              	.LVL18:
  68:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     lwm2m_transaction_t *transaction;
 178              		.loc 1 68 0
 179 0006 476C     		ldr	r7, [r0, #68]
 180              	.LVL19:
  71:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     uint8_t block2_more = 0;
 181              		.loc 1 71 0
 182 0008 0023     		movs	r3, #0
 183 000a 0993     		str	r3, [sp, #36]
  72:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     uint16_t block_size = FW_BLOCK_SIZE;
 184              		.loc 1 72 0
 185 000c 8DF82330 		strb	r3, [sp, #35]
  73:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     uint32_t block_offset = 0;
 186              		.loc 1 73 0
 187 0010 4FF40072 		mov	r2, #512
 188 0014 ADF82020 		strh	r2, [sp, #32]	@ movhi
  74:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     int ret = 0;
 189              		.loc 1 74 0
 190 0018 0793     		str	r3, [sp, #28]
 191              	.LVL20:
  77:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     {
 192              		.loc 1 77 0
 193 001a 61B3     		cbz	r1, .L46
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s 			page 8


 194 001c 0646     		mov	r6, r0
 195 001e 0C46     		mov	r4, r1
  83:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     {
 196              		.loc 1 83 0
 197 0020 07AB     		add	r3, sp, #28
 198 0022 0093     		str	r3, [sp]
 199 0024 08AB     		add	r3, sp, #32
 200 0026 0DF12302 		add	r2, sp, #35
 201 002a 09A9     		add	r1, sp, #36
 202              	.LVL21:
 203 002c 2046     		mov	r0, r4
 204              	.LVL22:
 205 002e FFF7FEFF 		bl	coap_get_header_block2
 206              	.LVL23:
 207 0032 0128     		cmp	r0, #1
 208 0034 45D0     		beq	.L19
  85:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         goto failed_exit;
 209              		.loc 1 85 0
 210 0036 FFF7FEFF 		bl	atiny_get_log_level
 211              	.LVL24:
 212 003a 0328     		cmp	r0, #3
 213 003c 31D9     		bls	.L47
  70:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     uint32_t block_num = 0;
 214              		.loc 1 70 0
 215 003e 0025     		movs	r5, #0
 216              	.LVL25:
 217              	.L18:
 165:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         (void)g_fota_storage_device->write_software_end(g_fota_storage_device, PACK_DOWNLOAD_FAIL, 
 218              		.loc 1 165 0
 219 0040 B14B     		ldr	r3, .L61
 220 0042 1868     		ldr	r0, [r3]
 221 0044 0028     		cmp	r0, #0
 222 0046 00F0B181 		beq	.L37
 165:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         (void)g_fota_storage_device->write_software_end(g_fota_storage_device, PACK_DOWNLOAD_FAIL, 
 223              		.loc 1 165 0 is_stmt 0 discriminator 1
 224 004a 4368     		ldr	r3, [r0, #4]
 225 004c 002B     		cmp	r3, #0
 226 004e 00F0AD81 		beq	.L37
 166:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     else if(NULL == g_fota_storage_device)
 227              		.loc 1 166 0 is_stmt 1
 228 0052 2A46     		mov	r2, r5
 229 0054 0121     		movs	r1, #1
 230 0056 9847     		blx	r3
 231              	.LVL26:
 232              	.L38:
 171:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     if(g_firmware_update_notify)
 233              		.loc 1 171 0
 234 0058 FFF7FEFF 		bl	atiny_get_log_level
 235              	.LVL27:
 236 005c 0128     		cmp	r0, #1
 237 005e 40F2CE81 		bls	.L48
 238              	.L40:
 172:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         g_firmware_update_notify(FIRMWARE_UPDATE_RST_FAILED, g_firmware_update_notify_param);
 239              		.loc 1 172 0
 240 0062 AA4B     		ldr	r3, .L61+4
 241 0064 1B68     		ldr	r3, [r3]
 242 0066 1BB1     		cbz	r3, .L16
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s 			page 9


 173:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     return;
 243              		.loc 1 173 0
 244 0068 A94A     		ldr	r2, .L61+8
 245 006a 1168     		ldr	r1, [r2]
 246 006c 0120     		movs	r0, #1
 247 006e 9847     		blx	r3
 248              	.LVL28:
 249              	.L16:
 175:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** 
 250              		.loc 1 175 0
 251 0070 0AB0     		add	sp, sp, #40
 252              	.LCFI8:
 253              		.cfi_remember_state
 254              		.cfi_def_cfa_offset 24
 255              		@ sp needed
 256 0072 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 257              	.LVL29:
 258              	.L46:
 259              	.LCFI9:
 260              		.cfi_restore_state
  79:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         goto failed_exit;
 261              		.loc 1 79 0
 262 0076 FFF7FEFF 		bl	atiny_get_log_level
 263              	.LVL30:
 264 007a 0128     		cmp	r0, #1
 265 007c 01D9     		bls	.L49
  70:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     uint32_t block_num = 0;
 266              		.loc 1 70 0
 267 007e 0025     		movs	r5, #0
 268 0080 DEE7     		b	.L18
 269              	.L49:
  79:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         goto failed_exit;
 270              		.loc 1 79 0 discriminator 1
 271 0082 0120     		movs	r0, #1
 272 0084 FFF7FEFF 		bl	atiny_get_log_level_name
 273              	.LVL31:
 274 0088 0446     		mov	r4, r0
 275 008a FFF7FEFF 		bl	atiny_gettime_ms
 276              	.LVL32:
 277 008e 4F23     		movs	r3, #79
 278 0090 0093     		str	r3, [sp]
 279 0092 A04B     		ldr	r3, .L61+12
 280 0094 0246     		mov	r2, r0
 281 0096 2146     		mov	r1, r4
 282 0098 9F48     		ldr	r0, .L61+16
 283 009a FFF7FEFF 		bl	atiny_printf
 284              	.LVL33:
  70:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     uint32_t block_num = 0;
 285              		.loc 1 70 0 discriminator 1
 286 009e 0025     		movs	r5, #0
 287 00a0 CEE7     		b	.L18
 288              	.LVL34:
 289              	.L47:
  85:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         goto failed_exit;
 290              		.loc 1 85 0 discriminator 1
 291 00a2 0320     		movs	r0, #3
 292 00a4 FFF7FEFF 		bl	atiny_get_log_level_name
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s 			page 10


 293              	.LVL35:
 294 00a8 0446     		mov	r4, r0
 295              	.LVL36:
 296 00aa FFF7FEFF 		bl	atiny_gettime_ms
 297              	.LVL37:
 298 00ae 5523     		movs	r3, #85
 299 00b0 0093     		str	r3, [sp]
 300 00b2 984B     		ldr	r3, .L61+12
 301 00b4 0246     		mov	r2, r0
 302 00b6 2146     		mov	r1, r4
 303 00b8 9848     		ldr	r0, .L61+20
 304 00ba FFF7FEFF 		bl	atiny_printf
 305              	.LVL38:
  70:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     uint32_t block_num = 0;
 306              		.loc 1 70 0 discriminator 1
 307 00be 0025     		movs	r5, #0
 308 00c0 BEE7     		b	.L18
 309              	.LVL39:
 310              	.L19:
  88:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****               block_num, (uint32_t)block2_more, block_offset, packet->payload_len);
 311              		.loc 1 88 0
 312 00c2 FFF7FEFF 		bl	atiny_get_log_level
 313              	.LVL40:
 314 00c6 0328     		cmp	r0, #3
 315 00c8 57D9     		bls	.L50
 316              	.L20:
  91:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     {
 317              		.loc 1 91 0
 318 00ca 099A     		ldr	r2, [sp, #36]
 319 00cc 12B9     		cbnz	r2, .L21
  93:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     }
 320              		.loc 1 93 0
 321 00ce 944B     		ldr	r3, .L61+24
 322 00d0 0121     		movs	r1, #1
 323 00d2 1970     		strb	r1, [r3]
 324              	.L21:
  96:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     g_fw_update_record.block_num = block_num;
 325              		.loc 1 96 0
 326 00d4 924B     		ldr	r3, .L61+24
 327 00d6 BDF82010 		ldrh	r1, [sp, #32]
 328 00da 5980     		strh	r1, [r3, #2]	@ movhi
  97:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     g_fw_update_record.block_offset = block_offset;
 329              		.loc 1 97 0
 330 00dc 5A60     		str	r2, [r3, #4]
  98:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     g_fw_update_record.block_more = block2_more;
 331              		.loc 1 98 0
 332 00de 0799     		ldr	r1, [sp, #28]
 333 00e0 9960     		str	r1, [r3, #8]
  99:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** 
 334              		.loc 1 99 0
 335 00e2 9DF82320 		ldrb	r2, [sp, #35]	@ zero_extendqisi2
 336 00e6 5A70     		strb	r2, [r3, #1]
 101:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     if(g_fota_storage_device && g_fota_storage_device->write_software)
 337              		.loc 1 101 0
 338 00e8 B4F88650 		ldrh	r5, [r4, #134]
 339              	.LVL41:
 102:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     {
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s 			page 11


 340              		.loc 1 102 0
 341 00ec 864B     		ldr	r3, .L61
 342 00ee 1868     		ldr	r0, [r3]
 343 00f0 0028     		cmp	r0, #0
 344 00f2 5BD0     		beq	.L22
 102:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     {
 345              		.loc 1 102 0 is_stmt 0 discriminator 1
 346 00f4 D0F80080 		ldr	r8, [r0]
 347 00f8 B8F1000F 		cmp	r8, #0
 348 00fc 56D0     		beq	.L22
 104:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         if(ret != 0)
 349              		.loc 1 104 0 is_stmt 1
 350 00fe 2B46     		mov	r3, r5
 351 0100 D4F88820 		ldr	r2, [r4, #136]
 352 0104 C047     		blx	r8
 353              	.LVL42:
 105:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****             goto failed_exit;
 354              		.loc 1 105 0
 355 0106 0028     		cmp	r0, #0
 356 0108 9AD1     		bne	.L18
 357              	.LVL43:
 358              	.L23:
 113:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** 
 359              		.loc 1 113 0
 360 010a B4F88650 		ldrh	r5, [r4, #134]
 361 010e 079B     		ldr	r3, [sp, #28]
 362 0110 1D44     		add	r5, r5, r3
 363              	.LVL44:
 115:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     {
 364              		.loc 1 115 0
 365 0112 9DF82330 		ldrb	r3, [sp, #35]	@ zero_extendqisi2
 366 0116 002B     		cmp	r3, #0
 367 0118 6FD1     		bne	.L51
 368              	.LVL45:
 152:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****             ret = g_fota_storage_device->write_software_end(g_fota_storage_device, PACK_DOWNLOAD_OK
 369              		.loc 1 152 0
 370 011a 7B4B     		ldr	r3, .L61
 371 011c 1868     		ldr	r0, [r3]
 372 011e 0028     		cmp	r0, #0
 373 0120 00F0E380 		beq	.L32
 152:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****             ret = g_fota_storage_device->write_software_end(g_fota_storage_device, PACK_DOWNLOAD_OK
 374              		.loc 1 152 0 is_stmt 0 discriminator 1
 375 0124 4368     		ldr	r3, [r0, #4]
 376 0126 002B     		cmp	r3, #0
 377 0128 00F0DF80 		beq	.L32
 153:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         else if(NULL == g_fota_storage_device)
 378              		.loc 1 153 0 is_stmt 1
 379 012c 2A46     		mov	r2, r5
 380 012e 0021     		movs	r1, #0
 381 0130 9847     		blx	r3
 382              	.LVL46:
 383 0132 0446     		mov	r4, r0
 384              	.LVL47:
 385              	.L33:
 158:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         if(g_firmware_update_notify)
 386              		.loc 1 158 0
 387 0134 FFF7FEFF 		bl	atiny_get_log_level
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s 			page 12


 388              	.LVL48:
 389 0138 0328     		cmp	r0, #3
 390 013a 40F22781 		bls	.L52
 391              	.LVL49:
 392              	.L35:
 159:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****             g_firmware_update_notify((ret == ATINY_OK) ?  FIRMWARE_UPDATE_RST_SUCCESS : FIRMWARE_UP
 393              		.loc 1 159 0
 394 013e 734B     		ldr	r3, .L61+4
 395 0140 1B68     		ldr	r3, [r3]
 396 0142 2BB1     		cbz	r3, .L36
 160:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         ATINY_LOG(LOG_ERR, "download success, total size : %lu, write end ret %d", len, ret);
 397              		.loc 1 160 0
 398 0144 724A     		ldr	r2, .L61+8
 399 0146 1168     		ldr	r1, [r2]
 400 0148 201C     		adds	r0, r4, #0
 401 014a 18BF     		it	ne
 402 014c 0120     		movne	r0, #1
 403 014e 9847     		blx	r3
 404              	.LVL50:
 405              	.L36:
 161:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     }
 406              		.loc 1 161 0
 407 0150 FFF7FEFF 		bl	atiny_get_log_level
 408              	.LVL51:
 409 0154 0328     		cmp	r0, #3
 410 0156 8BD8     		bhi	.L16
 161:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     }
 411              		.loc 1 161 0 is_stmt 0 discriminator 1
 412 0158 0320     		movs	r0, #3
 413 015a FFF7FEFF 		bl	atiny_get_log_level_name
 414              	.LVL52:
 415 015e 0646     		mov	r6, r0
 416 0160 FFF7FEFF 		bl	atiny_gettime_ms
 417              	.LVL53:
 418 0164 0294     		str	r4, [sp, #8]
 419 0166 0195     		str	r5, [sp, #4]
 420 0168 A123     		movs	r3, #161
 421 016a 0093     		str	r3, [sp]
 422 016c 694B     		ldr	r3, .L61+12
 423 016e 0246     		mov	r2, r0
 424 0170 3146     		mov	r1, r6
 425 0172 6C48     		ldr	r0, .L61+28
 426 0174 FFF7FEFF 		bl	atiny_printf
 427              	.LVL54:
 428 0178 7AE7     		b	.L16
 429              	.LVL55:
 430              	.L50:
  88:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****               block_num, (uint32_t)block2_more, block_offset, packet->payload_len);
 431              		.loc 1 88 0 is_stmt 1 discriminator 1
 432 017a 0320     		movs	r0, #3
 433 017c FFF7FEFF 		bl	atiny_get_log_level_name
 434              	.LVL56:
 435 0180 0546     		mov	r5, r0
 436 0182 FFF7FEFF 		bl	atiny_gettime_ms
 437              	.LVL57:
 438 0186 9DF82330 		ldrb	r3, [sp, #35]	@ zero_extendqisi2
 439 018a B4F88620 		ldrh	r2, [r4, #134]
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s 			page 13


 440 018e 0492     		str	r2, [sp, #16]
 441 0190 079A     		ldr	r2, [sp, #28]
 442 0192 0392     		str	r2, [sp, #12]
 443 0194 0293     		str	r3, [sp, #8]
 444 0196 099B     		ldr	r3, [sp, #36]
 445 0198 0193     		str	r3, [sp, #4]
 446 019a 5923     		movs	r3, #89
 447 019c 0093     		str	r3, [sp]
 448 019e 5D4B     		ldr	r3, .L61+12
 449 01a0 0246     		mov	r2, r0
 450 01a2 2946     		mov	r1, r5
 451 01a4 6048     		ldr	r0, .L61+32
 452 01a6 FFF7FEFF 		bl	atiny_printf
 453              	.LVL58:
 454 01aa 8EE7     		b	.L20
 455              	.LVL59:
 456              	.L22:
 108:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         ATINY_LOG(LOG_ERR, "g_fota_storage_device NULL");
 457              		.loc 1 108 0
 458 01ac 90B1     		cbz	r0, .L53
 111:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** 
 459              		.loc 1 111 0
 460 01ae FFF7FEFF 		bl	atiny_get_log_level
 461              	.LVL60:
 462 01b2 0328     		cmp	r0, #3
 463 01b4 A9D8     		bhi	.L23
 111:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** 
 464              		.loc 1 111 0 is_stmt 0 discriminator 1
 465 01b6 0320     		movs	r0, #3
 466 01b8 FFF7FEFF 		bl	atiny_get_log_level_name
 467              	.LVL61:
 468 01bc 0546     		mov	r5, r0
 469              	.LVL62:
 470 01be FFF7FEFF 		bl	atiny_gettime_ms
 471              	.LVL63:
 472 01c2 6F23     		movs	r3, #111
 473 01c4 0093     		str	r3, [sp]
 474 01c6 534B     		ldr	r3, .L61+12
 475 01c8 0246     		mov	r2, r0
 476 01ca 2946     		mov	r1, r5
 477 01cc 5748     		ldr	r0, .L61+36
 478 01ce FFF7FEFF 		bl	atiny_printf
 479              	.LVL64:
 480 01d2 9AE7     		b	.L23
 481              	.LVL65:
 482              	.L53:
 109:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     else
 483              		.loc 1 109 0 is_stmt 1
 484 01d4 FFF7FEFF 		bl	atiny_get_log_level
 485              	.LVL66:
 486 01d8 0328     		cmp	r0, #3
 487 01da 96D8     		bhi	.L23
 109:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     else
 488              		.loc 1 109 0 is_stmt 0 discriminator 1
 489 01dc 0320     		movs	r0, #3
 490 01de FFF7FEFF 		bl	atiny_get_log_level_name
 491              	.LVL67:
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s 			page 14


 492 01e2 0546     		mov	r5, r0
 493              	.LVL68:
 494 01e4 FFF7FEFF 		bl	atiny_gettime_ms
 495              	.LVL69:
 496 01e8 6D23     		movs	r3, #109
 497 01ea 0093     		str	r3, [sp]
 498 01ec 494B     		ldr	r3, .L61+12
 499 01ee 0246     		mov	r2, r0
 500 01f0 2946     		mov	r1, r5
 501 01f2 4F48     		ldr	r0, .L61+40
 502 01f4 FFF7FEFF 		bl	atiny_printf
 503              	.LVL70:
 504 01f8 87E7     		b	.L23
 505              	.LVL71:
 506              	.L51:
 117:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         if(!transaction)
 507              		.loc 1 117 0 is_stmt 1
 508 01fa B068     		ldr	r0, [r6, #8]
 509 01fc BB8D     		ldrh	r3, [r7, #44]
 510 01fe 5A1C     		adds	r2, r3, #1
 511 0200 BA85     		strh	r2, [r7, #44]	@ movhi
 512 0202 0022     		movs	r2, #0
 513 0204 0292     		str	r2, [sp, #8]
 514 0206 0421     		movs	r1, #4
 515 0208 0191     		str	r1, [sp, #4]
 516 020a 0093     		str	r3, [sp]
 517 020c 1346     		mov	r3, r2
 518 020e 0121     		movs	r1, #1
 519 0210 FFF7FEFF 		bl	transaction_new
 520              	.LVL72:
 118:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         {
 521              		.loc 1 118 0
 522 0214 0446     		mov	r4, r0
 523              	.LVL73:
 524 0216 0028     		cmp	r0, #0
 525 0218 3AD0     		beq	.L54
 123:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         if(ret < 0 || NULL == transaction->message->uri_path)
 526              		.loc 1 123 0
 527 021a 464B     		ldr	r3, .L61+44
 528 021c 1968     		ldr	r1, [r3]
 529 021e 806A     		ldr	r0, [r0, #40]
 530              	.LVL74:
 531 0220 FFF7FEFF 		bl	coap_set_header_uri_path
 532              	.LVL75:
 124:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         {
 533              		.loc 1 124 0
 534 0224 0028     		cmp	r0, #0
 535 0226 47DB     		blt	.L27
 124:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         {
 536              		.loc 1 124 0 is_stmt 0 discriminator 1
 537 0228 A06A     		ldr	r0, [r4, #40]
 538              	.LVL76:
 539 022a 436C     		ldr	r3, [r0, #68]
 540 022c 002B     		cmp	r3, #0
 541 022e 43D0     		beq	.L27
 130:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         if(ret < 0)
 542              		.loc 1 130 0 is_stmt 1
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s 			page 15


 543 0230 3B4B     		ldr	r3, .L61+24
 544 0232 5968     		ldr	r1, [r3, #4]
 545 0234 5B88     		ldrh	r3, [r3, #2]
 546 0236 0022     		movs	r2, #0
 547 0238 0131     		adds	r1, r1, #1
 548 023a FFF7FEFF 		bl	coap_set_header_block2
 549              	.LVL77:
 131:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         {
 550              		.loc 1 131 0
 551 023e 0028     		cmp	r0, #0
 552 0240 3EDB     		blt	.L55
 136:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** 
 553              		.loc 1 136 0
 554 0242 FFF7FEFF 		bl	atiny_get_log_level
 555              	.LVL78:
 556 0246 0028     		cmp	r0, #0
 557 0248 3ED0     		beq	.L56
 558              	.LVL79:
 559              	.L30:
 138:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         transaction->userData = (void *)contextP;
 560              		.loc 1 138 0
 561 024a 3B4B     		ldr	r3, .L61+48
 562 024c 2364     		str	r3, [r4, #64]
 139:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** 
 563              		.loc 1 139 0
 564 024e 6764     		str	r7, [r4, #68]
 141:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** 
 565              		.loc 1 141 0
 566 0250 2146     		mov	r1, r4
 567 0252 386B     		ldr	r0, [r7, #48]
 568 0254 FFF7FEFF 		bl	lwm2m_list_add
 569              	.LVL80:
 570 0258 3863     		str	r0, [r7, #48]
 143:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         {
 571              		.loc 1 143 0
 572 025a 2146     		mov	r1, r4
 573 025c 3846     		mov	r0, r7
 574 025e FFF7FEFF 		bl	transaction_send
 575              	.LVL81:
 576 0262 0028     		cmp	r0, #0
 577 0264 3FF404AF 		beq	.L16
 145:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****             goto failed_exit;
 578              		.loc 1 145 0
 579 0268 FFF7FEFF 		bl	atiny_get_log_level
 580              	.LVL82:
 581 026c 0328     		cmp	r0, #3
 582 026e 3FF6E7AE 		bhi	.L18
 145:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****             goto failed_exit;
 583              		.loc 1 145 0 is_stmt 0 discriminator 1
 584 0272 0320     		movs	r0, #3
 585 0274 FFF7FEFF 		bl	atiny_get_log_level_name
 586              	.LVL83:
 587 0278 0446     		mov	r4, r0
 588              	.LVL84:
 589 027a FFF7FEFF 		bl	atiny_gettime_ms
 590              	.LVL85:
 591 027e 9123     		movs	r3, #145
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s 			page 16


 592 0280 0093     		str	r3, [sp]
 593 0282 244B     		ldr	r3, .L61+12
 594 0284 0246     		mov	r2, r0
 595 0286 2146     		mov	r1, r4
 596 0288 2C48     		ldr	r0, .L61+52
 597 028a FFF7FEFF 		bl	atiny_printf
 598              	.LVL86:
 599 028e D7E6     		b	.L18
 600              	.LVL87:
 601              	.L54:
 120:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****             goto failed_exit;
 602              		.loc 1 120 0 is_stmt 1
 603 0290 FFF7FEFF 		bl	atiny_get_log_level
 604              	.LVL88:
 605 0294 0328     		cmp	r0, #3
 606 0296 3FF6D3AE 		bhi	.L18
 120:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****             goto failed_exit;
 607              		.loc 1 120 0 is_stmt 0 discriminator 1
 608 029a 0320     		movs	r0, #3
 609 029c FFF7FEFF 		bl	atiny_get_log_level_name
 610              	.LVL89:
 611 02a0 0446     		mov	r4, r0
 612              	.LVL90:
 613 02a2 FFF7FEFF 		bl	atiny_gettime_ms
 614              	.LVL91:
 615 02a6 7823     		movs	r3, #120
 616 02a8 0093     		str	r3, [sp]
 617 02aa 1A4B     		ldr	r3, .L61+12
 618 02ac 0246     		mov	r2, r0
 619 02ae 2146     		mov	r1, r4
 620 02b0 2348     		ldr	r0, .L61+56
 621 02b2 FFF7FEFF 		bl	atiny_printf
 622              	.LVL92:
 623 02b6 C3E6     		b	.L18
 624              	.LVL93:
 625              	.L27:
 126:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****             goto failed_exit;
 626              		.loc 1 126 0 is_stmt 1
 627 02b8 2046     		mov	r0, r4
 628 02ba FFF7FEFF 		bl	transaction_free
 629              	.LVL94:
 127:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         }
 630              		.loc 1 127 0
 631 02be BFE6     		b	.L18
 632              	.LVL95:
 633              	.L55:
 133:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****             goto failed_exit;
 634              		.loc 1 133 0
 635 02c0 2046     		mov	r0, r4
 636              	.LVL96:
 637 02c2 FFF7FEFF 		bl	transaction_free
 638              	.LVL97:
 134:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         }
 639              		.loc 1 134 0
 640 02c6 BBE6     		b	.L18
 641              	.L56:
 136:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** 
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s 			page 17


 642              		.loc 1 136 0 discriminator 1
 643 02c8 FFF7FEFF 		bl	atiny_get_log_level_name
 644              	.LVL98:
 645 02cc 0646     		mov	r6, r0
 646              	.LVL99:
 647 02ce FFF7FEFF 		bl	atiny_gettime_ms
 648              	.LVL100:
 649 02d2 099B     		ldr	r3, [sp, #36]
 650 02d4 0133     		adds	r3, r3, #1
 651 02d6 0193     		str	r3, [sp, #4]
 652 02d8 8823     		movs	r3, #136
 653 02da 0093     		str	r3, [sp]
 654 02dc 0D4B     		ldr	r3, .L61+12
 655 02de 0246     		mov	r2, r0
 656 02e0 3146     		mov	r1, r6
 657 02e2 1848     		ldr	r0, .L61+60
 658 02e4 FFF7FEFF 		bl	atiny_printf
 659              	.LVL101:
 660 02e8 AFE7     		b	.L30
 661              	.LVL102:
 662              	.L32:
 154:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****             ATINY_LOG(LOG_ERR, "g_fota_storage_device NULL");
 663              		.loc 1 154 0
 664 02ea 30B1     		cbz	r0, .L57
 157:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         ATINY_LOG(LOG_ERR, "g_firmware_update_notify FIRMWARE_UPDATE_RST_SUCCESS, write end ret %d"
 665              		.loc 1 157 0
 666 02ec FFF7FEFF 		bl	atiny_get_log_level
 667              	.LVL103:
 668 02f0 0328     		cmp	r0, #3
 669 02f2 3AD9     		bls	.L58
 151:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         if(g_fota_storage_device && g_fota_storage_device->write_software_end)
 670              		.loc 1 151 0
 671 02f4 6FF00804 		mvn	r4, #8
 672              	.LVL104:
 673 02f8 1CE7     		b	.L33
 674              	.LVL105:
 675              	.L57:
 155:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         else
 676              		.loc 1 155 0
 677 02fa FFF7FEFF 		bl	atiny_get_log_level
 678              	.LVL106:
 679 02fe 0328     		cmp	r0, #3
 680 0300 22D9     		bls	.L59
 151:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         if(g_fota_storage_device && g_fota_storage_device->write_software_end)
 681              		.loc 1 151 0
 682 0302 6FF00804 		mvn	r4, #8
 683              	.LVL107:
 684 0306 15E7     		b	.L33
 685              	.L62:
 686              		.align	2
 687              	.L61:
 688 0308 00000000 		.word	.LANCHOR3
 689 030c 00000000 		.word	.LANCHOR5
 690 0310 00000000 		.word	.LANCHOR6
 691 0314 00000000 		.word	.LANCHOR2
 692 0318 00000000 		.word	.LC1
 693 031c 28000000 		.word	.LC2
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s 			page 18


 694 0320 00000000 		.word	.LANCHOR0
 695 0324 40020000 		.word	.LC11
 696 0328 58000000 		.word	.LC3
 697 032c E4000000 		.word	.LC5
 698 0330 B4000000 		.word	.LC4
 699 0334 00000000 		.word	.LANCHOR4
 700 0338 00000000 		.word	firmware_download_reply
 701 033c 74010000 		.word	.LC8
 702 0340 24010000 		.word	.LC6
 703 0344 50010000 		.word	.LC7
 704              	.LVL108:
 705              	.L59:
 155:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         else
 706              		.loc 1 155 0 discriminator 1
 707 0348 0320     		movs	r0, #3
 708 034a FFF7FEFF 		bl	atiny_get_log_level_name
 709              	.LVL109:
 710 034e 0446     		mov	r4, r0
 711              	.LVL110:
 712 0350 FFF7FEFF 		bl	atiny_gettime_ms
 713              	.LVL111:
 714 0354 9B23     		movs	r3, #155
 715 0356 0093     		str	r3, [sp]
 716 0358 304B     		ldr	r3, .L63
 717 035a 0246     		mov	r2, r0
 718 035c 2146     		mov	r1, r4
 719 035e 3048     		ldr	r0, .L63+4
 720 0360 FFF7FEFF 		bl	atiny_printf
 721              	.LVL112:
 151:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         if(g_fota_storage_device && g_fota_storage_device->write_software_end)
 722              		.loc 1 151 0 discriminator 1
 723 0364 6FF00804 		mvn	r4, #8
 724 0368 E4E6     		b	.L33
 725              	.LVL113:
 726              	.L58:
 157:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         ATINY_LOG(LOG_ERR, "g_firmware_update_notify FIRMWARE_UPDATE_RST_SUCCESS, write end ret %d"
 727              		.loc 1 157 0 discriminator 1
 728 036a 0320     		movs	r0, #3
 729 036c FFF7FEFF 		bl	atiny_get_log_level_name
 730              	.LVL114:
 731 0370 0446     		mov	r4, r0
 732              	.LVL115:
 733 0372 FFF7FEFF 		bl	atiny_gettime_ms
 734              	.LVL116:
 735 0376 9D23     		movs	r3, #157
 736 0378 0093     		str	r3, [sp]
 737 037a 284B     		ldr	r3, .L63
 738 037c 0246     		mov	r2, r0
 739 037e 2146     		mov	r1, r4
 740 0380 2848     		ldr	r0, .L63+8
 741 0382 FFF7FEFF 		bl	atiny_printf
 742              	.LVL117:
 151:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         if(g_fota_storage_device && g_fota_storage_device->write_software_end)
 743              		.loc 1 151 0 discriminator 1
 744 0386 6FF00804 		mvn	r4, #8
 745 038a D3E6     		b	.L33
 746              	.LVL118:
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s 			page 19


 747              	.L52:
 158:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         if(g_firmware_update_notify)
 748              		.loc 1 158 0 discriminator 1
 749 038c 0320     		movs	r0, #3
 750 038e FFF7FEFF 		bl	atiny_get_log_level_name
 751              	.LVL119:
 752 0392 0646     		mov	r6, r0
 753              	.LVL120:
 754 0394 FFF7FEFF 		bl	atiny_gettime_ms
 755              	.LVL121:
 756 0398 0194     		str	r4, [sp, #4]
 757 039a 9E23     		movs	r3, #158
 758 039c 0093     		str	r3, [sp]
 759 039e 1F4B     		ldr	r3, .L63
 760 03a0 0246     		mov	r2, r0
 761 03a2 3146     		mov	r1, r6
 762 03a4 2048     		ldr	r0, .L63+12
 763 03a6 FFF7FEFF 		bl	atiny_printf
 764              	.LVL122:
 765 03aa C8E6     		b	.L35
 766              	.LVL123:
 767              	.L37:
 167:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         ATINY_LOG(LOG_ERR, "g_fota_storage_device NULL");
 768              		.loc 1 167 0
 769 03ac 98B1     		cbz	r0, .L60
 170:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     ATINY_LOG(LOG_INFO, "g_firmware_update_notify FIRMWARE_UPDATE_RST_FAILED");
 770              		.loc 1 170 0
 771 03ae FFF7FEFF 		bl	atiny_get_log_level
 772              	.LVL124:
 773 03b2 0328     		cmp	r0, #3
 774 03b4 3FF650AE 		bhi	.L38
 170:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     ATINY_LOG(LOG_INFO, "g_firmware_update_notify FIRMWARE_UPDATE_RST_FAILED");
 775              		.loc 1 170 0 is_stmt 0 discriminator 1
 776 03b8 0320     		movs	r0, #3
 777 03ba FFF7FEFF 		bl	atiny_get_log_level_name
 778              	.LVL125:
 779 03be 0446     		mov	r4, r0
 780 03c0 FFF7FEFF 		bl	atiny_gettime_ms
 781              	.LVL126:
 782 03c4 AA23     		movs	r3, #170
 783 03c6 0093     		str	r3, [sp]
 784 03c8 144B     		ldr	r3, .L63
 785 03ca 0246     		mov	r2, r0
 786 03cc 2146     		mov	r1, r4
 787 03ce 1548     		ldr	r0, .L63+8
 788 03d0 FFF7FEFF 		bl	atiny_printf
 789              	.LVL127:
 790 03d4 40E6     		b	.L38
 791              	.L60:
 168:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     else
 792              		.loc 1 168 0 is_stmt 1
 793 03d6 FFF7FEFF 		bl	atiny_get_log_level
 794              	.LVL128:
 795 03da 0328     		cmp	r0, #3
 796 03dc 3FF63CAE 		bhi	.L38
 168:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     else
 797              		.loc 1 168 0 is_stmt 0 discriminator 1
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s 			page 20


 798 03e0 0320     		movs	r0, #3
 799 03e2 FFF7FEFF 		bl	atiny_get_log_level_name
 800              	.LVL129:
 801 03e6 0446     		mov	r4, r0
 802 03e8 FFF7FEFF 		bl	atiny_gettime_ms
 803              	.LVL130:
 804 03ec A823     		movs	r3, #168
 805 03ee 0093     		str	r3, [sp]
 806 03f0 0A4B     		ldr	r3, .L63
 807 03f2 0246     		mov	r2, r0
 808 03f4 2146     		mov	r1, r4
 809 03f6 0A48     		ldr	r0, .L63+4
 810 03f8 FFF7FEFF 		bl	atiny_printf
 811              	.LVL131:
 812 03fc 2CE6     		b	.L38
 813              	.L48:
 171:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     if(g_firmware_update_notify)
 814              		.loc 1 171 0 is_stmt 1 discriminator 1
 815 03fe 0120     		movs	r0, #1
 816 0400 FFF7FEFF 		bl	atiny_get_log_level_name
 817              	.LVL132:
 818 0404 0446     		mov	r4, r0
 819 0406 FFF7FEFF 		bl	atiny_gettime_ms
 820              	.LVL133:
 821 040a AB23     		movs	r3, #171
 822 040c 0093     		str	r3, [sp]
 823 040e 034B     		ldr	r3, .L63
 824 0410 0246     		mov	r2, r0
 825 0412 2146     		mov	r1, r4
 826 0414 0548     		ldr	r0, .L63+16
 827 0416 FFF7FEFF 		bl	atiny_printf
 828              	.LVL134:
 829 041a 22E6     		b	.L40
 830              	.L64:
 831              		.align	2
 832              	.L63:
 833 041c 00000000 		.word	.LANCHOR2
 834 0420 B4000000 		.word	.LC4
 835 0424 A0010000 		.word	.LC9
 836 0428 E4010000 		.word	.LC10
 837 042c 88020000 		.word	.LC12
 838              		.cfi_endproc
 839              	.LFE134:
 841              		.section	.text.update_uri_info,"ax",%progbits
 842              		.align	1
 843              		.syntax unified
 844              		.thumb
 845              		.thumb_func
 846              		.fpu fpv4-sp-d16
 848              	update_uri_info:
 849              	.LFB136:
 196:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** 
 197:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** static int update_uri_info(char *uri, int uri_len, unsigned char *update_flag)
 198:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** {
 850              		.loc 1 198 0
 851              		.cfi_startproc
 852              		@ args = 0, pretend = 0, frame = 0
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s 			page 21


 853              		@ frame_needed = 0, uses_anonymous_args = 0
 854              	.LVL135:
 199:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     int ret = -1;
 200:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** 
 201:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     if(!uri || *uri == '\0' || uri_len <= 0 || !update_flag)
 855              		.loc 1 201 0
 856 0000 0028     		cmp	r0, #0
 857 0002 4CD0     		beq	.L69
 198:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     int ret = -1;
 858              		.loc 1 198 0 discriminator 1
 859 0004 F0B5     		push	{r4, r5, r6, r7, lr}
 860              	.LCFI10:
 861              		.cfi_def_cfa_offset 20
 862              		.cfi_offset 4, -20
 863              		.cfi_offset 5, -16
 864              		.cfi_offset 6, -12
 865              		.cfi_offset 7, -8
 866              		.cfi_offset 14, -4
 867 0006 83B0     		sub	sp, sp, #12
 868              	.LCFI11:
 869              		.cfi_def_cfa_offset 32
 870 0008 0546     		mov	r5, r0
 871              		.loc 1 201 0 discriminator 1
 872 000a 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 873              	.LVL136:
 874 000c 0028     		cmp	r0, #0
 875 000e 4AD0     		beq	.L70
 876              		.loc 1 201 0 is_stmt 0 discriminator 2
 877 0010 0029     		cmp	r1, #0
 878 0012 4BDD     		ble	.L71
 879              		.loc 1 201 0 discriminator 3
 880 0014 002A     		cmp	r2, #0
 881 0016 4CD0     		beq	.L72
 882 0018 1746     		mov	r7, r2
 883 001a 0E46     		mov	r6, r1
 202:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     {
 203:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         return -1;
 204:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     }
 205:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** 
 206:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     if(1 == g_fw_update_record.in_use && NULL != g_fw_update_record.uri && 0 == memcmp(g_fw_update_
 884              		.loc 1 206 0 is_stmt 1
 885 001c 264B     		ldr	r3, .L81
 886 001e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 887 0020 012B     		cmp	r3, #1
 888 0022 16D0     		beq	.L78
 889              	.LVL137:
 890              	.L67:
 207:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     {
 208:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         *update_flag = 0;
 209:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         return 0;
 210:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     }
 211:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     else
 212:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     {
 213:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         if(NULL != g_fw_update_record.uri)
 891              		.loc 1 213 0
 892 0024 244B     		ldr	r3, .L81
 893 0026 1869     		ldr	r0, [r3, #16]
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s 			page 22


 894 0028 08B1     		cbz	r0, .L68
 214:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         {
 215:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****             lwm2m_free(g_fw_update_record.uri);
 895              		.loc 1 215 0
 896 002a FFF7FEFF 		bl	lwm2m_free
 897              	.LVL138:
 898              	.L68:
 216:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****             g_fw_update_record.uri = NULL;
 217:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         }
 218:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         memset(&g_fw_update_record, 0x0, sizeof(g_fw_update_record));
 899              		.loc 1 218 0
 900 002e 224B     		ldr	r3, .L81
 901 0030 0024     		movs	r4, #0
 902 0032 1C60     		str	r4, [r3]
 903 0034 5C60     		str	r4, [r3, #4]
 904 0036 9C60     		str	r4, [r3, #8]
 905 0038 DC60     		str	r4, [r3, #12]
 906 003a 1C61     		str	r4, [r3, #16]
 219:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         ret = record_fw_uri(uri, uri_len);
 907              		.loc 1 219 0
 908 003c 3146     		mov	r1, r6
 909 003e 2846     		mov	r0, r5
 910 0040 FFF7FEFF 		bl	record_fw_uri
 911              	.LVL139:
 220:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         *update_flag = 1;
 912              		.loc 1 220 0
 913 0044 0123     		movs	r3, #1
 914 0046 3B70     		strb	r3, [r7]
 221:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         if(0 != ret)
 915              		.loc 1 221 0
 916 0048 0346     		mov	r3, r0
 917 004a 80B9     		cbnz	r0, .L79
 918              	.LVL140:
 919              	.L65:
 222:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         {
 223:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****             ATINY_LOG(LOG_ERR, "record_fw_uri failed");
 224:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****             return -1;
 225:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         }
 226:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         return 0;
 227:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     }
 228:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** }
 920              		.loc 1 228 0
 921 004c 1846     		mov	r0, r3
 922 004e 03B0     		add	sp, sp, #12
 923              	.LCFI12:
 924              		.cfi_remember_state
 925              		.cfi_def_cfa_offset 20
 926              		@ sp needed
 927 0050 F0BD     		pop	{r4, r5, r6, r7, pc}
 928              	.LVL141:
 929              	.L78:
 930              	.LCFI13:
 931              		.cfi_restore_state
 206:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     {
 932              		.loc 1 206 0 discriminator 1
 933 0052 194B     		ldr	r3, .L81
 934 0054 1869     		ldr	r0, [r3, #16]
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s 			page 23


 935 0056 0028     		cmp	r0, #0
 936 0058 E4D0     		beq	.L67
 206:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     {
 937              		.loc 1 206 0 is_stmt 0 discriminator 2
 938 005a 0A46     		mov	r2, r1
 939              	.LVL142:
 940 005c 2946     		mov	r1, r5
 941              	.LVL143:
 942 005e FFF7FEFF 		bl	memcmp
 943              	.LVL144:
 944 0062 0346     		mov	r3, r0
 945 0064 0028     		cmp	r0, #0
 946 0066 DDD1     		bne	.L67
 208:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         return 0;
 947              		.loc 1 208 0 is_stmt 1
 948 0068 0022     		movs	r2, #0
 949 006a 3A70     		strb	r2, [r7]
 209:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     }
 950              		.loc 1 209 0
 951 006c EEE7     		b	.L65
 952              	.LVL145:
 953              	.L79:
 223:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****             return -1;
 954              		.loc 1 223 0
 955 006e FFF7FEFF 		bl	atiny_get_log_level
 956              	.LVL146:
 957 0072 0328     		cmp	r0, #3
 958 0074 02D9     		bls	.L80
 224:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         }
 959              		.loc 1 224 0
 960 0076 4FF0FF33 		mov	r3, #-1
 961 007a E7E7     		b	.L65
 962              	.L80:
 223:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****             return -1;
 963              		.loc 1 223 0 discriminator 1
 964 007c 0320     		movs	r0, #3
 965 007e FFF7FEFF 		bl	atiny_get_log_level_name
 966              	.LVL147:
 967 0082 0446     		mov	r4, r0
 968 0084 FFF7FEFF 		bl	atiny_gettime_ms
 969              	.LVL148:
 970 0088 DF23     		movs	r3, #223
 971 008a 0093     		str	r3, [sp]
 972 008c 0B4B     		ldr	r3, .L81+4
 973 008e 0246     		mov	r2, r0
 974 0090 2146     		mov	r1, r4
 975 0092 0B48     		ldr	r0, .L81+8
 976 0094 FFF7FEFF 		bl	atiny_printf
 977              	.LVL149:
 224:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         }
 978              		.loc 1 224 0 discriminator 1
 979 0098 4FF0FF33 		mov	r3, #-1
 980 009c D6E7     		b	.L65
 981              	.LVL150:
 982              	.L69:
 983              	.LCFI14:
 984              		.cfi_def_cfa_offset 0
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s 			page 24


 985              		.cfi_restore 4
 986              		.cfi_restore 5
 987              		.cfi_restore 6
 988              		.cfi_restore 7
 989              		.cfi_restore 14
 203:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     }
 990              		.loc 1 203 0
 991 009e 4FF0FF33 		mov	r3, #-1
 992              		.loc 1 228 0
 993 00a2 1846     		mov	r0, r3
 994              	.LVL151:
 995 00a4 7047     		bx	lr
 996              	.LVL152:
 997              	.L70:
 998              	.LCFI15:
 999              		.cfi_def_cfa_offset 32
 1000              		.cfi_offset 4, -20
 1001              		.cfi_offset 5, -16
 1002              		.cfi_offset 6, -12
 1003              		.cfi_offset 7, -8
 1004              		.cfi_offset 14, -4
 203:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     }
 1005              		.loc 1 203 0
 1006 00a6 4FF0FF33 		mov	r3, #-1
 1007 00aa CFE7     		b	.L65
 1008              	.L71:
 1009 00ac 4FF0FF33 		mov	r3, #-1
 1010 00b0 CCE7     		b	.L65
 1011              	.L72:
 1012 00b2 4FF0FF33 		mov	r3, #-1
 1013 00b6 C9E7     		b	.L65
 1014              	.L82:
 1015              		.align	2
 1016              	.L81:
 1017 00b8 00000000 		.word	.LANCHOR0
 1018 00bc 00000000 		.word	.LANCHOR7
 1019 00c0 00000000 		.word	.LC13
 1020              		.cfi_endproc
 1021              	.LFE136:
 1023              		.section	.text.set_firmware_update_notify,"ax",%progbits
 1024              		.align	1
 1025              		.global	set_firmware_update_notify
 1026              		.syntax unified
 1027              		.thumb
 1028              		.thumb_func
 1029              		.fpu fpv4-sp-d16
 1031              	set_firmware_update_notify:
 1032              	.LFB137:
 229:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** 
 230:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** void set_firmware_update_notify(firmware_update_notify notify_cb, void *param)
 231:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** {
 1033              		.loc 1 231 0
 1034              		.cfi_startproc
 1035              		@ args = 0, pretend = 0, frame = 0
 1036              		@ frame_needed = 0, uses_anonymous_args = 0
 1037              		@ link register save eliminated.
 1038              	.LVL153:
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s 			page 25


 232:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     g_firmware_update_notify = notify_cb;
 1039              		.loc 1 232 0
 1040 0000 024B     		ldr	r3, .L84
 1041 0002 1860     		str	r0, [r3]
 233:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     g_firmware_update_notify_param = param;
 1042              		.loc 1 233 0
 1043 0004 024B     		ldr	r3, .L84+4
 1044 0006 1960     		str	r1, [r3]
 234:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** 
 235:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     return;
 236:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** }
 1045              		.loc 1 236 0
 1046 0008 7047     		bx	lr
 1047              	.L85:
 1048 000a 00BF     		.align	2
 1049              	.L84:
 1050 000c 00000000 		.word	.LANCHOR5
 1051 0010 00000000 		.word	.LANCHOR6
 1052              		.cfi_endproc
 1053              	.LFE137:
 1055              		.section	.text.parse_firmware_uri,"ax",%progbits
 1056              		.align	1
 1057              		.global	parse_firmware_uri
 1058              		.syntax unified
 1059              		.thumb
 1060              		.thumb_func
 1061              		.fpu fpv4-sp-d16
 1063              	parse_firmware_uri:
 1064              	.LFB138:
 237:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** 
 238:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** int parse_firmware_uri(char *uri, int uri_len)
 239:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** {
 1065              		.loc 1 239 0
 1066              		.cfi_startproc
 1067              		@ args = 0, pretend = 0, frame = 0
 1068              		@ frame_needed = 0, uses_anonymous_args = 0
 1069              	.LVL154:
 240:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     char *char_p, *path;
 241:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     int path_len, proto_len;
 242:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** 
 243:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     if(!uri || *uri == '\0' || uri_len <= 0)
 1070              		.loc 1 243 0
 1071 0000 0028     		cmp	r0, #0
 1072 0002 60D0     		beq	.L90
 239:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     char *char_p, *path;
 1073              		.loc 1 239 0 discriminator 1
 1074 0004 70B5     		push	{r4, r5, r6, lr}
 1075              	.LCFI16:
 1076              		.cfi_def_cfa_offset 16
 1077              		.cfi_offset 4, -16
 1078              		.cfi_offset 5, -12
 1079              		.cfi_offset 6, -8
 1080              		.cfi_offset 14, -4
 1081 0006 82B0     		sub	sp, sp, #8
 1082              	.LCFI17:
 1083              		.cfi_def_cfa_offset 24
 1084 0008 0446     		mov	r4, r0
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s 			page 26


 1085              		.loc 1 243 0 discriminator 1
 1086 000a 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 1087 000c 002B     		cmp	r3, #0
 1088 000e 5DD0     		beq	.L91
 1089              		.loc 1 243 0 is_stmt 0 discriminator 2
 1090 0010 0029     		cmp	r1, #0
 1091 0012 5EDD     		ble	.L92
 1092 0014 0D46     		mov	r5, r1
 244:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     {
 245:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         return -1;
 246:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     }
 247:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** 
 248:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     if(0 == strncmp(uri, COAP_PROTO_PREFIX, strlen(COAP_PROTO_PREFIX)))
 1093              		.loc 1 248 0 is_stmt 1
 1094 0016 0722     		movs	r2, #7
 1095 0018 3249     		ldr	r1, .L107
 1096              	.LVL155:
 1097 001a FFF7FEFF 		bl	strncmp
 1098              	.LVL156:
 1099 001e F8B1     		cbz	r0, .L93
 249:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         proto_len = strlen(COAP_PROTO_PREFIX);
 250:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     else if(0 == strncmp(uri, COAPS_PROTO_PREFIX, strlen(COAPS_PROTO_PREFIX)))
 1100              		.loc 1 250 0
 1101 0020 0822     		movs	r2, #8
 1102 0022 3149     		ldr	r1, .L107+4
 1103 0024 2046     		mov	r0, r4
 1104 0026 FFF7FEFF 		bl	strncmp
 1105              	.LVL157:
 1106 002a 08B9     		cbnz	r0, .L103
 251:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         proto_len = strlen(COAPS_PROTO_PREFIX);
 1107              		.loc 1 251 0
 1108 002c 0823     		movs	r3, #8
 1109 002e 18E0     		b	.L88
 1110              	.L103:
 252:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     else
 253:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     {
 254:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         ATINY_LOG(LOG_ERR, "unsupported proto");
 1111              		.loc 1 254 0
 1112 0030 FFF7FEFF 		bl	atiny_get_log_level
 1113              	.LVL158:
 1114 0034 0328     		cmp	r0, #3
 1115 0036 02D9     		bls	.L104
 255:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         return -1;
 1116              		.loc 1 255 0
 1117 0038 4FF0FF30 		mov	r0, #-1
 1118 003c 28E0     		b	.L86
 1119              	.L104:
 254:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         return -1;
 1120              		.loc 1 254 0 discriminator 1
 1121 003e 0320     		movs	r0, #3
 1122 0040 FFF7FEFF 		bl	atiny_get_log_level_name
 1123              	.LVL159:
 1124 0044 0446     		mov	r4, r0
 1125              	.LVL160:
 1126 0046 FFF7FEFF 		bl	atiny_gettime_ms
 1127              	.LVL161:
 1128 004a FE23     		movs	r3, #254
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s 			page 27


 1129 004c 0093     		str	r3, [sp]
 1130 004e 274B     		ldr	r3, .L107+8
 1131 0050 0246     		mov	r2, r0
 1132 0052 2146     		mov	r1, r4
 1133 0054 2648     		ldr	r0, .L107+12
 1134 0056 FFF7FEFF 		bl	atiny_printf
 1135              	.LVL162:
 1136              		.loc 1 255 0 discriminator 1
 1137 005a 4FF0FF30 		mov	r0, #-1
 1138 005e 17E0     		b	.L86
 1139              	.LVL163:
 1140              	.L93:
 249:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     else if(0 == strncmp(uri, COAPS_PROTO_PREFIX, strlen(COAPS_PROTO_PREFIX)))
 1141              		.loc 1 249 0
 1142 0060 0723     		movs	r3, #7
 1143              	.L88:
 1144              	.LVL164:
 256:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     }
 257:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     //暂不考虑query
 258:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     char_p = uri + proto_len;
 1145              		.loc 1 258 0
 1146 0062 E018     		adds	r0, r4, r3
 1147              	.LVL165:
 259:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     if(*char_p == '\0') // eg. just "coap://"
 1148              		.loc 1 259 0
 1149 0064 E35C     		ldrb	r3, [r4, r3]	@ zero_extendqisi2
 1150              	.LVL166:
 1151 0066 BBB3     		cbz	r3, .L96
 260:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         return -1;
 261:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     path = strchr(char_p, '/');
 1152              		.loc 1 261 0
 1153 0068 2F21     		movs	r1, #47
 1154 006a FFF7FEFF 		bl	strchr
 1155              	.LVL167:
 262:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     if(NULL == path)
 1156              		.loc 1 262 0
 1157 006e 0646     		mov	r6, r0
 1158 0070 A8B3     		cbz	r0, .L97
 263:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         return -1;
 264:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     path_len = uri_len - (path - uri);
 1159              		.loc 1 264 0
 1160 0072 041B     		subs	r4, r0, r4
 1161              	.LVL168:
 1162 0074 2C1B     		subs	r4, r5, r4
 1163              	.LVL169:
 265:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** 
 266:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     g_ota_uri = (char *)lwm2m_malloc(path_len + 1);
 1164              		.loc 1 266 0
 1165 0076 601C     		adds	r0, r4, #1
 1166              	.LVL170:
 1167 0078 FFF7FEFF 		bl	lwm2m_malloc
 1168              	.LVL171:
 1169 007c 0546     		mov	r5, r0
 1170              	.LVL172:
 1171 007e 1D4B     		ldr	r3, .L107+16
 1172 0080 1860     		str	r0, [r3]
 267:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     if(!g_ota_uri)
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s 			page 28


 1173              		.loc 1 267 0
 1174 0082 38B1     		cbz	r0, .L105
 268:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     {
 269:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         ATINY_LOG(LOG_ERR, "lwm2m_malloc failed");
 270:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         return -1;
 271:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     }
 272:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     /*lint -esym(668,memcpy) */
 273:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     memcpy(g_ota_uri, path, path_len);
 1175              		.loc 1 273 0
 1176 0084 2246     		mov	r2, r4
 1177 0086 3146     		mov	r1, r6
 1178 0088 FFF7FEFF 		bl	memcpy
 1179              	.LVL173:
 274:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     g_ota_uri[path_len] = '\0';
 1180              		.loc 1 274 0
 1181 008c 0020     		movs	r0, #0
 1182 008e 2855     		strb	r0, [r5, r4]
 1183              	.LVL174:
 1184              	.L86:
 275:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** 
 276:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     return 0;
 277:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** }
 1185              		.loc 1 277 0
 1186 0090 02B0     		add	sp, sp, #8
 1187              	.LCFI18:
 1188              		.cfi_remember_state
 1189              		.cfi_def_cfa_offset 16
 1190              		@ sp needed
 1191 0092 70BD     		pop	{r4, r5, r6, pc}
 1192              	.LVL175:
 1193              	.L105:
 1194              	.LCFI19:
 1195              		.cfi_restore_state
 269:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         return -1;
 1196              		.loc 1 269 0
 1197 0094 FFF7FEFF 		bl	atiny_get_log_level
 1198              	.LVL176:
 1199 0098 0328     		cmp	r0, #3
 1200 009a 02D9     		bls	.L106
 270:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     }
 1201              		.loc 1 270 0
 1202 009c 4FF0FF30 		mov	r0, #-1
 1203 00a0 F6E7     		b	.L86
 1204              	.L106:
 269:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         return -1;
 1205              		.loc 1 269 0 discriminator 1
 1206 00a2 0320     		movs	r0, #3
 1207 00a4 FFF7FEFF 		bl	atiny_get_log_level_name
 1208              	.LVL177:
 1209 00a8 0446     		mov	r4, r0
 1210              	.LVL178:
 1211 00aa FFF7FEFF 		bl	atiny_gettime_ms
 1212              	.LVL179:
 1213 00ae 40F20D13 		movw	r3, #269
 1214 00b2 0093     		str	r3, [sp]
 1215 00b4 0D4B     		ldr	r3, .L107+8
 1216 00b6 0246     		mov	r2, r0
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s 			page 29


 1217 00b8 2146     		mov	r1, r4
 1218 00ba 0F48     		ldr	r0, .L107+20
 1219 00bc FFF7FEFF 		bl	atiny_printf
 1220              	.LVL180:
 270:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     }
 1221              		.loc 1 270 0 discriminator 1
 1222 00c0 4FF0FF30 		mov	r0, #-1
 1223 00c4 E4E7     		b	.L86
 1224              	.LVL181:
 1225              	.L90:
 1226              	.LCFI20:
 1227              		.cfi_def_cfa_offset 0
 1228              		.cfi_restore 4
 1229              		.cfi_restore 5
 1230              		.cfi_restore 6
 1231              		.cfi_restore 14
 245:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     }
 1232              		.loc 1 245 0
 1233 00c6 4FF0FF30 		mov	r0, #-1
 1234              	.LVL182:
 1235              		.loc 1 277 0
 1236 00ca 7047     		bx	lr
 1237              	.LVL183:
 1238              	.L91:
 1239              	.LCFI21:
 1240              		.cfi_def_cfa_offset 24
 1241              		.cfi_offset 4, -16
 1242              		.cfi_offset 5, -12
 1243              		.cfi_offset 6, -8
 1244              		.cfi_offset 14, -4
 245:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     }
 1245              		.loc 1 245 0
 1246 00cc 4FF0FF30 		mov	r0, #-1
 1247              	.LVL184:
 1248 00d0 DEE7     		b	.L86
 1249              	.LVL185:
 1250              	.L92:
 1251 00d2 4FF0FF30 		mov	r0, #-1
 1252              	.LVL186:
 1253 00d6 DBE7     		b	.L86
 1254              	.LVL187:
 1255              	.L96:
 260:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     path = strchr(char_p, '/');
 1256              		.loc 1 260 0
 1257 00d8 4FF0FF30 		mov	r0, #-1
 1258              	.LVL188:
 1259 00dc D8E7     		b	.L86
 1260              	.LVL189:
 1261              	.L97:
 263:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     path_len = uri_len - (path - uri);
 1262              		.loc 1 263 0
 1263 00de 4FF0FF30 		mov	r0, #-1
 1264              	.LVL190:
 1265 00e2 D5E7     		b	.L86
 1266              	.L108:
 1267              		.align	2
 1268              	.L107:
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s 			page 30


 1269 00e4 00000000 		.word	.LC14
 1270 00e8 08000000 		.word	.LC15
 1271 00ec 00000000 		.word	.LANCHOR8
 1272 00f0 14000000 		.word	.LC16
 1273 00f4 00000000 		.word	.LANCHOR4
 1274 00f8 00000000 		.word	.LC0
 1275              		.cfi_endproc
 1276              	.LFE138:
 1278              		.section	.text.start_firmware_download,"ax",%progbits
 1279              		.align	1
 1280              		.global	start_firmware_download
 1281              		.syntax unified
 1282              		.thumb
 1283              		.thumb_func
 1284              		.fpu fpv4-sp-d16
 1286              	start_firmware_download:
 1287              	.LFB139:
 278:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** 
 279:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** int start_firmware_download(lwm2m_context_t *contextP, char *uri,
 280:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****                             pack_storage_device_api_s *storage_device_p)
 281:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** {
 1288              		.loc 1 281 0
 1289              		.cfi_startproc
 1290              		@ args = 0, pretend = 0, frame = 8
 1291              		@ frame_needed = 0, uses_anonymous_args = 0
 1292              	.LVL191:
 1293 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1294              	.LCFI22:
 1295              		.cfi_def_cfa_offset 24
 1296              		.cfi_offset 4, -24
 1297              		.cfi_offset 5, -20
 1298              		.cfi_offset 6, -16
 1299              		.cfi_offset 7, -12
 1300              		.cfi_offset 8, -8
 1301              		.cfi_offset 14, -4
 1302 0004 86B0     		sub	sp, sp, #24
 1303              	.LCFI23:
 1304              		.cfi_def_cfa_offset 48
 282:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     lwm2m_transaction_t *transaction;
 283:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     unsigned char update_flag = 0;
 1305              		.loc 1 283 0
 1306 0006 0023     		movs	r3, #0
 1307 0008 8DF81730 		strb	r3, [sp, #23]
 1308              	.LVL192:
 284:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     int ret = -1;
 285:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     int uri_len;
 286:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     lwm2m_server_t *server;
 287:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** 
 288:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     if(!contextP || !uri || *uri == '\0' || !storage_device_p)
 1309              		.loc 1 288 0
 1310 000c 0028     		cmp	r0, #0
 1311 000e 7DD0     		beq	.L110
 1312 0010 0C46     		mov	r4, r1
 1313 0012 1646     		mov	r6, r2
 1314 0014 0546     		mov	r5, r0
 1315              		.loc 1 288 0 is_stmt 0 discriminator 1
 1316 0016 0029     		cmp	r1, #0
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s 			page 31


 1317 0018 78D0     		beq	.L110
 1318              		.loc 1 288 0 discriminator 2
 1319 001a 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1320 001c 002B     		cmp	r3, #0
 1321 001e 75D0     		beq	.L110
 1322              		.loc 1 288 0 discriminator 3
 1323 0020 002A     		cmp	r2, #0
 1324 0022 73D0     		beq	.L110
 289:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     {
 290:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         ATINY_LOG(LOG_ERR, "invalid params");
 291:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         return -1;
 292:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     }
 293:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     ATINY_LOG(LOG_ERR, "start download");
 1325              		.loc 1 293 0 is_stmt 1
 1326 0024 FFF7FEFF 		bl	atiny_get_log_level
 1327              	.LVL193:
 1328 0028 0328     		cmp	r0, #3
 1329 002a 40F28B80 		bls	.L131
 1330              	.L113:
 294:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     g_fota_storage_device = storage_device_p;
 1331              		.loc 1 294 0
 1332 002e 8F4B     		ldr	r3, .L143
 1333 0030 1E60     		str	r6, [r3]
 295:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     uri_len = strlen(uri);
 1334              		.loc 1 295 0
 1335 0032 2046     		mov	r0, r4
 1336 0034 FFF7FEFF 		bl	strlen
 1337              	.LVL194:
 1338 0038 0646     		mov	r6, r0
 1339              	.LVL195:
 296:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     server = registration_get_registered_server(contextP);
 1340              		.loc 1 296 0
 1341 003a 2846     		mov	r0, r5
 1342              	.LVL196:
 1343 003c FFF7FEFF 		bl	registration_get_registered_server
 1344              	.LVL197:
 297:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     if(NULL == server)
 1345              		.loc 1 297 0
 1346 0040 0746     		mov	r7, r0
 1347 0042 0028     		cmp	r0, #0
 1348 0044 00F08E80 		beq	.L132
 298:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     {
 299:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         ATINY_LOG(LOG_ERR, "registration_get_registered_server failed");
 300:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         return -1;
 301:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     }
 302:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** 
 303:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     ret = update_uri_info(uri, uri_len, &update_flag);
 1349              		.loc 1 303 0
 1350 0048 0DF11702 		add	r2, sp, #23
 1351 004c 3146     		mov	r1, r6
 1352 004e 2046     		mov	r0, r4
 1353              	.LVL198:
 1354 0050 FFF7FEFF 		bl	update_uri_info
 1355              	.LVL199:
 304:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     if(0 != ret)
 305:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     {
 306:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         ;// continue to although update_uri_info failed
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s 			page 32


 307:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     }
 308:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** 
 309:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     ATINY_LOG(LOG_DEBUG, "update_flag = %u", update_flag);
 1356              		.loc 1 309 0
 1357 0054 FFF7FEFF 		bl	atiny_get_log_level
 1358              	.LVL200:
 1359 0058 0028     		cmp	r0, #0
 1360 005a 00F09C80 		beq	.L133
 1361              	.L115:
 310:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     if(!(0 == update_flag && NULL != g_ota_uri))
 1362              		.loc 1 310 0
 1363 005e 9DF81730 		ldrb	r3, [sp, #23]	@ zero_extendqisi2
 1364 0062 13B9     		cbnz	r3, .L116
 1365              		.loc 1 310 0 is_stmt 0 discriminator 1
 1366 0064 824B     		ldr	r3, .L143+4
 1367 0066 1B68     		ldr	r3, [r3]
 1368 0068 73B9     		cbnz	r3, .L117
 1369              	.L116:
 311:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     {
 312:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         if(NULL != g_ota_uri)
 1370              		.loc 1 312 0 is_stmt 1
 1371 006a 814B     		ldr	r3, .L143+4
 1372 006c 1868     		ldr	r0, [r3]
 1373 006e 20B1     		cbz	r0, .L118
 313:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         {
 314:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****             lwm2m_free(g_ota_uri);
 1374              		.loc 1 314 0
 1375 0070 FFF7FEFF 		bl	lwm2m_free
 1376              	.LVL201:
 315:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****             g_ota_uri = NULL;
 1377              		.loc 1 315 0
 1378 0074 7E4B     		ldr	r3, .L143+4
 1379 0076 0022     		movs	r2, #0
 1380 0078 1A60     		str	r2, [r3]
 1381              	.L118:
 316:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         }
 317:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         ret = parse_firmware_uri(uri, uri_len);
 1382              		.loc 1 317 0
 1383 007a 3146     		mov	r1, r6
 1384 007c 2046     		mov	r0, r4
 1385 007e FFF7FEFF 		bl	parse_firmware_uri
 1386              	.LVL202:
 318:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         if(0 != ret)
 1387              		.loc 1 318 0
 1388 0082 0028     		cmp	r0, #0
 1389 0084 40F09980 		bne	.L134
 1390              	.LVL203:
 1391              	.L117:
 319:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         {
 320:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****             ATINY_LOG(LOG_ERR, "parse_firmware_uri failed");
 321:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****             return -1;
 322:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         }
 323:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     }
 324:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** 
 325:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     transaction = transaction_new(server->sessionH, COAP_GET, NULL, NULL, contextP->nextMID++, 4, N
 1392              		.loc 1 325 0
 1393 0088 F869     		ldr	r0, [r7, #28]
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s 			page 33


 1394 008a AB8D     		ldrh	r3, [r5, #44]
 1395 008c 5A1C     		adds	r2, r3, #1
 1396 008e AA85     		strh	r2, [r5, #44]	@ movhi
 1397 0090 0022     		movs	r2, #0
 1398 0092 0292     		str	r2, [sp, #8]
 1399 0094 0421     		movs	r1, #4
 1400 0096 0191     		str	r1, [sp, #4]
 1401 0098 0093     		str	r3, [sp]
 1402 009a 1346     		mov	r3, r2
 1403 009c 0121     		movs	r1, #1
 1404 009e FFF7FEFF 		bl	transaction_new
 1405              	.LVL204:
 326:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     if(!transaction)
 1406              		.loc 1 326 0
 1407 00a2 0446     		mov	r4, r0
 1408              	.LVL205:
 1409 00a4 0028     		cmp	r0, #0
 1410 00a6 00F0A180 		beq	.L135
 327:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     {
 328:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         ATINY_LOG(LOG_ERR, "transaction_new failed");
 329:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         return -1;
 330:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     }
 331:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     ret = coap_set_header_uri_path(transaction->message, g_ota_uri);
 1411              		.loc 1 331 0
 1412 00aa 714B     		ldr	r3, .L143+4
 1413 00ac 1968     		ldr	r1, [r3]
 1414 00ae 806A     		ldr	r0, [r0, #40]
 1415              	.LVL206:
 1416 00b0 FFF7FEFF 		bl	coap_set_header_uri_path
 1417              	.LVL207:
 332:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     if(ret < 0 || NULL == transaction->message->uri_path)
 1418              		.loc 1 332 0
 1419 00b4 0028     		cmp	r0, #0
 1420 00b6 C0F2B280 		blt	.L120
 1421              		.loc 1 332 0 is_stmt 0 discriminator 1
 1422 00ba A06A     		ldr	r0, [r4, #40]
 1423              	.LVL208:
 1424 00bc 436C     		ldr	r3, [r0, #68]
 1425 00be 002B     		cmp	r3, #0
 1426 00c0 00F0AD80 		beq	.L120
 333:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     {
 334:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         transaction_free(transaction);
 335:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         return -1;
 336:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     }
 337:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     //coap_set_header_uri_query(transaction->message, query);
 338:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     if(1 == g_fw_update_record.in_use)
 1427              		.loc 1 338 0 is_stmt 1
 1428 00c4 6B4B     		ldr	r3, .L143+8
 1429 00c6 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1430 00c8 012B     		cmp	r3, #1
 1431 00ca 00F0AE80 		beq	.L136
 339:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     {
 340:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         ret = coap_set_header_block2(transaction->message, g_fw_update_record.block_num + 1, 0, g_f
 341:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     }
 342:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     else
 343:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     {
 344:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         ret = coap_set_header_block2(transaction->message, 0, 0, FW_BLOCK_SIZE);
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s 			page 34


 1432              		.loc 1 344 0
 1433 00ce 4FF40073 		mov	r3, #512
 1434 00d2 0022     		movs	r2, #0
 1435 00d4 1146     		mov	r1, r2
 1436 00d6 FFF7FEFF 		bl	coap_set_header_block2
 1437              	.LVL209:
 1438              	.L123:
 345:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     }
 346:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     if(ret != 1)
 1439              		.loc 1 346 0
 1440 00da 0128     		cmp	r0, #1
 1441 00dc 40F0AD80 		bne	.L137
 347:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     {
 348:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         transaction_free(transaction);
 349:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         return -1;
 350:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     }
 351:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** 
 352:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     transaction->callback = firmware_download_reply;
 1442              		.loc 1 352 0
 1443 00e0 654B     		ldr	r3, .L143+12
 1444 00e2 2364     		str	r3, [r4, #64]
 353:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     transaction->userData = (void *)contextP;
 1445              		.loc 1 353 0
 1446 00e4 6564     		str	r5, [r4, #68]
 354:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** 
 355:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     contextP->transactionList = (lwm2m_transaction_t *)LWM2M_LIST_ADD(contextP->transactionList, tr
 1447              		.loc 1 355 0
 1448 00e6 2146     		mov	r1, r4
 1449 00e8 286B     		ldr	r0, [r5, #48]
 1450              	.LVL210:
 1451 00ea FFF7FEFF 		bl	lwm2m_list_add
 1452              	.LVL211:
 1453 00ee 2863     		str	r0, [r5, #48]
 356:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** 
 357:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     if(transaction_send(contextP, transaction) != 0)
 1454              		.loc 1 357 0
 1455 00f0 2146     		mov	r1, r4
 1456 00f2 2846     		mov	r0, r5
 1457 00f4 FFF7FEFF 		bl	transaction_send
 1458              	.LVL212:
 1459 00f8 0346     		mov	r3, r0
 1460 00fa 68B1     		cbz	r0, .L109
 358:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     {
 359:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         ATINY_LOG(LOG_ERR, "transaction_send failed");
 1461              		.loc 1 359 0
 1462 00fc FFF7FEFF 		bl	atiny_get_log_level
 1463              	.LVL213:
 1464 0100 0328     		cmp	r0, #3
 1465 0102 40F2A080 		bls	.L138
 360:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         return -1;
 1466              		.loc 1 360 0
 1467 0106 4FF0FF33 		mov	r3, #-1
 1468 010a 05E0     		b	.L109
 1469              	.LVL214:
 1470              	.L110:
 290:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         return -1;
 1471              		.loc 1 290 0
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s 			page 35


 1472 010c FFF7FEFF 		bl	atiny_get_log_level
 1473              	.LVL215:
 1474 0110 0328     		cmp	r0, #3
 1475 0112 05D9     		bls	.L139
 291:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     }
 1476              		.loc 1 291 0
 1477 0114 4FF0FF33 		mov	r3, #-1
 1478              	.LVL216:
 1479              	.L109:
 361:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     }
 362:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** 
 363:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     return 0;
 364:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** }
 1480              		.loc 1 364 0
 1481 0118 1846     		mov	r0, r3
 1482 011a 06B0     		add	sp, sp, #24
 1483              	.LCFI24:
 1484              		.cfi_remember_state
 1485              		.cfi_def_cfa_offset 24
 1486              		@ sp needed
 1487 011c BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1488              	.LVL217:
 1489              	.L139:
 1490              	.LCFI25:
 1491              		.cfi_restore_state
 290:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         return -1;
 1492              		.loc 1 290 0 discriminator 1
 1493 0120 0320     		movs	r0, #3
 1494 0122 FFF7FEFF 		bl	atiny_get_log_level_name
 1495              	.LVL218:
 1496 0126 0446     		mov	r4, r0
 1497 0128 FFF7FEFF 		bl	atiny_gettime_ms
 1498              	.LVL219:
 1499 012c 4FF49173 		mov	r3, #290
 1500 0130 0093     		str	r3, [sp]
 1501 0132 524B     		ldr	r3, .L143+16
 1502 0134 0246     		mov	r2, r0
 1503 0136 2146     		mov	r1, r4
 1504 0138 5148     		ldr	r0, .L143+20
 1505 013a FFF7FEFF 		bl	atiny_printf
 1506              	.LVL220:
 291:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     }
 1507              		.loc 1 291 0 discriminator 1
 1508 013e 4FF0FF33 		mov	r3, #-1
 1509 0142 E9E7     		b	.L109
 1510              	.LVL221:
 1511              	.L131:
 293:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     g_fota_storage_device = storage_device_p;
 1512              		.loc 1 293 0 discriminator 1
 1513 0144 0320     		movs	r0, #3
 1514 0146 FFF7FEFF 		bl	atiny_get_log_level_name
 1515              	.LVL222:
 1516 014a 0746     		mov	r7, r0
 1517 014c FFF7FEFF 		bl	atiny_gettime_ms
 1518              	.LVL223:
 1519 0150 40F22513 		movw	r3, #293
 1520 0154 0093     		str	r3, [sp]
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s 			page 36


 1521 0156 494B     		ldr	r3, .L143+16
 1522 0158 0246     		mov	r2, r0
 1523 015a 3946     		mov	r1, r7
 1524 015c 4948     		ldr	r0, .L143+24
 1525 015e FFF7FEFF 		bl	atiny_printf
 1526              	.LVL224:
 1527 0162 64E7     		b	.L113
 1528              	.LVL225:
 1529              	.L132:
 299:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         return -1;
 1530              		.loc 1 299 0
 1531 0164 FFF7FEFF 		bl	atiny_get_log_level
 1532              	.LVL226:
 1533 0168 0328     		cmp	r0, #3
 1534 016a 02D9     		bls	.L140
 300:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     }
 1535              		.loc 1 300 0
 1536 016c 4FF0FF33 		mov	r3, #-1
 1537 0170 D2E7     		b	.L109
 1538              	.L140:
 299:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         return -1;
 1539              		.loc 1 299 0 discriminator 1
 1540 0172 0320     		movs	r0, #3
 1541 0174 FFF7FEFF 		bl	atiny_get_log_level_name
 1542              	.LVL227:
 1543 0178 0446     		mov	r4, r0
 1544              	.LVL228:
 1545 017a FFF7FEFF 		bl	atiny_gettime_ms
 1546              	.LVL229:
 1547 017e 40F22B13 		movw	r3, #299
 1548 0182 0093     		str	r3, [sp]
 1549 0184 3D4B     		ldr	r3, .L143+16
 1550 0186 0246     		mov	r2, r0
 1551 0188 2146     		mov	r1, r4
 1552 018a 3F48     		ldr	r0, .L143+28
 1553 018c FFF7FEFF 		bl	atiny_printf
 1554              	.LVL230:
 300:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     }
 1555              		.loc 1 300 0 discriminator 1
 1556 0190 4FF0FF33 		mov	r3, #-1
 1557 0194 C0E7     		b	.L109
 1558              	.LVL231:
 1559              	.L133:
 309:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     if(!(0 == update_flag && NULL != g_ota_uri))
 1560              		.loc 1 309 0 discriminator 1
 1561 0196 FFF7FEFF 		bl	atiny_get_log_level_name
 1562              	.LVL232:
 1563 019a 8046     		mov	r8, r0
 1564 019c FFF7FEFF 		bl	atiny_gettime_ms
 1565              	.LVL233:
 1566 01a0 9DF81730 		ldrb	r3, [sp, #23]	@ zero_extendqisi2
 1567 01a4 0193     		str	r3, [sp, #4]
 1568 01a6 40F23513 		movw	r3, #309
 1569 01aa 0093     		str	r3, [sp]
 1570 01ac 334B     		ldr	r3, .L143+16
 1571 01ae 0246     		mov	r2, r0
 1572 01b0 4146     		mov	r1, r8
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s 			page 37


 1573 01b2 3648     		ldr	r0, .L143+32
 1574 01b4 FFF7FEFF 		bl	atiny_printf
 1575              	.LVL234:
 1576 01b8 51E7     		b	.L115
 1577              	.LVL235:
 1578              	.L134:
 320:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****             return -1;
 1579              		.loc 1 320 0
 1580 01ba FFF7FEFF 		bl	atiny_get_log_level
 1581              	.LVL236:
 1582 01be 0328     		cmp	r0, #3
 1583 01c0 02D9     		bls	.L141
 321:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         }
 1584              		.loc 1 321 0
 1585 01c2 4FF0FF33 		mov	r3, #-1
 1586 01c6 A7E7     		b	.L109
 1587              	.L141:
 320:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****             return -1;
 1588              		.loc 1 320 0 discriminator 1
 1589 01c8 0320     		movs	r0, #3
 1590 01ca FFF7FEFF 		bl	atiny_get_log_level_name
 1591              	.LVL237:
 1592 01ce 0446     		mov	r4, r0
 1593              	.LVL238:
 1594 01d0 FFF7FEFF 		bl	atiny_gettime_ms
 1595              	.LVL239:
 1596 01d4 4FF4A073 		mov	r3, #320
 1597 01d8 0093     		str	r3, [sp]
 1598 01da 284B     		ldr	r3, .L143+16
 1599 01dc 0246     		mov	r2, r0
 1600 01de 2146     		mov	r1, r4
 1601 01e0 2B48     		ldr	r0, .L143+36
 1602 01e2 FFF7FEFF 		bl	atiny_printf
 1603              	.LVL240:
 321:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         }
 1604              		.loc 1 321 0 discriminator 1
 1605 01e6 4FF0FF33 		mov	r3, #-1
 1606 01ea 95E7     		b	.L109
 1607              	.LVL241:
 1608              	.L135:
 328:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         return -1;
 1609              		.loc 1 328 0
 1610 01ec FFF7FEFF 		bl	atiny_get_log_level
 1611              	.LVL242:
 1612 01f0 0328     		cmp	r0, #3
 1613 01f2 02D9     		bls	.L142
 329:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     }
 1614              		.loc 1 329 0
 1615 01f4 4FF0FF33 		mov	r3, #-1
 1616 01f8 8EE7     		b	.L109
 1617              	.L142:
 328:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         return -1;
 1618              		.loc 1 328 0 discriminator 1
 1619 01fa 0320     		movs	r0, #3
 1620 01fc FFF7FEFF 		bl	atiny_get_log_level_name
 1621              	.LVL243:
 1622 0200 0446     		mov	r4, r0
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s 			page 38


 1623              	.LVL244:
 1624 0202 FFF7FEFF 		bl	atiny_gettime_ms
 1625              	.LVL245:
 1626 0206 4FF4A473 		mov	r3, #328
 1627 020a 0093     		str	r3, [sp]
 1628 020c 1B4B     		ldr	r3, .L143+16
 1629 020e 0246     		mov	r2, r0
 1630 0210 2146     		mov	r1, r4
 1631 0212 2048     		ldr	r0, .L143+40
 1632 0214 FFF7FEFF 		bl	atiny_printf
 1633              	.LVL246:
 329:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     }
 1634              		.loc 1 329 0 discriminator 1
 1635 0218 4FF0FF33 		mov	r3, #-1
 1636 021c 7CE7     		b	.L109
 1637              	.LVL247:
 1638              	.L120:
 334:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         return -1;
 1639              		.loc 1 334 0
 1640 021e 2046     		mov	r0, r4
 1641 0220 FFF7FEFF 		bl	transaction_free
 1642              	.LVL248:
 335:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     }
 1643              		.loc 1 335 0
 1644 0224 4FF0FF33 		mov	r3, #-1
 1645 0228 76E7     		b	.L109
 1646              	.L136:
 340:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     }
 1647              		.loc 1 340 0
 1648 022a 124B     		ldr	r3, .L143+8
 1649 022c 5968     		ldr	r1, [r3, #4]
 1650 022e 5B88     		ldrh	r3, [r3, #2]
 1651 0230 0022     		movs	r2, #0
 1652 0232 0131     		adds	r1, r1, #1
 1653 0234 FFF7FEFF 		bl	coap_set_header_block2
 1654              	.LVL249:
 1655 0238 4FE7     		b	.L123
 1656              	.L137:
 348:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         return -1;
 1657              		.loc 1 348 0
 1658 023a 2046     		mov	r0, r4
 1659              	.LVL250:
 1660 023c FFF7FEFF 		bl	transaction_free
 1661              	.LVL251:
 349:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     }
 1662              		.loc 1 349 0
 1663 0240 4FF0FF33 		mov	r3, #-1
 1664 0244 68E7     		b	.L109
 1665              	.L138:
 359:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         return -1;
 1666              		.loc 1 359 0 discriminator 1
 1667 0246 0320     		movs	r0, #3
 1668 0248 FFF7FEFF 		bl	atiny_get_log_level_name
 1669              	.LVL252:
 1670 024c 0446     		mov	r4, r0
 1671              	.LVL253:
 1672 024e FFF7FEFF 		bl	atiny_gettime_ms
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s 			page 39


 1673              	.LVL254:
 1674 0252 40F26713 		movw	r3, #359
 1675 0256 0093     		str	r3, [sp]
 1676 0258 084B     		ldr	r3, .L143+16
 1677 025a 0246     		mov	r2, r0
 1678 025c 2146     		mov	r1, r4
 1679 025e 0E48     		ldr	r0, .L143+44
 1680 0260 FFF7FEFF 		bl	atiny_printf
 1681              	.LVL255:
 360:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     }
 1682              		.loc 1 360 0 discriminator 1
 1683 0264 4FF0FF33 		mov	r3, #-1
 1684 0268 56E7     		b	.L109
 1685              	.L144:
 1686 026a 00BF     		.align	2
 1687              	.L143:
 1688 026c 00000000 		.word	.LANCHOR3
 1689 0270 00000000 		.word	.LANCHOR4
 1690 0274 00000000 		.word	.LANCHOR0
 1691 0278 00000000 		.word	firmware_download_reply
 1692 027c 00000000 		.word	.LANCHOR9
 1693 0280 00000000 		.word	.LC17
 1694 0284 24000000 		.word	.LC18
 1695 0288 48000000 		.word	.LC19
 1696 028c 84000000 		.word	.LC20
 1697 0290 A8000000 		.word	.LC21
 1698 0294 24010000 		.word	.LC6
 1699 0298 74010000 		.word	.LC8
 1700              		.cfi_endproc
 1701              	.LFE139:
 1703              		.section	.text.clean_firmware_record,"ax",%progbits
 1704              		.align	1
 1705              		.global	clean_firmware_record
 1706              		.syntax unified
 1707              		.thumb
 1708              		.thumb_func
 1709              		.fpu fpv4-sp-d16
 1711              	clean_firmware_record:
 1712              	.LFB140:
 365:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** 
 366:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** void clean_firmware_record(void)
 367:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** {
 1713              		.loc 1 367 0
 1714              		.cfi_startproc
 1715              		@ args = 0, pretend = 0, frame = 0
 1716              		@ frame_needed = 0, uses_anonymous_args = 0
 1717 0000 08B5     		push	{r3, lr}
 1718              	.LCFI26:
 1719              		.cfi_def_cfa_offset 8
 1720              		.cfi_offset 3, -8
 1721              		.cfi_offset 14, -4
 368:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     if(NULL != g_ota_uri)
 1722              		.loc 1 368 0
 1723 0002 084B     		ldr	r3, .L149
 1724 0004 1868     		ldr	r0, [r3]
 1725 0006 20B1     		cbz	r0, .L146
 369:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     {
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s 			page 40


 370:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         lwm2m_free(g_ota_uri);
 1726              		.loc 1 370 0
 1727 0008 FFF7FEFF 		bl	lwm2m_free
 1728              	.LVL256:
 371:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         g_ota_uri = NULL;
 1729              		.loc 1 371 0
 1730 000c 054B     		ldr	r3, .L149
 1731 000e 0022     		movs	r2, #0
 1732 0010 1A60     		str	r2, [r3]
 1733              	.L146:
 372:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     }
 373:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     if(NULL != g_fw_update_record.uri)
 1734              		.loc 1 373 0
 1735 0012 054B     		ldr	r3, .L149+4
 1736 0014 1869     		ldr	r0, [r3, #16]
 1737 0016 20B1     		cbz	r0, .L145
 374:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     {
 375:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         lwm2m_free(g_fw_update_record.uri);
 1738              		.loc 1 375 0
 1739 0018 FFF7FEFF 		bl	lwm2m_free
 1740              	.LVL257:
 376:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****         g_fw_update_record.uri = NULL;
 1741              		.loc 1 376 0
 1742 001c 024B     		ldr	r3, .L149+4
 1743 001e 0022     		movs	r2, #0
 1744 0020 1A61     		str	r2, [r3, #16]
 1745              	.L145:
 377:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c ****     }
 378:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny/atiny_lwm2m\firmware_update.c **** }
 1746              		.loc 1 378 0
 1747 0022 08BD     		pop	{r3, pc}
 1748              	.L150:
 1749              		.align	2
 1750              	.L149:
 1751 0024 00000000 		.word	.LANCHOR4
 1752 0028 00000000 		.word	.LANCHOR0
 1753              		.cfi_endproc
 1754              	.LFE140:
 1756              		.section	.bss.g_firmware_update_notify,"aw",%nobits
 1757              		.align	2
 1758              		.set	.LANCHOR5,. + 0
 1761              	g_firmware_update_notify:
 1762 0000 00000000 		.space	4
 1763              		.section	.bss.g_firmware_update_notify_param,"aw",%nobits
 1764              		.align	2
 1765              		.set	.LANCHOR6,. + 0
 1768              	g_firmware_update_notify_param:
 1769 0000 00000000 		.space	4
 1770              		.section	.bss.g_fota_storage_device,"aw",%nobits
 1771              		.align	2
 1772              		.set	.LANCHOR3,. + 0
 1775              	g_fota_storage_device:
 1776 0000 00000000 		.space	4
 1777              		.section	.bss.g_fw_update_record,"aw",%nobits
 1778              		.align	2
 1779              		.set	.LANCHOR0,. + 0
 1782              	g_fw_update_record:
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s 			page 41


 1783 0000 00000000 		.space	20
 1783      00000000 
 1783      00000000 
 1783      00000000 
 1783      00000000 
 1784              		.section	.bss.g_ota_uri,"aw",%nobits
 1785              		.align	2
 1786              		.set	.LANCHOR4,. + 0
 1789              	g_ota_uri:
 1790 0000 00000000 		.space	4
 1791              		.section	.rodata.__FUNCTION__.11819,"a",%progbits
 1792              		.align	2
 1793              		.set	.LANCHOR2,. + 0
 1796              	__FUNCTION__.11819:
 1797 0000 6669726D 		.ascii	"firmware_download_reply\000"
 1797      77617265 
 1797      5F646F77 
 1797      6E6C6F61 
 1797      645F7265 
 1798              		.section	.rodata.__FUNCTION__.11825,"a",%progbits
 1799              		.align	2
 1800              		.set	.LANCHOR1,. + 0
 1803              	__FUNCTION__.11825:
 1804 0000 7265636F 		.ascii	"record_fw_uri\000"
 1804      72645F66 
 1804      775F7572 
 1804      6900
 1805              		.section	.rodata.__FUNCTION__.11832,"a",%progbits
 1806              		.align	2
 1807              		.set	.LANCHOR7,. + 0
 1810              	__FUNCTION__.11832:
 1811 0000 75706461 		.ascii	"update_uri_info\000"
 1811      74655F75 
 1811      72695F69 
 1811      6E666F00 
 1812              		.section	.rodata.__FUNCTION__.11845,"a",%progbits
 1813              		.align	2
 1814              		.set	.LANCHOR8,. + 0
 1817              	__FUNCTION__.11845:
 1818 0000 70617273 		.ascii	"parse_firmware_uri\000"
 1818      655F6669 
 1818      726D7761 
 1818      72655F75 
 1818      726900
 1819              		.section	.rodata.__FUNCTION__.11856,"a",%progbits
 1820              		.align	2
 1821              		.set	.LANCHOR9,. + 0
 1824              	__FUNCTION__.11856:
 1825 0000 73746172 		.ascii	"start_firmware_download\000"
 1825      745F6669 
 1825      726D7761 
 1825      72655F64 
 1825      6F776E6C 
 1826              		.section	.rodata.firmware_download_reply.str1.4,"aMS",%progbits,1
 1827              		.align	2
 1828              	.LC1:
 1829 0000 5B25735D 		.ascii	"[%s][%u][%s:%d] transaction timeout\015\012\000"
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s 			page 42


 1829      5B25755D 
 1829      5B25733A 
 1829      25645D20 
 1829      7472616E 
 1830 0026 0000     		.space	2
 1831              	.LC2:
 1832 0028 5B25735D 		.ascii	"[%s][%u][%s:%d] coap_get_header_block2 failed\015\012"
 1832      5B25755D 
 1832      5B25733A 
 1832      25645D20 
 1832      636F6170 
 1833 0057 00       		.ascii	"\000"
 1834              	.LC3:
 1835 0058 5B25735D 		.ascii	"[%s][%u][%s:%d] block_num : %lu, block2_more : %lu,"
 1835      5B25755D 
 1835      5B25733A 
 1835      25645D20 
 1835      626C6F63 
 1836 008b 20626C6F 		.ascii	" block_offset : %lu, payload_len is %u\015\012\000"
 1836      636B5F6F 
 1836      66667365 
 1836      74203A20 
 1836      256C752C 
 1837              	.LC4:
 1838 00b4 5B25735D 		.ascii	"[%s][%u][%s:%d] g_fota_storage_device NULL\015\012\000"
 1838      5B25755D 
 1838      5B25733A 
 1838      25645D20 
 1838      675F666F 
 1839 00e1 000000   		.space	3
 1840              	.LC5:
 1841 00e4 5B25735D 		.ascii	"[%s][%u][%s:%d] g_fota_storage_device->write_softwa"
 1841      5B25755D 
 1841      5B25733A 
 1841      25645D20 
 1841      675F666F 
 1842 0117 7265204E 		.ascii	"re NULL\015\012\000"
 1842      554C4C0D 
 1842      0A00
 1843 0121 000000   		.space	3
 1844              	.LC6:
 1845 0124 5B25735D 		.ascii	"[%s][%u][%s:%d] transaction_new failed\015\012\000"
 1845      5B25755D 
 1845      5B25733A 
 1845      25645D20 
 1845      7472616E 
 1846 014d 000000   		.space	3
 1847              	.LC7:
 1848 0150 5B25735D 		.ascii	"[%s][%u][%s:%d] get next : %lu\015\012\000"
 1848      5B25755D 
 1848      5B25733A 
 1848      25645D20 
 1848      67657420 
 1849 0171 000000   		.space	3
 1850              	.LC8:
 1851 0174 5B25735D 		.ascii	"[%s][%u][%s:%d] transaction_send failed\015\012\000"
 1851      5B25755D 
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s 			page 43


 1851      5B25733A 
 1851      25645D20 
 1851      7472616E 
 1852 019e 0000     		.space	2
 1853              	.LC9:
 1854 01a0 5B25735D 		.ascii	"[%s][%u][%s:%d] g_fota_storage_device->write_softwa"
 1854      5B25755D 
 1854      5B25733A 
 1854      25645D20 
 1854      675F666F 
 1855 01d3 72655F65 		.ascii	"re_end NULL\015\012\000"
 1855      6E64204E 
 1855      554C4C0D 
 1855      0A00
 1856 01e1 000000   		.space	3
 1857              	.LC10:
 1858 01e4 5B25735D 		.ascii	"[%s][%u][%s:%d] g_firmware_update_notify FIRMWARE_U"
 1858      5B25755D 
 1858      5B25733A 
 1858      25645D20 
 1858      675F6669 
 1859 0217 50444154 		.ascii	"PDATE_RST_SUCCESS, write end ret %d\015\012\000"
 1859      455F5253 
 1859      545F5355 
 1859      43434553 
 1859      532C2077 
 1860 023d 000000   		.space	3
 1861              	.LC11:
 1862 0240 5B25735D 		.ascii	"[%s][%u][%s:%d] download success, total size : %lu,"
 1862      5B25755D 
 1862      5B25733A 
 1862      25645D20 
 1862      646F776E 
 1863 0273 20777269 		.ascii	" write end ret %d\015\012\000"
 1863      74652065 
 1863      6E642072 
 1863      65742025 
 1863      640D0A00 
 1864 0287 00       		.space	1
 1865              	.LC12:
 1866 0288 5B25735D 		.ascii	"[%s][%u][%s:%d] g_firmware_update_notify FIRMWARE_U"
 1866      5B25755D 
 1866      5B25733A 
 1866      25645D20 
 1866      675F6669 
 1867 02bb 50444154 		.ascii	"PDATE_RST_FAILED\015\012\000"
 1867      455F5253 
 1867      545F4641 
 1867      494C4544 
 1867      0D0A00
 1868              		.section	.rodata.parse_firmware_uri.str1.4,"aMS",%progbits,1
 1869              		.align	2
 1870              	.LC14:
 1871 0000 636F6170 		.ascii	"coap://\000"
 1871      3A2F2F00 
 1872              	.LC15:
 1873 0008 636F6170 		.ascii	"coaps://\000"
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s 			page 44


 1873      733A2F2F 
 1873      00
 1874 0011 000000   		.space	3
 1875              	.LC16:
 1876 0014 5B25735D 		.ascii	"[%s][%u][%s:%d] unsupported proto\015\012\000"
 1876      5B25755D 
 1876      5B25733A 
 1876      25645D20 
 1876      756E7375 
 1877              		.section	.rodata.record_fw_uri.str1.4,"aMS",%progbits,1
 1878              		.align	2
 1879              	.LC0:
 1880 0000 5B25735D 		.ascii	"[%s][%u][%s:%d] lwm2m_malloc failed\015\012\000"
 1880      5B25755D 
 1880      5B25733A 
 1880      25645D20 
 1880      6C776D32 
 1881              		.section	.rodata.start_firmware_download.str1.4,"aMS",%progbits,1
 1882              		.align	2
 1883              	.LC17:
 1884 0000 5B25735D 		.ascii	"[%s][%u][%s:%d] invalid params\015\012\000"
 1884      5B25755D 
 1884      5B25733A 
 1884      25645D20 
 1884      696E7661 
 1885 0021 000000   		.space	3
 1886              	.LC18:
 1887 0024 5B25735D 		.ascii	"[%s][%u][%s:%d] start download\015\012\000"
 1887      5B25755D 
 1887      5B25733A 
 1887      25645D20 
 1887      73746172 
 1888 0045 000000   		.space	3
 1889              	.LC19:
 1890 0048 5B25735D 		.ascii	"[%s][%u][%s:%d] registration_get_registered_server "
 1890      5B25755D 
 1890      5B25733A 
 1890      25645D20 
 1890      72656769 
 1891 007b 6661696C 		.ascii	"failed\015\012\000"
 1891      65640D0A 
 1891      00
 1892              	.LC20:
 1893 0084 5B25735D 		.ascii	"[%s][%u][%s:%d] update_flag = %u\015\012\000"
 1893      5B25755D 
 1893      5B25733A 
 1893      25645D20 
 1893      75706461 
 1894 00a7 00       		.space	1
 1895              	.LC21:
 1896 00a8 5B25735D 		.ascii	"[%s][%u][%s:%d] parse_firmware_uri failed\015\012\000"
 1896      5B25755D 
 1896      5B25733A 
 1896      25645D20 
 1896      70617273 
 1897              		.section	.rodata.update_uri_info.str1.4,"aMS",%progbits,1
 1898              		.align	2
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s 			page 45


 1899              	.LC13:
 1900 0000 5B25735D 		.ascii	"[%s][%u][%s:%d] record_fw_uri failed\015\012\000"
 1900      5B25755D 
 1900      5B25733A 
 1900      25645D20 
 1900      7265636F 
 1901              		.text
 1902              	.Letext0:
 1903              		.file 2 "c:\\program files (x86)\\liteos studio\\resources\\arm-none-eabi\\arm-none-eabi\\include\
 1904              		.file 3 "c:\\program files (x86)\\liteos studio\\resources\\arm-none-eabi\\arm-none-eabi\\include\
 1905              		.file 4 "C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/lwm2m/core/
 1906              		.file 5 "c:\\program files (x86)\\liteos studio\\resources\\arm-none-eabi\\lib\\gcc\\arm-none-eabi
 1907              		.file 6 "c:\\program files (x86)\\liteos studio\\resources\\arm-none-eabi\\arm-none-eabi\\include\
 1908              		.file 7 "c:\\program files (x86)\\liteos studio\\resources\\arm-none-eabi\\arm-none-eabi\\include\
 1909              		.file 8 "c:\\program files (x86)\\liteos studio\\resources\\arm-none-eabi\\arm-none-eabi\\include\
 1910              		.file 9 "c:\\program files (x86)\\liteos studio\\resources\\arm-none-eabi\\arm-none-eabi\\include\
 1911              		.file 10 "c:\\program files (x86)\\liteos studio\\resources\\arm-none-eabi\\arm-none-eabi\\include
 1912              		.file 11 "C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/lwm2m/core
 1913              		.file 12 "C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/kernel/include/los_typedef.h"
 1914              		.file 13 "C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/arch/arm/common/cmsis/core_cm4.h"
 1915              		.file 14 "C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Inc/syste
 1916              		.file 15 "C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/kernel/include/los_list.h"
 1917              		.file 16 "C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/kernel/include/los_err.h"
 1918              		.file 17 "C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/arch/arm/arm-m/include/los_hwi.h"
 1919              		.file 18 "C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/kernel/include/los_tick.h"
 1920              		.file 19 "C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/kernel/include/los_event.h"
 1921              		.file 20 "C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/kernel/include/los_task.h"
 1922              		.file 21 "C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/kernel/base/include/los_task.ph"
 1923              		.file 22 "C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/Inc/main.
 1924              		.file 23 "C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/targets/STM32L431_BearPi/OS_CONFIG
 1925              		.file 24 "C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/kernel/include/los_config.h"
 1926              		.file 25 "C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/lwm2m/core
 1927              		.file 26 "c:\\program files (x86)\\liteos studio\\resources\\arm-none-eabi\\arm-none-eabi\\include
 1928              		.file 27 "c:\\program files (x86)\\liteos studio\\resources\\arm-none-eabi\\arm-none-eabi\\include
 1929              		.file 28 "C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny
 1930              		.file 29 "C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/include/atiny_error.h"
 1931              		.file 30 "C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/include/log/atiny_log.h"
 1932              		.file 31 "C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/include/ota/package.h"
 1933              		.file 32 "C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/agent_tiny
 1934              		.file 33 "c:\\program files (x86)\\liteos studio\\resources\\arm-none-eabi\\arm-none-eabi\\include
 1935              		.file 34 "C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/connectivity/lwm2m/core
 1936              		.file 35 "C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/include/osdepends/atiny_osdep.h"
 1937              		.file 36 "<built-in>"
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s 			page 46


DEFINED SYMBOLS
                            *ABS*:00000000 firmware_update.c
c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s:18     .text.record_fw_uri:00000000 $t
c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s:24     .text.record_fw_uri:00000000 record_fw_uri
c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s:145    .text.record_fw_uri:00000078 $d
c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s:152    .text.firmware_download_reply:00000000 $t
c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s:158    .text.firmware_download_reply:00000000 firmware_download_reply
c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s:688    .text.firmware_download_reply:00000308 $d
c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s:707    .text.firmware_download_reply:00000348 $t
c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s:833    .text.firmware_download_reply:0000041c $d
c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s:842    .text.update_uri_info:00000000 $t
c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s:848    .text.update_uri_info:00000000 update_uri_info
c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s:1017   .text.update_uri_info:000000b8 $d
c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s:1024   .text.set_firmware_update_notify:00000000 $t
c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s:1031   .text.set_firmware_update_notify:00000000 set_firmware_update_notify
c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s:1050   .text.set_firmware_update_notify:0000000c $d
c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s:1056   .text.parse_firmware_uri:00000000 $t
c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s:1063   .text.parse_firmware_uri:00000000 parse_firmware_uri
c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s:1269   .text.parse_firmware_uri:000000e4 $d
c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s:1279   .text.start_firmware_download:00000000 $t
c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s:1286   .text.start_firmware_download:00000000 start_firmware_download
c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s:1688   .text.start_firmware_download:0000026c $d
c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s:1704   .text.clean_firmware_record:00000000 $t
c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s:1711   .text.clean_firmware_record:00000000 clean_firmware_record
c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s:1751   .text.clean_firmware_record:00000024 $d
c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s:1757   .bss.g_firmware_update_notify:00000000 $d
c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s:1761   .bss.g_firmware_update_notify:00000000 g_firmware_update_notify
c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s:1764   .bss.g_firmware_update_notify_param:00000000 $d
c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s:1768   .bss.g_firmware_update_notify_param:00000000 g_firmware_update_notify_param
c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s:1771   .bss.g_fota_storage_device:00000000 $d
c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s:1775   .bss.g_fota_storage_device:00000000 g_fota_storage_device
c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s:1778   .bss.g_fw_update_record:00000000 $d
c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s:1782   .bss.g_fw_update_record:00000000 g_fw_update_record
c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s:1785   .bss.g_ota_uri:00000000 $d
c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s:1789   .bss.g_ota_uri:00000000 g_ota_uri
c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s:1792   .rodata.__FUNCTION__.11819:00000000 $d
c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s:1796   .rodata.__FUNCTION__.11819:00000000 __FUNCTION__.11819
c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s:1799   .rodata.__FUNCTION__.11825:00000000 $d
c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s:1803   .rodata.__FUNCTION__.11825:00000000 __FUNCTION__.11825
c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s:1806   .rodata.__FUNCTION__.11832:00000000 $d
c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s:1810   .rodata.__FUNCTION__.11832:00000000 __FUNCTION__.11832
c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s:1813   .rodata.__FUNCTION__.11845:00000000 $d
c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s:1817   .rodata.__FUNCTION__.11845:00000000 __FUNCTION__.11845
c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s:1820   .rodata.__FUNCTION__.11856:00000000 $d
c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s:1824   .rodata.__FUNCTION__.11856:00000000 __FUNCTION__.11856
c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s:1827   .rodata.firmware_download_reply.str1.4:00000000 $d
c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s:1869   .rodata.parse_firmware_uri.str1.4:00000000 $d
c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s:1878   .rodata.record_fw_uri.str1.4:00000000 $d
c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s:1882   .rodata.start_firmware_download.str1.4:00000000 $d
c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s:1898   .rodata.update_uri_info.str1.4:00000000 $d

UNDEFINED SYMBOLS
lwm2m_malloc
memcpy
atiny_get_log_level
atiny_get_log_level_name
atiny_gettime_ms
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccQU0XWe.s 			page 47


atiny_printf
coap_get_header_block2
transaction_new
coap_set_header_uri_path
coap_set_header_block2
lwm2m_list_add
transaction_send
transaction_free
lwm2m_free
memcmp
strncmp
strchr
strlen
registration_get_registered_server
