ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"package_head.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.pack_head_get_checksum_attribute,"ax",%progbits
  18              		.align	1
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu fpv4-sp-d16
  24              	pack_head_get_checksum_attribute:
  25              	.LFB6:
  26              		.file 1 "C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package/package_head
   1:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** /*----------------------------------------------------------------------------
   2:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****  * Copyright (c) <2016-2018>, <Huawei Technologies Co., Ltd>
   3:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****  * All rights reserved.
   4:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****  * Redistribution and use in source and binary forms, with or without modification,
   5:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****  * are permitted provided that the following conditions are met:
   6:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****  * 1. Redistributions of source code must retain the above copyright notice, this list of
   7:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****  * conditions and the following disclaimer.
   8:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice, this list
   9:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****  * of conditions and the following disclaimer in the documentation and/or other materials
  10:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****  * provided with the distribution.
  11:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****  * 3. Neither the name of the copyright holder nor the names of its contributors may be used
  12:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****  * to endorse or promote products derived from this software without specific prior written
  13:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****  * permission.
  14:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****  * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
  15:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****  * "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  16:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****  * THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  17:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****  * PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR
  18:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****  * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  19:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  20:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****  * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;
  21:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****  * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
  22:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****  * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
  23:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****  * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
  24:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****  * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  25:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****  *---------------------------------------------------------------------------*/
  26:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** /*----------------------------------------------------------------------------
  27:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****  * Notice of Export Control Law
  28:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****  * ===============================================
  29:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****  * Huawei LiteOS may be subject to applicable export control laws and regulations, which might
  30:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****  * include those applicable to Huawei LiteOS of U.S. and the country in which you are located.
  31:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****  * Import, export and usage of Huawei LiteOS in any manner by you shall be in compliance with such
  32:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****  * applicable export control laws and regulations.
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s 			page 2


  33:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****  *---------------------------------------------------------------------------*/
  34:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
  35:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** #include "package_head.h"
  36:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** #include "package_writer.h"
  37:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** #include "stddef.h"
  38:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
  39:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** #define MAKE_DWORD(a, b, c, d) ((((uint32_t)(a)) << 24) | (((uint32_t)(b)) << 16) | (((uint32_t)(c)
  40:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** #define MAKE_WORD(a, b)  ((((uint32_t)(a)) <<8) | ((uint32_t)(b)))
  41:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
  42:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** #define GET_DWORD(buf, pos) MAKE_DWORD(buf[pos], buf[pos + 1], buf[pos + 2], buf[pos + 3])
  43:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** #define GET_WORD(buf, pos) MAKE_WORD(buf[pos], buf[pos + 1])
  44:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
  45:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
  46:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** #define PACK_HEADER_MIN_LEN 12
  47:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** #define PACK_TLV_START_POS PACK_HEADER_MIN_LEN
  48:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
  49:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** #define PACK_VERSION_POS 0
  50:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** #define PACK_HEADER_HEAD_LEN_POS 4
  51:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** #define PACK_HEADER_TOTAL_LEN_POS 8
  52:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
  53:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** #define PACK_TLV_T_LEN 2
  54:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** #define PACK_TLV_L_LEN 2
  55:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
  56:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** #define PACK_TLV_T_SHA256 1
  57:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** #define PACK_TLV_T_SHA256_RSA2048 3
  58:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** #define PACK_INVALID_TLV_T 0xffff
  59:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** #define PACK_TLV_T_BIN_TYPE 4
  60:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
  61:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
  62:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
  63:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** #define VERSION_NO 0
  64:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
  65:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
  66:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
  67:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
  68:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** void pack_head_init(pack_head_s *head)
  69:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** {
  70:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     (void)memset(head, 0 , sizeof(*head));
  71:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** }
  72:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
  73:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
  74:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** void pack_head_destroy(pack_head_s *head)
  75:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** {
  76:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     if(head->buff)
  77:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     {
  78:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         PACK_FREE(head->buff);
  79:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         head->buff = NULL;
  80:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     }
  81:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
  82:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     if(head->checksum_pos)
  83:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     {
  84:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         PACK_FREE(head->checksum_pos);
  85:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         head->checksum_pos = NULL;
  86:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     }
  87:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
  88:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     if(head->checksum)
  89:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     {
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s 			page 3


  90:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         pack_checksum_delete(head->checksum);
  91:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         head->checksum = NULL;
  92:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     }
  93:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
  94:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     memset(&(head->buff), 0, sizeof(*head) - (((uint8_t *) & (head->buff)) - ((uint8_t *)head)));
  95:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** }
  96:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
  97:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** int pack_head_parse_head_len(pack_head_s *head, uint32_t offset, const uint8_t *buff,
  98:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****                                   uint16_t len, uint16_t *used_len)
  99:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** {
 100:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     *used_len = 0;
 101:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     if(offset < PACK_HEADER_MIN_LEN)
 102:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     {
 103:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         uint32_t copy_len;
 104:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         uint32_t head_len;
 105:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         uint32_t total_len;
 106:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         uint32_t version;
 107:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         if(offset > head->stored_len)
 108:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         {
 109:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             PACK_LOG("head not continuous, len %u offset %u", head->stored_len, offset);
 110:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             return PACK_ERR;
 111:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         }
 112:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 113:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         if(NULL == head->buff)
 114:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         {
 115:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             head->buff = PACK_MALLOC(PACK_HEADER_MIN_LEN);
 116:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             if(NULL == head->buff)
 117:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             {
 118:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****                 PACK_LOG("PACK_MALLOC fail");
 119:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****                 return PACK_ERR;
 120:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             }
 121:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             head->head_len = PACK_HEADER_MIN_LEN;
 122:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         }
 123:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         copy_len = MIN(PACK_HEADER_MIN_LEN - offset, len);
 124:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         memcpy(head->buff + offset, buff, copy_len);
 125:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         head->stored_len = offset + copy_len;
 126:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         *used_len = copy_len;
 127:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         if(head->stored_len < PACK_HEADER_MIN_LEN)
 128:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         {
 129:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             return PACK_OK;
 130:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         }
 131:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 132:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         version = GET_DWORD(head->buff, PACK_VERSION_POS);
 133:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         if(version != VERSION_NO)
 134:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         {
 135:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             PACK_LOG("invalid version %d", version);
 136:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             head->stored_len = 0;
 137:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             return PACK_ERR;
 138:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         }
 139:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 140:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         head_len = GET_DWORD(head->buff, PACK_HEADER_HEAD_LEN_POS);
 141:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         total_len = GET_DWORD(head->buff, PACK_HEADER_TOTAL_LEN_POS);
 142:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         if(head_len < PACK_HEADER_MIN_LEN || (head_len >= total_len)
 143:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             || (head_len > PACK_MAX_HEAD_LEN))
 144:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         {
 145:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             PACK_LOG("invalid head len %d, total len %d", head_len, total_len);
 146:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             head->stored_len = 0;
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s 			page 4


 147:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             return PACK_ERR;
 148:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         }
 149:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 150:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         if(head_len > head->head_len)
 151:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         {
 152:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             uint8_t *new_buff = PACK_MALLOC(head_len);
 153:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             if(NULL == new_buff)
 154:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             {
 155:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****                 PACK_LOG("PACK_MALLOC fail");
 156:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****                 return PACK_ERR;
 157:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             }
 158:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             memcpy(new_buff, head->buff, head->stored_len);
 159:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             PACK_FREE(head->buff);
 160:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             head->buff = new_buff;
 161:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             head->head_len = head_len;
 162:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         }
 163:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 164:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     }
 165:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     return PACK_OK;
 166:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** }
 167:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 168:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 169:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** static uint32_t pack_head_get_checksum_attribute(void)
 170:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** {
  27              		.loc 1 170 0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              		@ link register save eliminated.
 171:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** #if (PACK_CHECKSUM == PACK_SHA256_RSA2048)
 172:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     return PACK_TLV_T_SHA256_RSA2048;
 173:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** #elif (PACK_CHECKSUM == PACK_SHA256)
 174:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     return PACK_TLV_T_SHA256;
 175:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** #else
 176:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     return PACK_INVALID_TLV_T;
 177:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** #endif
 178:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** }
  32              		.loc 1 178 0
  33 0000 0320     		movs	r0, #3
  34 0002 7047     		bx	lr
  35              		.cfi_endproc
  36              	.LFE6:
  38              		.section	.text.pack_head_is_done,"ax",%progbits
  39              		.align	1
  40              		.syntax unified
  41              		.thumb
  42              		.thumb_func
  43              		.fpu fpv4-sp-d16
  45              	pack_head_is_done:
  46              	.LFB11:
 179:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 180:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** static int pack_head_handle_checksum_tlv(pack_head_s *head, uint8_t *value, uint32_t len)
 181:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** {
 182:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     if(head->checksum_pos)
 183:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     {
 184:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         PACK_FREE(head->checksum_pos);
 185:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         head->checksum_pos = NULL;
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s 			page 5


 186:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         head->checksum_len = 0;
 187:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     }
 188:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 189:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     if(len > 0)
 190:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     {
 191:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 192:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         head->checksum_pos = PACK_MALLOC(len);
 193:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         if(NULL == head->checksum_pos)
 194:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         {
 195:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             PACK_LOG("PACK_MALLOC %d fail", len);
 196:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             return PACK_ERR;
 197:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         }
 198:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         memcpy(head->checksum_pos, value, len);
 199:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     }
 200:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 201:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     head->checksum_len = len;
 202:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     memset(value, 0, len);
 203:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 204:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     return PACK_OK;
 205:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** }
 206:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 207:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** static int pack_head_handle_bin_type_tlv(pack_head_s *head, uint8_t *value, uint32_t len)
 208:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** {
 209:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     if (head->hardware->set_flash_type)
 210:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     {
 211:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         uint32_t flash_type =  GET_DWORD(value, 0);
 212:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         if (flash_type >= OTA_UPDATE_INFO)
 213:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         {
 214:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             PACK_LOG("flash_type %d invalid", flash_type);
 215:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             return PACK_ERR;
 216:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         }
 217:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         head->hardware->set_flash_type(head->hardware, (ota_flash_type_e)flash_type);
 218:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     }
 219:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 220:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     return PACK_OK;
 221:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** }
 222:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 223:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 224:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** static int pack_head_parse_tlvs(pack_head_s *head, uint8_t *buff, uint32_t len)
 225:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** {
 226:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     uint32_t attribute;
 227:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     uint32_t tlv_len;
 228:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     uint8_t *cur = buff + PACK_TLV_START_POS;
 229:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     uint32_t left_len = len - PACK_TLV_START_POS;
 230:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 231:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     int (*tlv_handles[2])(pack_head_s *head, uint8_t *value, uint32_t len) =
 232:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****                                 {pack_head_handle_checksum_tlv, pack_head_handle_bin_type_tlv};
 233:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     uint32_t attributes[array_size(tlv_handles)] = {PACK_INVALID_TLV_T, PACK_TLV_T_BIN_TYPE};
 234:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 235:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     attributes[0] = pack_head_get_checksum_attribute();
 236:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     while(left_len > 0)
 237:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     {
 238:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         uint32_t i;
 239:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 240:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         attribute = GET_WORD(cur, 0);
 241:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         cur += PACK_TLV_T_LEN;
 242:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         tlv_len = GET_WORD(cur, 0);
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s 			page 6


 243:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         cur += PACK_TLV_L_LEN;
 244:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         if(left_len < (PACK_TLV_T_LEN  + PACK_TLV_L_LEN + tlv_len))
 245:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         {
 246:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             PACK_LOG("tvl err attribute %d, tlv_len %d", attribute, tlv_len);
 247:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             return PACK_ERR;
 248:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         }
 249:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 250:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         for (i = 0; i < array_size(tlv_handles); i++)
 251:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         {
 252:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             if (attributes[i] == attribute)
 253:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             {
 254:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****                 if(tlv_handles[i](head, cur, tlv_len) != PACK_OK)
 255:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****                 {
 256:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****                     return PACK_ERR;
 257:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****                 }
 258:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****                 break;
 259:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             }
 260:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         }
 261:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 262:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         cur += tlv_len ;
 263:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         left_len -= (PACK_TLV_T_LEN  + PACK_TLV_L_LEN + tlv_len);
 264:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     }
 265:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 266:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     if(NULL == head->checksum_pos)
 267:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     {
 268:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         PACK_LOG("head empty checksum info");
 269:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** #if (PACK_CHECKSUM != PACK_NO_CHECKSUM)
 270:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         return PACK_ERR;
 271:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** #else
 272:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         return PACK_OK;
 273:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** #endif
 274:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     }
 275:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 276:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 277:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     if(head->checksum)
 278:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     {
 279:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         pack_checksum_delete(head->checksum);
 280:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         head->checksum = NULL;
 281:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     }
 282:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     head->checksum = pack_checksum_create(head);
 283:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     if(head->checksum == NULL)
 284:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     {
 285:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         PACK_LOG("pack_checksum_create fail");
 286:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         return PACK_ERR;
 287:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     }
 288:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     return PACK_OK;
 289:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 290:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** }
 291:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 292:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 293:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** int pack_head_parse(pack_head_s *head, uint32_t offset, const uint8_t *buff,
 294:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****                          uint16_t len, uint16_t *used_len)
 295:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** {
 296:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     int ret;
 297:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     uint16_t tmp_len = 0;
 298:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 299:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     *used_len = 0;
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s 			page 7


 300:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     ret = pack_head_parse_head_len(head, offset, buff, len, &tmp_len);
 301:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     if(ret != PACK_OK)
 302:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     {
 303:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         return ret;
 304:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     }
 305:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 306:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     len -= tmp_len;
 307:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     if((0 == len) && (head->stored_len < head->head_len))
 308:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     {
 309:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         *used_len = tmp_len;
 310:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         return PACK_OK;
 311:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     }
 312:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 313:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     offset += tmp_len;
 314:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     buff += tmp_len;
 315:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 316:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     if((head->head_len < PACK_HEADER_MIN_LEN)
 317:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             || (NULL == head->buff)
 318:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             || ((head->stored_len < head->head_len) && (offset > head->stored_len)))
 319:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     {
 320:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         PACK_LOG("head not continuous, len %u offset %u", head->stored_len, offset);
 321:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         return PACK_ERR;
 322:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     }
 323:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 324:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     if(offset < head->head_len)
 325:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     {
 326:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         uint16_t copy_len;
 327:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 328:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         copy_len = MIN(len, head->head_len - offset);
 329:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         (void)memcpy(head->buff + offset, buff, copy_len);
 330:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         *used_len = copy_len + tmp_len;
 331:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         head->stored_len = offset + copy_len;
 332:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         if(head->stored_len >= head->head_len)
 333:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         {
 334:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             uint32_t save_len;
 335:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             save_len = GET_DWORD(head->buff, PACK_HEADER_TOTAL_LEN_POS);
 336:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             if(save_len <= head->head_len)
 337:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             {
 338:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****                 PACK_LOG("head len err, save len %d head len %u", save_len, head->head_len);
 339:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****                 return PACK_ERR;
 340:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             }
 341:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 342:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             if(head->hardware && head->hardware->get_max_size)
 343:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             {
 344:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****                 uint32_t max_len = head->hardware->get_max_size(head->hardware);
 345:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****                 if(max_len < save_len - head->head_len)
 346:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****                 {
 347:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****                     PACK_LOG("size exceed, save len %u head len %u max_len %u", save_len, head->hea
 348:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****                     return PACK_ERR;
 349:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****                 }
 350:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             }
 351:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 352:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             if(head->update_check)
 353:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             {
 354:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****                 if(head->update_check(head->buff, head->head_len, head->param) != PACK_OK)
 355:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****                 {
 356:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****                     return PACK_ERR;
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s 			page 8


 357:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****                 }
 358:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             }
 359:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 360:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             return pack_head_parse_tlvs(head, head->buff, head->head_len);
 361:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         }
 362:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     }
 363:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 364:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     return PACK_OK;
 365:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** }
 366:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 367:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** static bool pack_head_is_done(const pack_head_s *head)
 368:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** {
  47              		.loc 1 368 0
  48              		.cfi_startproc
  49              		@ args = 0, pretend = 0, frame = 0
  50              		@ frame_needed = 0, uses_anonymous_args = 0
  51              		@ link register save eliminated.
  52              	.LVL0:
 369:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     return ((head->head_len >= PACK_HEADER_MIN_LEN) && (head->stored_len == head->head_len));
  53              		.loc 1 369 0
  54 0000 438B     		ldrh	r3, [r0, #26]
  55 0002 0B2B     		cmp	r3, #11
  56 0004 04D9     		bls	.L4
  57              		.loc 1 369 0 is_stmt 0 discriminator 1
  58 0006 028B     		ldrh	r2, [r0, #24]
  59 0008 9342     		cmp	r3, r2
  60 000a 03D0     		beq	.L5
  61              		.loc 1 369 0
  62 000c 0020     		movs	r0, #0
  63              	.LVL1:
  64 000e 7047     		bx	lr
  65              	.LVL2:
  66              	.L4:
  67 0010 0020     		movs	r0, #0
  68              	.LVL3:
  69 0012 7047     		bx	lr
  70              	.LVL4:
  71              	.L5:
  72 0014 0120     		movs	r0, #1
  73              	.LVL5:
 370:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** }
  74              		.loc 1 370 0 is_stmt 1
  75 0016 7047     		bx	lr
  76              		.cfi_endproc
  77              	.LFE11:
  79              		.section	.text.pack_head_handle_bin_type_tlv,"ax",%progbits
  80              		.align	1
  81              		.syntax unified
  82              		.thumb
  83              		.thumb_func
  84              		.fpu fpv4-sp-d16
  86              	pack_head_handle_bin_type_tlv:
  87              	.LFB8:
 208:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     if (head->hardware->set_flash_type)
  88              		.loc 1 208 0
  89              		.cfi_startproc
  90              		@ args = 0, pretend = 0, frame = 0
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s 			page 9


  91              		@ frame_needed = 0, uses_anonymous_args = 0
  92              	.LVL6:
  93 0000 38B5     		push	{r3, r4, r5, lr}
  94              	.LCFI0:
  95              		.cfi_def_cfa_offset 16
  96              		.cfi_offset 3, -16
  97              		.cfi_offset 4, -12
  98              		.cfi_offset 5, -8
  99              		.cfi_offset 14, -4
 209:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     {
 100              		.loc 1 209 0
 101 0002 0068     		ldr	r0, [r0]
 102              	.LVL7:
 103 0004 8368     		ldr	r3, [r0, #8]
 104 0006 D3B1     		cbz	r3, .L9
 105              	.LBB2:
 211:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         if (flash_type >= OTA_UPDATE_INFO)
 106              		.loc 1 211 0
 107 0008 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 108              	.LVL8:
 109 000a 4C78     		ldrb	r4, [r1, #1]	@ zero_extendqisi2
 110 000c 2404     		lsls	r4, r4, #16
 111 000e 44EA0264 		orr	r4, r4, r2, lsl #24
 112 0012 8A78     		ldrb	r2, [r1, #2]	@ zero_extendqisi2
 113 0014 44EA0224 		orr	r4, r4, r2, lsl #8
 114 0018 CA78     		ldrb	r2, [r1, #3]	@ zero_extendqisi2
 115 001a 1443     		orrs	r4, r4, r2
 116              	.LVL9:
 212:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         {
 117              		.loc 1 212 0
 118 001c 012C     		cmp	r4, #1
 119 001e 03D8     		bhi	.L12
 217:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     }
 120              		.loc 1 217 0
 121 0020 E1B2     		uxtb	r1, r4
 122              	.LVL10:
 123 0022 9847     		blx	r3
 124              	.LVL11:
 125              	.LBE2:
 220:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** }
 126              		.loc 1 220 0
 127 0024 0020     		movs	r0, #0
 128              	.LVL12:
 129              	.L6:
 221:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 130              		.loc 1 221 0
 131 0026 38BD     		pop	{r3, r4, r5, pc}
 132              	.LVL13:
 133              	.L12:
 134              	.LBB4:
 135              	.LBB3:
 214:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             return PACK_ERR;
 136              		.loc 1 214 0
 137 0028 FFF7FEFF 		bl	pack_get_params
 138              	.LVL14:
 139 002c C569     		ldr	r5, [r0, #28]
 140 002e 45B1     		cbz	r5, .L10
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s 			page 10


 214:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             return PACK_ERR;
 141              		.loc 1 214 0 is_stmt 0 discriminator 1
 142 0030 2346     		mov	r3, r4
 143 0032 D622     		movs	r2, #214
 144 0034 0449     		ldr	r1, .L13
 145 0036 0548     		ldr	r0, .L13+4
 146              	.LVL15:
 147 0038 A847     		blx	r5
 148              	.LVL16:
 149              	.LBE3:
 215:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         }
 150              		.loc 1 215 0 is_stmt 1 discriminator 1
 151 003a 0120     		movs	r0, #1
 152 003c F3E7     		b	.L6
 153              	.LVL17:
 154              	.L9:
 155              	.LBE4:
 220:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** }
 156              		.loc 1 220 0
 157 003e 0020     		movs	r0, #0
 158 0040 F1E7     		b	.L6
 159              	.LVL18:
 160              	.L10:
 161              	.LBB5:
 215:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         }
 162              		.loc 1 215 0
 163 0042 0120     		movs	r0, #1
 164              	.LVL19:
 165 0044 EFE7     		b	.L6
 166              	.L14:
 167 0046 00BF     		.align	2
 168              	.L13:
 169 0048 00000000 		.word	.LANCHOR0
 170 004c 00000000 		.word	.LC2
 171              	.LBE5:
 172              		.cfi_endproc
 173              	.LFE8:
 175              		.section	.text.pack_head_handle_checksum_tlv,"ax",%progbits
 176              		.align	1
 177              		.syntax unified
 178              		.thumb
 179              		.thumb_func
 180              		.fpu fpv4-sp-d16
 182              	pack_head_handle_checksum_tlv:
 183              	.LFB7:
 181:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     if(head->checksum_pos)
 184              		.loc 1 181 0
 185              		.cfi_startproc
 186              		@ args = 0, pretend = 0, frame = 0
 187              		@ frame_needed = 0, uses_anonymous_args = 0
 188              	.LVL20:
 189 0000 70B5     		push	{r4, r5, r6, lr}
 190              	.LCFI1:
 191              		.cfi_def_cfa_offset 16
 192              		.cfi_offset 4, -16
 193              		.cfi_offset 5, -12
 194              		.cfi_offset 6, -8
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s 			page 11


 195              		.cfi_offset 14, -4
 196 0002 0546     		mov	r5, r0
 197 0004 0E46     		mov	r6, r1
 198 0006 1446     		mov	r4, r2
 182:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     {
 199              		.loc 1 182 0
 200 0008 006A     		ldr	r0, [r0, #32]
 201              	.LVL21:
 202 000a 20B1     		cbz	r0, .L16
 184:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         head->checksum_pos = NULL;
 203              		.loc 1 184 0
 204 000c FFF7FEFF 		bl	pack_free
 205              	.LVL22:
 185:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         head->checksum_len = 0;
 206              		.loc 1 185 0
 207 0010 0023     		movs	r3, #0
 208 0012 2B62     		str	r3, [r5, #32]
 186:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     }
 209              		.loc 1 186 0
 210 0014 6B62     		str	r3, [r5, #36]
 211              	.L16:
 189:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     {
 212              		.loc 1 189 0
 213 0016 44B1     		cbz	r4, .L17
 192:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         if(NULL == head->checksum_pos)
 214              		.loc 1 192 0
 215 0018 2046     		mov	r0, r4
 216 001a FFF7FEFF 		bl	pack_malloc
 217              	.LVL23:
 218 001e 2862     		str	r0, [r5, #32]
 193:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         {
 219              		.loc 1 193 0
 220 0020 58B1     		cbz	r0, .L22
 198:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     }
 221              		.loc 1 198 0
 222 0022 2246     		mov	r2, r4
 223 0024 3146     		mov	r1, r6
 224 0026 FFF7FEFF 		bl	memcpy
 225              	.LVL24:
 226              	.L17:
 201:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     memset(value, 0, len);
 227              		.loc 1 201 0
 228 002a 6C62     		str	r4, [r5, #36]
 202:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 229              		.loc 1 202 0
 230 002c 2246     		mov	r2, r4
 231 002e 0021     		movs	r1, #0
 232 0030 3046     		mov	r0, r6
 233 0032 FFF7FEFF 		bl	memset
 234              	.LVL25:
 204:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** }
 235              		.loc 1 204 0
 236 0036 0020     		movs	r0, #0
 237              	.LVL26:
 238              	.L15:
 205:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 239              		.loc 1 205 0
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s 			page 12


 240 0038 70BD     		pop	{r4, r5, r6, pc}
 241              	.LVL27:
 242              	.L22:
 243              	.LBB6:
 195:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             return PACK_ERR;
 244              		.loc 1 195 0
 245 003a FFF7FEFF 		bl	pack_get_params
 246              	.LVL28:
 247 003e C569     		ldr	r5, [r0, #28]
 248              	.LVL29:
 249 0040 35B1     		cbz	r5, .L20
 195:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             return PACK_ERR;
 250              		.loc 1 195 0 is_stmt 0 discriminator 1
 251 0042 2346     		mov	r3, r4
 252 0044 C322     		movs	r2, #195
 253 0046 0349     		ldr	r1, .L23
 254 0048 0348     		ldr	r0, .L23+4
 255              	.LVL30:
 256 004a A847     		blx	r5
 257              	.LVL31:
 258              	.LBE6:
 196:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         }
 259              		.loc 1 196 0 is_stmt 1 discriminator 1
 260 004c 0120     		movs	r0, #1
 261 004e F3E7     		b	.L15
 262              	.LVL32:
 263              	.L20:
 196:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         }
 264              		.loc 1 196 0 is_stmt 0
 265 0050 0120     		movs	r0, #1
 266              	.LVL33:
 267 0052 F1E7     		b	.L15
 268              	.L24:
 269              		.align	2
 270              	.L23:
 271 0054 00000000 		.word	.LANCHOR1
 272 0058 00000000 		.word	.LC3
 273              		.cfi_endproc
 274              	.LFE7:
 276              		.section	.text.pack_head_parse_tlvs,"ax",%progbits
 277              		.align	1
 278              		.syntax unified
 279              		.thumb
 280              		.thumb_func
 281              		.fpu fpv4-sp-d16
 283              	pack_head_parse_tlvs:
 284              	.LFB9:
 225:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     uint32_t attribute;
 285              		.loc 1 225 0 is_stmt 1
 286              		.cfi_startproc
 287              		@ args = 0, pretend = 0, frame = 16
 288              		@ frame_needed = 0, uses_anonymous_args = 0
 289              	.LVL34:
 290 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 291              	.LCFI2:
 292              		.cfi_def_cfa_offset 24
 293              		.cfi_offset 4, -24
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s 			page 13


 294              		.cfi_offset 5, -20
 295              		.cfi_offset 6, -16
 296              		.cfi_offset 7, -12
 297              		.cfi_offset 8, -8
 298              		.cfi_offset 14, -4
 299 0004 86B0     		sub	sp, sp, #24
 300              	.LCFI3:
 301              		.cfi_def_cfa_offset 48
 302 0006 8046     		mov	r8, r0
 228:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     uint32_t left_len = len - PACK_TLV_START_POS;
 303              		.loc 1 228 0
 304 0008 01F10C04 		add	r4, r1, #12
 305              	.LVL35:
 229:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 306              		.loc 1 229 0
 307 000c A2F10C07 		sub	r7, r2, #12
 308              	.LVL36:
 231:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****                                 {pack_head_handle_checksum_tlv, pack_head_handle_bin_type_tlv};
 309              		.loc 1 231 0
 310 0010 3B4B     		ldr	r3, .L48
 311 0012 93E80300 		ldm	r3, {r0, r1}
 312              	.LVL37:
 313 0016 06AA     		add	r2, sp, #24
 314              	.LVL38:
 315 0018 02E90300 		stmdb	r2, {r0, r1}
 233:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 316              		.loc 1 233 0
 317 001c 02AA     		add	r2, sp, #8
 318 001e 0833     		adds	r3, r3, #8
 319 0020 93E80300 		ldm	r3, {r0, r1}
 320 0024 82E80300 		stm	r2, {r0, r1}
 235:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     while(left_len > 0)
 321              		.loc 1 235 0
 322 0028 FFF7FEFF 		bl	pack_head_get_checksum_attribute
 323              	.LVL39:
 324 002c 0290     		str	r0, [sp, #8]
 236:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     {
 325              		.loc 1 236 0
 326 002e 1CE0     		b	.L26
 327              	.LVL40:
 328              	.L44:
 329              	.LBB7:
 330              	.LBB8:
 246:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             return PACK_ERR;
 331              		.loc 1 246 0
 332 0030 FFF7FEFF 		bl	pack_get_params
 333              	.LVL41:
 334 0034 C469     		ldr	r4, [r0, #28]
 335              	.LVL42:
 336 0036 002C     		cmp	r4, #0
 337 0038 59D0     		beq	.L36
 246:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             return PACK_ERR;
 338              		.loc 1 246 0 is_stmt 0 discriminator 1
 339 003a 0095     		str	r5, [sp]
 340 003c 3346     		mov	r3, r6
 341 003e F622     		movs	r2, #246
 342 0040 3049     		ldr	r1, .L48+4
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s 			page 14


 343 0042 3148     		ldr	r0, .L48+8
 344              	.LVL43:
 345 0044 A047     		blx	r4
 346              	.LVL44:
 347              	.LBE8:
 247:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         }
 348              		.loc 1 247 0 is_stmt 1 discriminator 1
 349 0046 0120     		movs	r0, #1
 350              	.LVL45:
 351              	.L25:
 352              	.LBE7:
 290:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 353              		.loc 1 290 0
 354 0048 06B0     		add	sp, sp, #24
 355              	.LCFI4:
 356              		.cfi_remember_state
 357              		.cfi_def_cfa_offset 24
 358              		@ sp needed
 359 004a BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 360              	.LVL46:
 361              	.L45:
 362              	.LCFI5:
 363              		.cfi_restore_state
 364              	.LBB9:
 254:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****                 {
 365              		.loc 1 254 0
 366 004e 06AA     		add	r2, sp, #24
 367 0050 02EB8303 		add	r3, r2, r3, lsl #2
 368              	.LVL47:
 369 0054 53F8083C 		ldr	r3, [r3, #-8]
 370 0058 2A46     		mov	r2, r5
 371 005a 2146     		mov	r1, r4
 372 005c 4046     		mov	r0, r8
 373 005e 9847     		blx	r3
 374              	.LVL48:
 375 0060 0028     		cmp	r0, #0
 376 0062 46D1     		bne	.L42
 377              	.L30:
 262:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         left_len -= (PACK_TLV_T_LEN  + PACK_TLV_L_LEN + tlv_len);
 378              		.loc 1 262 0
 379 0064 2C44     		add	r4, r4, r5
 380              	.LVL49:
 263:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     }
 381              		.loc 1 263 0
 382 0066 7F1B     		subs	r7, r7, r5
 383              	.LVL50:
 384 0068 043F     		subs	r7, r7, #4
 385              	.LVL51:
 386              	.L26:
 387              	.LBE9:
 236:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     {
 388              		.loc 1 236 0
 389 006a BFB1     		cbz	r7, .L43
 390              	.LBB10:
 240:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         cur += PACK_TLV_T_LEN;
 391              		.loc 1 240 0
 392 006c 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s 			page 15


 393 006e 6678     		ldrb	r6, [r4, #1]	@ zero_extendqisi2
 394 0070 46EA0326 		orr	r6, r6, r3, lsl #8
 395              	.LVL52:
 242:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         cur += PACK_TLV_L_LEN;
 396              		.loc 1 242 0
 397 0074 A378     		ldrb	r3, [r4, #2]	@ zero_extendqisi2
 398 0076 E578     		ldrb	r5, [r4, #3]	@ zero_extendqisi2
 399 0078 45EA0325 		orr	r5, r5, r3, lsl #8
 400              	.LVL53:
 243:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         if(left_len < (PACK_TLV_T_LEN  + PACK_TLV_L_LEN + tlv_len))
 401              		.loc 1 243 0
 402 007c 0434     		adds	r4, r4, #4
 403              	.LVL54:
 244:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         {
 404              		.loc 1 244 0
 405 007e 2B1D     		adds	r3, r5, #4
 406 0080 BB42     		cmp	r3, r7
 407 0082 D5D8     		bhi	.L44
 250:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         {
 408              		.loc 1 250 0
 409 0084 0023     		movs	r3, #0
 410              	.L27:
 411              	.LVL55:
 250:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         {
 412              		.loc 1 250 0 is_stmt 0 discriminator 1
 413 0086 012B     		cmp	r3, #1
 414 0088 ECD8     		bhi	.L30
 252:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             {
 415              		.loc 1 252 0 is_stmt 1
 416 008a 06AA     		add	r2, sp, #24
 417 008c 02EB8302 		add	r2, r2, r3, lsl #2
 418 0090 52F8102C 		ldr	r2, [r2, #-16]
 419 0094 B242     		cmp	r2, r6
 420 0096 DAD0     		beq	.L45
 250:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         {
 421              		.loc 1 250 0 discriminator 2
 422 0098 0133     		adds	r3, r3, #1
 423              	.LVL56:
 424 009a F4E7     		b	.L27
 425              	.LVL57:
 426              	.L43:
 427              	.LBE10:
 266:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     {
 428              		.loc 1 266 0
 429 009c D8F82030 		ldr	r3, [r8, #32]
 430 00a0 7BB1     		cbz	r3, .L46
 277:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     {
 431              		.loc 1 277 0
 432 00a2 D8F81C00 		ldr	r0, [r8, #28]
 433 00a6 20B1     		cbz	r0, .L34
 279:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         head->checksum = NULL;
 434              		.loc 1 279 0
 435 00a8 FFF7FEFF 		bl	pack_checksum_delete
 436              	.LVL58:
 280:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     }
 437              		.loc 1 280 0
 438 00ac 0023     		movs	r3, #0
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s 			page 16


 439 00ae C8F81C30 		str	r3, [r8, #28]
 440              	.L34:
 282:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     if(head->checksum == NULL)
 441              		.loc 1 282 0
 442 00b2 4046     		mov	r0, r8
 443 00b4 FFF7FEFF 		bl	pack_checksum_create
 444              	.LVL59:
 445 00b8 C8F81C00 		str	r0, [r8, #28]
 283:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     {
 446              		.loc 1 283 0
 447 00bc 60B1     		cbz	r0, .L47
 288:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 448              		.loc 1 288 0
 449 00be 0020     		movs	r0, #0
 450 00c0 C2E7     		b	.L25
 451              	.L46:
 452              	.LBB11:
 268:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** #if (PACK_CHECKSUM != PACK_NO_CHECKSUM)
 453              		.loc 1 268 0
 454 00c2 FFF7FEFF 		bl	pack_get_params
 455              	.LVL60:
 456 00c6 C369     		ldr	r3, [r0, #28]
 457 00c8 ABB1     		cbz	r3, .L38
 268:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** #if (PACK_CHECKSUM != PACK_NO_CHECKSUM)
 458              		.loc 1 268 0 is_stmt 0 discriminator 1
 459 00ca 4FF48672 		mov	r2, #268
 460 00ce 0D49     		ldr	r1, .L48+4
 461 00d0 0E48     		ldr	r0, .L48+12
 462              	.LVL61:
 463 00d2 9847     		blx	r3
 464              	.LVL62:
 465              	.LBE11:
 270:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** #else
 466              		.loc 1 270 0 is_stmt 1 discriminator 1
 467 00d4 0120     		movs	r0, #1
 468 00d6 B7E7     		b	.L25
 469              	.L47:
 470              	.LBB12:
 285:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         return PACK_ERR;
 471              		.loc 1 285 0
 472 00d8 FFF7FEFF 		bl	pack_get_params
 473              	.LVL63:
 474 00dc C369     		ldr	r3, [r0, #28]
 475 00de 63B1     		cbz	r3, .L40
 285:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         return PACK_ERR;
 476              		.loc 1 285 0 is_stmt 0 discriminator 1
 477 00e0 40F21D12 		movw	r2, #285
 478 00e4 0749     		ldr	r1, .L48+4
 479 00e6 0A48     		ldr	r0, .L48+16
 480              	.LVL64:
 481 00e8 9847     		blx	r3
 482              	.LVL65:
 483              	.LBE12:
 286:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     }
 484              		.loc 1 286 0 is_stmt 1 discriminator 1
 485 00ea 0120     		movs	r0, #1
 486 00ec ACE7     		b	.L25
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s 			page 17


 487              	.LVL66:
 488              	.L36:
 489              	.LBB13:
 247:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         }
 490              		.loc 1 247 0
 491 00ee 0120     		movs	r0, #1
 492              	.LVL67:
 493 00f0 AAE7     		b	.L25
 494              	.LVL68:
 495              	.L42:
 256:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****                 }
 496              		.loc 1 256 0
 497 00f2 0120     		movs	r0, #1
 498 00f4 A8E7     		b	.L25
 499              	.LVL69:
 500              	.L38:
 501              	.LBE13:
 270:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** #else
 502              		.loc 1 270 0
 503 00f6 0120     		movs	r0, #1
 504              	.LVL70:
 505 00f8 A6E7     		b	.L25
 506              	.LVL71:
 507              	.L40:
 286:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     }
 508              		.loc 1 286 0
 509 00fa 0120     		movs	r0, #1
 510              	.LVL72:
 511 00fc A4E7     		b	.L25
 512              	.L49:
 513 00fe 00BF     		.align	2
 514              	.L48:
 515 0100 00000000 		.word	.LANCHOR2
 516 0104 00000000 		.word	.LANCHOR3
 517 0108 00000000 		.word	.LC4
 518 010c 2C000000 		.word	.LC5
 519 0110 50000000 		.word	.LC6
 520              		.cfi_endproc
 521              	.LFE9:
 523              		.section	.text.pack_head_init,"ax",%progbits
 524              		.align	1
 525              		.global	pack_head_init
 526              		.syntax unified
 527              		.thumb
 528              		.thumb_func
 529              		.fpu fpv4-sp-d16
 531              	pack_head_init:
 532              	.LFB3:
  69:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     (void)memset(head, 0 , sizeof(*head));
 533              		.loc 1 69 0
 534              		.cfi_startproc
 535              		@ args = 0, pretend = 0, frame = 0
 536              		@ frame_needed = 0, uses_anonymous_args = 0
 537              	.LVL73:
 538 0000 08B5     		push	{r3, lr}
 539              	.LCFI6:
 540              		.cfi_def_cfa_offset 8
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s 			page 18


 541              		.cfi_offset 3, -8
 542              		.cfi_offset 14, -4
  70:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** }
 543              		.loc 1 70 0
 544 0002 2822     		movs	r2, #40
 545 0004 0021     		movs	r1, #0
 546 0006 FFF7FEFF 		bl	memset
 547              	.LVL74:
  71:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 548              		.loc 1 71 0
 549 000a 08BD     		pop	{r3, pc}
 550              		.cfi_endproc
 551              	.LFE3:
 553              		.section	.text.pack_head_destroy,"ax",%progbits
 554              		.align	1
 555              		.global	pack_head_destroy
 556              		.syntax unified
 557              		.thumb
 558              		.thumb_func
 559              		.fpu fpv4-sp-d16
 561              	pack_head_destroy:
 562              	.LFB4:
  75:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     if(head->buff)
 563              		.loc 1 75 0
 564              		.cfi_startproc
 565              		@ args = 0, pretend = 0, frame = 0
 566              		@ frame_needed = 0, uses_anonymous_args = 0
 567              	.LVL75:
 568 0000 10B5     		push	{r4, lr}
 569              	.LCFI7:
 570              		.cfi_def_cfa_offset 8
 571              		.cfi_offset 4, -8
 572              		.cfi_offset 14, -4
 573 0002 0446     		mov	r4, r0
  76:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     {
 574              		.loc 1 76 0
 575 0004 4069     		ldr	r0, [r0, #20]
 576              	.LVL76:
 577 0006 18B1     		cbz	r0, .L53
  78:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         head->buff = NULL;
 578              		.loc 1 78 0
 579 0008 FFF7FEFF 		bl	pack_free
 580              	.LVL77:
  79:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     }
 581              		.loc 1 79 0
 582 000c 0023     		movs	r3, #0
 583 000e 6361     		str	r3, [r4, #20]
 584              	.L53:
  82:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     {
 585              		.loc 1 82 0
 586 0010 206A     		ldr	r0, [r4, #32]
 587 0012 18B1     		cbz	r0, .L54
  84:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         head->checksum_pos = NULL;
 588              		.loc 1 84 0
 589 0014 FFF7FEFF 		bl	pack_free
 590              	.LVL78:
  85:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     }
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s 			page 19


 591              		.loc 1 85 0
 592 0018 0023     		movs	r3, #0
 593 001a 2362     		str	r3, [r4, #32]
 594              	.L54:
  88:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     {
 595              		.loc 1 88 0
 596 001c E069     		ldr	r0, [r4, #28]
 597 001e 08B1     		cbz	r0, .L55
  90:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         head->checksum = NULL;
 598              		.loc 1 90 0
 599 0020 FFF7FEFF 		bl	pack_checksum_delete
 600              	.LVL79:
 601              	.L55:
  94:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** }
 602              		.loc 1 94 0
 603 0024 0023     		movs	r3, #0
 604 0026 6361     		str	r3, [r4, #20]	@ unaligned
 605 0028 A361     		str	r3, [r4, #24]	@ unaligned
 606 002a E361     		str	r3, [r4, #28]	@ unaligned
 607 002c 2362     		str	r3, [r4, #32]	@ unaligned
 608 002e 6362     		str	r3, [r4, #36]	@ unaligned
  95:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 609              		.loc 1 95 0
 610 0030 10BD     		pop	{r4, pc}
 611              		.cfi_endproc
 612              	.LFE4:
 614              		.section	.text.pack_head_parse_head_len,"ax",%progbits
 615              		.align	1
 616              		.global	pack_head_parse_head_len
 617              		.syntax unified
 618              		.thumb
 619              		.thumb_func
 620              		.fpu fpv4-sp-d16
 622              	pack_head_parse_head_len:
 623              	.LFB5:
  99:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     *used_len = 0;
 624              		.loc 1 99 0
 625              		.cfi_startproc
 626              		@ args = 4, pretend = 0, frame = 0
 627              		@ frame_needed = 0, uses_anonymous_args = 0
 628              	.LVL80:
 629 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 630              	.LCFI8:
 631              		.cfi_def_cfa_offset 28
 632              		.cfi_offset 4, -28
 633              		.cfi_offset 5, -24
 634              		.cfi_offset 6, -20
 635              		.cfi_offset 7, -16
 636              		.cfi_offset 8, -12
 637              		.cfi_offset 9, -8
 638              		.cfi_offset 14, -4
 639 0004 83B0     		sub	sp, sp, #12
 640              	.LCFI9:
 641              		.cfi_def_cfa_offset 40
 642 0006 0A9F     		ldr	r7, [sp, #40]
 100:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     if(offset < PACK_HEADER_MIN_LEN)
 643              		.loc 1 100 0
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s 			page 20


 644 0008 0025     		movs	r5, #0
 645 000a 3D80     		strh	r5, [r7]	@ movhi
 101:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     {
 646              		.loc 1 101 0
 647 000c 0B29     		cmp	r1, #11
 648 000e 00F29E80 		bhi	.L68
 649 0012 9946     		mov	r9, r3
 650 0014 9046     		mov	r8, r2
 651 0016 0D46     		mov	r5, r1
 652 0018 0646     		mov	r6, r0
 653              	.LBB14:
 107:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         {
 654              		.loc 1 107 0
 655 001a 038B     		ldrh	r3, [r0, #24]
 656              	.LVL81:
 657 001c 8B42     		cmp	r3, r1
 658 001e 4AD3     		bcc	.L75
 113:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         {
 659              		.loc 1 113 0
 660 0020 4369     		ldr	r3, [r0, #20]
 661 0022 002B     		cmp	r3, #0
 662 0024 54D0     		beq	.L76
 663              	.LVL82:
 664              	.L60:
 123:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         memcpy(head->buff + offset, buff, copy_len);
 665              		.loc 1 123 0
 666 0026 C5F10C04 		rsb	r4, r5, #12
 667 002a 4C45     		cmp	r4, r9
 668 002c 28BF     		it	cs
 669 002e 4C46     		movcs	r4, r9
 670              	.LVL83:
 124:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         head->stored_len = offset + copy_len;
 671              		.loc 1 124 0
 672 0030 7069     		ldr	r0, [r6, #20]
 673 0032 2246     		mov	r2, r4
 674 0034 4146     		mov	r1, r8
 675 0036 2844     		add	r0, r0, r5
 676 0038 FFF7FEFF 		bl	memcpy
 677              	.LVL84:
 125:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         *used_len = copy_len;
 678              		.loc 1 125 0
 679 003c A4B2     		uxth	r4, r4
 680              	.LVL85:
 681 003e 6119     		adds	r1, r4, r5
 682 0040 3183     		strh	r1, [r6, #24]	@ movhi
 126:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         if(head->stored_len < PACK_HEADER_MIN_LEN)
 683              		.loc 1 126 0
 684 0042 3C80     		strh	r4, [r7]	@ movhi
 127:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         {
 685              		.loc 1 127 0
 686 0044 338B     		ldrh	r3, [r6, #24]
 687 0046 0B2B     		cmp	r3, #11
 688 0048 40F28980 		bls	.L71
 132:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         if(version != VERSION_NO)
 689              		.loc 1 132 0
 690 004c 7269     		ldr	r2, [r6, #20]
 691 004e 1178     		ldrb	r1, [r2]	@ zero_extendqisi2
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s 			page 21


 692 0050 5378     		ldrb	r3, [r2, #1]	@ zero_extendqisi2
 693 0052 1B04     		lsls	r3, r3, #16
 694 0054 43EA0163 		orr	r3, r3, r1, lsl #24
 695 0058 9178     		ldrb	r1, [r2, #2]	@ zero_extendqisi2
 696 005a 43EA0123 		orr	r3, r3, r1, lsl #8
 697 005e D478     		ldrb	r4, [r2, #3]	@ zero_extendqisi2
 698              	.LVL86:
 133:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         {
 699              		.loc 1 133 0
 700 0060 1C43     		orrs	r4, r3, r4
 701              	.LVL87:
 702 0062 48D1     		bne	.L77
 140:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         total_len = GET_DWORD(head->buff, PACK_HEADER_TOTAL_LEN_POS);
 703              		.loc 1 140 0
 704 0064 1379     		ldrb	r3, [r2, #4]	@ zero_extendqisi2
 705 0066 5479     		ldrb	r4, [r2, #5]	@ zero_extendqisi2
 706              	.LVL88:
 707 0068 2404     		lsls	r4, r4, #16
 708 006a 44EA0364 		orr	r4, r4, r3, lsl #24
 709 006e 9379     		ldrb	r3, [r2, #6]	@ zero_extendqisi2
 710 0070 44EA0324 		orr	r4, r4, r3, lsl #8
 711 0074 D379     		ldrb	r3, [r2, #7]	@ zero_extendqisi2
 712 0076 1C43     		orrs	r4, r4, r3
 713              	.LVL89:
 141:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         if(head_len < PACK_HEADER_MIN_LEN || (head_len >= total_len)
 714              		.loc 1 141 0
 715 0078 137A     		ldrb	r3, [r2, #8]	@ zero_extendqisi2
 716 007a 557A     		ldrb	r5, [r2, #9]	@ zero_extendqisi2
 717              	.LVL90:
 718 007c 2D04     		lsls	r5, r5, #16
 719 007e 45EA0365 		orr	r5, r5, r3, lsl #24
 720 0082 937A     		ldrb	r3, [r2, #10]	@ zero_extendqisi2
 721 0084 45EA0325 		orr	r5, r5, r3, lsl #8
 722 0088 D37A     		ldrb	r3, [r2, #11]	@ zero_extendqisi2
 723 008a 1D43     		orrs	r5, r5, r3
 724              	.LVL91:
 142:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             || (head_len > PACK_MAX_HEAD_LEN))
 725              		.loc 1 142 0
 726 008c 0B2C     		cmp	r4, #11
 727 008e 04D9     		bls	.L64
 142:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             || (head_len > PACK_MAX_HEAD_LEN))
 728              		.loc 1 142 0 is_stmt 0 discriminator 1
 729 0090 AC42     		cmp	r4, r5
 730 0092 02D2     		bcs	.L64
 143:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         {
 731              		.loc 1 143 0 is_stmt 1
 732 0094 B4F5805F 		cmp	r4, #4096
 733 0098 3AD9     		bls	.L65
 734              	.L64:
 735              	.LBB15:
 145:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             head->stored_len = 0;
 736              		.loc 1 145 0
 737 009a FFF7FEFF 		bl	pack_get_params
 738              	.LVL92:
 739 009e C769     		ldr	r7, [r0, #28]
 740 00a0 2FB1     		cbz	r7, .L66
 145:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             head->stored_len = 0;
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s 			page 22


 741              		.loc 1 145 0 is_stmt 0 discriminator 1
 742 00a2 0095     		str	r5, [sp]
 743 00a4 2346     		mov	r3, r4
 744 00a6 9122     		movs	r2, #145
 745 00a8 2F49     		ldr	r1, .L81
 746 00aa 3048     		ldr	r0, .L81+4
 747              	.LVL93:
 748 00ac B847     		blx	r7
 749              	.LVL94:
 750              	.L66:
 751              	.LBE15:
 146:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             return PACK_ERR;
 752              		.loc 1 146 0 is_stmt 1
 753 00ae 0023     		movs	r3, #0
 754 00b0 3383     		strh	r3, [r6, #24]	@ movhi
 147:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         }
 755              		.loc 1 147 0
 756 00b2 0120     		movs	r0, #1
 757 00b4 4CE0     		b	.L57
 758              	.LVL95:
 759              	.L75:
 760              	.LBB16:
 109:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             return PACK_ERR;
 761              		.loc 1 109 0
 762 00b6 FFF7FEFF 		bl	pack_get_params
 763              	.LVL96:
 764 00ba C469     		ldr	r4, [r0, #28]
 765 00bc 002C     		cmp	r4, #0
 766 00be 4AD0     		beq	.L69
 109:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             return PACK_ERR;
 767              		.loc 1 109 0 is_stmt 0 discriminator 1
 768 00c0 338B     		ldrh	r3, [r6, #24]
 769 00c2 0095     		str	r5, [sp]
 770 00c4 6D22     		movs	r2, #109
 771 00c6 2849     		ldr	r1, .L81
 772 00c8 2948     		ldr	r0, .L81+8
 773              	.LVL97:
 774 00ca A047     		blx	r4
 775              	.LVL98:
 776              	.LBE16:
 110:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         }
 777              		.loc 1 110 0 is_stmt 1 discriminator 1
 778 00cc 0120     		movs	r0, #1
 779 00ce 3FE0     		b	.L57
 780              	.LVL99:
 781              	.L76:
 115:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             if(NULL == head->buff)
 782              		.loc 1 115 0
 783 00d0 0C20     		movs	r0, #12
 784              	.LVL100:
 785 00d2 FFF7FEFF 		bl	pack_malloc
 786              	.LVL101:
 787 00d6 7061     		str	r0, [r6, #20]
 116:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             {
 788              		.loc 1 116 0
 789 00d8 10B1     		cbz	r0, .L78
 121:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         }
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s 			page 23


 790              		.loc 1 121 0
 791 00da 0C23     		movs	r3, #12
 792 00dc 7383     		strh	r3, [r6, #26]	@ movhi
 793 00de A2E7     		b	.L60
 794              	.L78:
 795              	.LBB17:
 118:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****                 return PACK_ERR;
 796              		.loc 1 118 0
 797 00e0 FFF7FEFF 		bl	pack_get_params
 798              	.LVL102:
 799 00e4 C369     		ldr	r3, [r0, #28]
 800 00e6 002B     		cmp	r3, #0
 801 00e8 37D0     		beq	.L70
 118:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****                 return PACK_ERR;
 802              		.loc 1 118 0 is_stmt 0 discriminator 1
 803 00ea 7622     		movs	r2, #118
 804 00ec 1E49     		ldr	r1, .L81
 805 00ee 2148     		ldr	r0, .L81+12
 806              	.LVL103:
 807 00f0 9847     		blx	r3
 808              	.LVL104:
 809              	.LBE17:
 119:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             }
 810              		.loc 1 119 0 is_stmt 1 discriminator 1
 811 00f2 0120     		movs	r0, #1
 812 00f4 2CE0     		b	.L57
 813              	.LVL105:
 814              	.L77:
 815              	.LBB18:
 135:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             head->stored_len = 0;
 816              		.loc 1 135 0
 817 00f6 FFF7FEFF 		bl	pack_get_params
 818              	.LVL106:
 819 00fa C569     		ldr	r5, [r0, #28]
 820              	.LVL107:
 821 00fc 25B1     		cbz	r5, .L63
 135:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             head->stored_len = 0;
 822              		.loc 1 135 0 is_stmt 0 discriminator 1
 823 00fe 2346     		mov	r3, r4
 824 0100 8722     		movs	r2, #135
 825 0102 1949     		ldr	r1, .L81
 826 0104 1C48     		ldr	r0, .L81+16
 827              	.LVL108:
 828 0106 A847     		blx	r5
 829              	.LVL109:
 830              	.L63:
 831              	.LBE18:
 136:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             return PACK_ERR;
 832              		.loc 1 136 0 is_stmt 1
 833 0108 0023     		movs	r3, #0
 834 010a 3383     		strh	r3, [r6, #24]	@ movhi
 137:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         }
 835              		.loc 1 137 0
 836 010c 0120     		movs	r0, #1
 837 010e 1FE0     		b	.L57
 838              	.LVL110:
 839              	.L65:
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s 			page 24


 150:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         {
 840              		.loc 1 150 0
 841 0110 738B     		ldrh	r3, [r6, #26]
 842 0112 A342     		cmp	r3, r4
 843 0114 01D3     		bcc	.L79
 844              	.LBE14:
 165:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** }
 845              		.loc 1 165 0
 846 0116 0020     		movs	r0, #0
 847 0118 1AE0     		b	.L57
 848              	.L79:
 849              	.LBB23:
 850              	.LBB19:
 152:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             if(NULL == new_buff)
 851              		.loc 1 152 0
 852 011a 2046     		mov	r0, r4
 853 011c FFF7FEFF 		bl	pack_malloc
 854              	.LVL111:
 153:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             {
 855              		.loc 1 153 0
 856 0120 0546     		mov	r5, r0
 857              	.LVL112:
 858 0122 50B1     		cbz	r0, .L80
 158:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             PACK_FREE(head->buff);
 859              		.loc 1 158 0
 860 0124 328B     		ldrh	r2, [r6, #24]
 861 0126 7169     		ldr	r1, [r6, #20]
 862 0128 FFF7FEFF 		bl	memcpy
 863              	.LVL113:
 159:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             head->buff = new_buff;
 864              		.loc 1 159 0
 865 012c 7069     		ldr	r0, [r6, #20]
 866 012e FFF7FEFF 		bl	pack_free
 867              	.LVL114:
 160:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             head->head_len = head_len;
 868              		.loc 1 160 0
 869 0132 7561     		str	r5, [r6, #20]
 161:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         }
 870              		.loc 1 161 0
 871 0134 7483     		strh	r4, [r6, #26]	@ movhi
 872              	.LBE19:
 873              	.LBE23:
 165:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** }
 874              		.loc 1 165 0
 875 0136 0020     		movs	r0, #0
 876 0138 0AE0     		b	.L57
 877              	.LVL115:
 878              	.L80:
 879              	.LBB24:
 880              	.LBB21:
 881              	.LBB20:
 155:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****                 return PACK_ERR;
 882              		.loc 1 155 0
 883 013a FFF7FEFF 		bl	pack_get_params
 884              	.LVL116:
 885 013e C369     		ldr	r3, [r0, #28]
 886 0140 7BB1     		cbz	r3, .L73
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s 			page 25


 155:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****                 return PACK_ERR;
 887              		.loc 1 155 0 is_stmt 0 discriminator 1
 888 0142 9B22     		movs	r2, #155
 889 0144 0849     		ldr	r1, .L81
 890 0146 0B48     		ldr	r0, .L81+12
 891              	.LVL117:
 892 0148 9847     		blx	r3
 893              	.LVL118:
 894              	.LBE20:
 156:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             }
 895              		.loc 1 156 0 is_stmt 1 discriminator 1
 896 014a 0120     		movs	r0, #1
 897 014c 00E0     		b	.L57
 898              	.LVL119:
 899              	.L68:
 900              	.LBE21:
 901              	.LBE24:
 165:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** }
 902              		.loc 1 165 0
 903 014e 0020     		movs	r0, #0
 904              	.LVL120:
 905              	.L57:
 166:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 906              		.loc 1 166 0
 907 0150 03B0     		add	sp, sp, #12
 908              	.LCFI10:
 909              		.cfi_remember_state
 910              		.cfi_def_cfa_offset 28
 911              		@ sp needed
 912 0152 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 913              	.LVL121:
 914              	.L69:
 915              	.LCFI11:
 916              		.cfi_restore_state
 917              	.LBB25:
 110:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         }
 918              		.loc 1 110 0
 919 0156 0120     		movs	r0, #1
 920              	.LVL122:
 921 0158 FAE7     		b	.L57
 922              	.LVL123:
 923              	.L70:
 119:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             }
 924              		.loc 1 119 0
 925 015a 0120     		movs	r0, #1
 926              	.LVL124:
 927 015c F8E7     		b	.L57
 928              	.LVL125:
 929              	.L71:
 129:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         }
 930              		.loc 1 129 0
 931 015e 0020     		movs	r0, #0
 932 0160 F6E7     		b	.L57
 933              	.LVL126:
 934              	.L73:
 935              	.LBB22:
 156:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             }
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s 			page 26


 936              		.loc 1 156 0
 937 0162 0120     		movs	r0, #1
 938              	.LVL127:
 939 0164 F4E7     		b	.L57
 940              	.L82:
 941 0166 00BF     		.align	2
 942              	.L81:
 943 0168 00000000 		.word	.LANCHOR4
 944 016c 68000000 		.word	.LC10
 945 0170 00000000 		.word	.LC7
 946 0174 30000000 		.word	.LC8
 947 0178 4C000000 		.word	.LC9
 948              	.LBE22:
 949              	.LBE25:
 950              		.cfi_endproc
 951              	.LFE5:
 953              		.section	.text.pack_head_parse,"ax",%progbits
 954              		.align	1
 955              		.global	pack_head_parse
 956              		.syntax unified
 957              		.thumb
 958              		.thumb_func
 959              		.fpu fpv4-sp-d16
 961              	pack_head_parse:
 962              	.LFB10:
 295:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     int ret;
 963              		.loc 1 295 0
 964              		.cfi_startproc
 965              		@ args = 4, pretend = 0, frame = 8
 966              		@ frame_needed = 0, uses_anonymous_args = 0
 967              	.LVL128:
 968 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 969              	.LCFI12:
 970              		.cfi_def_cfa_offset 32
 971              		.cfi_offset 4, -32
 972              		.cfi_offset 5, -28
 973              		.cfi_offset 6, -24
 974              		.cfi_offset 7, -20
 975              		.cfi_offset 8, -16
 976              		.cfi_offset 9, -12
 977              		.cfi_offset 10, -8
 978              		.cfi_offset 14, -4
 979 0004 84B0     		sub	sp, sp, #16
 980              	.LCFI13:
 981              		.cfi_def_cfa_offset 48
 982 0006 8046     		mov	r8, r0
 983 0008 8946     		mov	r9, r1
 984 000a 9246     		mov	r10, r2
 985 000c 1C46     		mov	r4, r3
 986 000e 0C9E     		ldr	r6, [sp, #48]
 297:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 987              		.loc 1 297 0
 988 0010 0027     		movs	r7, #0
 989 0012 04AD     		add	r5, sp, #16
 990 0014 25F8027D 		strh	r7, [r5, #-2]!	@ movhi
 299:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     ret = pack_head_parse_head_len(head, offset, buff, len, &tmp_len);
 991              		.loc 1 299 0
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s 			page 27


 992 0018 3780     		strh	r7, [r6]	@ movhi
 300:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     if(ret != PACK_OK)
 993              		.loc 1 300 0
 994 001a 0095     		str	r5, [sp]
 995 001c FFF7FEFF 		bl	pack_head_parse_head_len
 996              	.LVL129:
 301:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     {
 997              		.loc 1 301 0
 998 0020 0546     		mov	r5, r0
 999 0022 40BB     		cbnz	r0, .L83
 306:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     if((0 == len) && (head->stored_len < head->head_len))
 1000              		.loc 1 306 0
 1001 0024 BDF80E10 		ldrh	r1, [sp, #14]
 1002 0028 641A     		subs	r4, r4, r1
 1003 002a A4B2     		uxth	r4, r4
 1004              	.LVL130:
 307:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     {
 1005              		.loc 1 307 0
 1006 002c 2CB9     		cbnz	r4, .L85
 307:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     {
 1007              		.loc 1 307 0 is_stmt 0 discriminator 1
 1008 002e B8F81820 		ldrh	r2, [r8, #24]
 1009 0032 B8F81A30 		ldrh	r3, [r8, #26]
 1010 0036 9A42     		cmp	r2, r3
 1011 0038 21D3     		bcc	.L96
 1012              	.L85:
 313:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     buff += tmp_len;
 1013              		.loc 1 313 0 is_stmt 1
 1014 003a 01EB0907 		add	r7, r1, r9
 1015              	.LVL131:
 314:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 1016              		.loc 1 314 0
 1017 003e 5144     		add	r1, r1, r10
 1018              	.LVL132:
 316:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             || (NULL == head->buff)
 1019              		.loc 1 316 0
 1020 0040 B8F81A30 		ldrh	r3, [r8, #26]
 1021 0044 0B2B     		cmp	r3, #11
 1022 0046 08D9     		bls	.L86
 317:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             || ((head->stored_len < head->head_len) && (offset > head->stored_len)))
 1023              		.loc 1 317 0
 1024 0048 D8F81400 		ldr	r0, [r8, #20]
 1025              	.LVL133:
 1026 004c 28B1     		cbz	r0, .L86
 318:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     {
 1027              		.loc 1 318 0
 1028 004e B8F81820 		ldrh	r2, [r8, #24]
 1029 0052 9342     		cmp	r3, r2
 1030 0054 15D9     		bls	.L87
 318:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     {
 1031              		.loc 1 318 0 is_stmt 0 discriminator 1
 1032 0056 BA42     		cmp	r2, r7
 1033 0058 13D2     		bcs	.L87
 1034              	.L86:
 1035              	.LBB26:
 320:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         return PACK_ERR;
 1036              		.loc 1 320 0 is_stmt 1
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s 			page 28


 1037 005a FFF7FEFF 		bl	pack_get_params
 1038              	.LVL134:
 1039 005e C469     		ldr	r4, [r0, #28]
 1040              	.LVL135:
 1041 0060 002C     		cmp	r4, #0
 1042 0062 72D0     		beq	.L91
 320:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         return PACK_ERR;
 1043              		.loc 1 320 0 is_stmt 0 discriminator 1
 1044 0064 B8F81830 		ldrh	r3, [r8, #24]
 1045 0068 0097     		str	r7, [sp]
 1046 006a 4FF4A072 		mov	r2, #320
 1047 006e 3B49     		ldr	r1, .L99
 1048 0070 3B48     		ldr	r0, .L99+4
 1049              	.LVL136:
 1050 0072 A047     		blx	r4
 1051              	.LVL137:
 1052              	.LBE26:
 321:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     }
 1053              		.loc 1 321 0 is_stmt 1 discriminator 1
 1054 0074 0125     		movs	r5, #1
 1055              	.LVL138:
 1056              	.L83:
 365:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 1057              		.loc 1 365 0
 1058 0076 2846     		mov	r0, r5
 1059 0078 04B0     		add	sp, sp, #16
 1060              	.LCFI14:
 1061              		.cfi_remember_state
 1062              		.cfi_def_cfa_offset 32
 1063              		@ sp needed
 1064 007a BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 1065              	.LVL139:
 1066              	.L96:
 1067              	.LCFI15:
 1068              		.cfi_restore_state
 309:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         return PACK_OK;
 1069              		.loc 1 309 0
 1070 007e 3180     		strh	r1, [r6]	@ movhi
 310:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     }
 1071              		.loc 1 310 0
 1072 0080 F9E7     		b	.L83
 1073              	.LVL140:
 1074              	.L87:
 324:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     {
 1075              		.loc 1 324 0
 1076 0082 BB42     		cmp	r3, r7
 1077 0084 F7D9     		bls	.L83
 1078              	.LBB27:
 328:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         (void)memcpy(head->buff + offset, buff, copy_len);
 1079              		.loc 1 328 0
 1080 0086 DB1B     		subs	r3, r3, r7
 1081 0088 A342     		cmp	r3, r4
 1082 008a 28BF     		it	cs
 1083 008c 2346     		movcs	r3, r4
 1084 008e 9CB2     		uxth	r4, r3
 1085              	.LVL141:
 329:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         *used_len = copy_len + tmp_len;
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s 			page 29


 1086              		.loc 1 329 0
 1087 0090 2246     		mov	r2, r4
 1088 0092 3844     		add	r0, r0, r7
 1089 0094 FFF7FEFF 		bl	memcpy
 1090              	.LVL142:
 330:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         head->stored_len = offset + copy_len;
 1091              		.loc 1 330 0
 1092 0098 BDF80E30 		ldrh	r3, [sp, #14]
 1093 009c 2344     		add	r3, r3, r4
 1094 009e 3380     		strh	r3, [r6]	@ movhi
 331:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         if(head->stored_len >= head->head_len)
 1095              		.loc 1 331 0
 1096 00a0 3C44     		add	r4, r4, r7
 1097              	.LVL143:
 1098 00a2 A4B2     		uxth	r4, r4
 1099 00a4 A8F81840 		strh	r4, [r8, #24]	@ movhi
 332:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         {
 1100              		.loc 1 332 0
 1101 00a8 B8F81A20 		ldrh	r2, [r8, #26]
 1102 00ac 9442     		cmp	r4, r2
 1103 00ae E2D3     		bcc	.L83
 1104              	.LBB28:
 335:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             if(save_len <= head->head_len)
 1105              		.loc 1 335 0
 1106 00b0 D8F81430 		ldr	r3, [r8, #20]
 1107 00b4 197A     		ldrb	r1, [r3, #8]	@ zero_extendqisi2
 1108 00b6 5C7A     		ldrb	r4, [r3, #9]	@ zero_extendqisi2
 1109 00b8 2404     		lsls	r4, r4, #16
 1110 00ba 44EA0164 		orr	r4, r4, r1, lsl #24
 1111 00be 997A     		ldrb	r1, [r3, #10]	@ zero_extendqisi2
 1112 00c0 44EA0124 		orr	r4, r4, r1, lsl #8
 1113 00c4 DB7A     		ldrb	r3, [r3, #11]	@ zero_extendqisi2
 1114 00c6 1C43     		orrs	r4, r4, r3
 1115              	.LVL144:
 336:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             {
 1116              		.loc 1 336 0
 1117 00c8 A242     		cmp	r2, r4
 1118 00ca 1FD2     		bcs	.L97
 342:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             {
 1119              		.loc 1 342 0
 1120 00cc D8F80000 		ldr	r0, [r8]
 1121 00d0 40B1     		cbz	r0, .L89
 342:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             {
 1122              		.loc 1 342 0 is_stmt 0 discriminator 1
 1123 00d2 0369     		ldr	r3, [r0, #16]
 1124 00d4 33B1     		cbz	r3, .L89
 1125              	.LBB29:
 344:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****                 if(max_len < save_len - head->head_len)
 1126              		.loc 1 344 0 is_stmt 1
 1127 00d6 9847     		blx	r3
 1128              	.LVL145:
 1129 00d8 0546     		mov	r5, r0
 1130              	.LVL146:
 345:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****                 {
 1131              		.loc 1 345 0
 1132 00da B8F81A30 		ldrh	r3, [r8, #26]
 1133 00de E31A     		subs	r3, r4, r3
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s 			page 30


 1134 00e0 8342     		cmp	r3, r0
 1135 00e2 22D8     		bhi	.L98
 1136              	.LVL147:
 1137              	.L89:
 1138              	.LBE29:
 352:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             {
 1139              		.loc 1 352 0
 1140 00e4 D8F80430 		ldr	r3, [r8, #4]
 1141 00e8 3BB1     		cbz	r3, .L90
 354:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****                 {
 1142              		.loc 1 354 0
 1143 00ea D8F80820 		ldr	r2, [r8, #8]
 1144 00ee B8F81A10 		ldrh	r1, [r8, #26]
 1145 00f2 D8F81400 		ldr	r0, [r8, #20]
 1146 00f6 9847     		blx	r3
 1147              	.LVL148:
 1148 00f8 68BB     		cbnz	r0, .L94
 1149              	.L90:
 360:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         }
 1150              		.loc 1 360 0
 1151 00fa B8F81A20 		ldrh	r2, [r8, #26]
 1152 00fe D8F81410 		ldr	r1, [r8, #20]
 1153 0102 4046     		mov	r0, r8
 1154 0104 FFF7FEFF 		bl	pack_head_parse_tlvs
 1155              	.LVL149:
 1156 0108 0546     		mov	r5, r0
 1157 010a B4E7     		b	.L83
 1158              	.LVL150:
 1159              	.L97:
 1160              	.LBB31:
 338:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****                 return PACK_ERR;
 1161              		.loc 1 338 0
 1162 010c FFF7FEFF 		bl	pack_get_params
 1163              	.LVL151:
 1164 0110 C569     		ldr	r5, [r0, #28]
 1165              	.LVL152:
 1166 0112 E5B1     		cbz	r5, .L92
 338:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****                 return PACK_ERR;
 1167              		.loc 1 338 0 is_stmt 0 discriminator 1
 1168 0114 B8F81A30 		ldrh	r3, [r8, #26]
 1169 0118 0093     		str	r3, [sp]
 1170 011a 2346     		mov	r3, r4
 1171 011c 4FF4A972 		mov	r2, #338
 1172 0120 0E49     		ldr	r1, .L99
 1173 0122 1048     		ldr	r0, .L99+8
 1174              	.LVL153:
 1175 0124 A847     		blx	r5
 1176              	.LVL154:
 1177              	.LBE31:
 339:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             }
 1178              		.loc 1 339 0 is_stmt 1 discriminator 1
 1179 0126 0125     		movs	r5, #1
 1180 0128 A5E7     		b	.L83
 1181              	.LVL155:
 1182              	.L98:
 1183              	.LBB32:
 1184              	.LBB30:
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s 			page 31


 347:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****                     return PACK_ERR;
 1185              		.loc 1 347 0
 1186 012a FFF7FEFF 		bl	pack_get_params
 1187              	.LVL156:
 1188 012e C669     		ldr	r6, [r0, #28]
 1189 0130 7EB1     		cbz	r6, .L93
 347:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****                     return PACK_ERR;
 1190              		.loc 1 347 0 is_stmt 0 discriminator 1
 1191 0132 B8F81A30 		ldrh	r3, [r8, #26]
 1192 0136 0195     		str	r5, [sp, #4]
 1193 0138 0093     		str	r3, [sp]
 1194 013a 2346     		mov	r3, r4
 1195 013c 40F25B12 		movw	r2, #347
 1196 0140 0649     		ldr	r1, .L99
 1197 0142 0948     		ldr	r0, .L99+12
 1198              	.LVL157:
 1199 0144 B047     		blx	r6
 1200              	.LVL158:
 1201              	.LBE30:
 348:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****                 }
 1202              		.loc 1 348 0 is_stmt 1 discriminator 1
 1203 0146 0125     		movs	r5, #1
 1204              	.LVL159:
 1205 0148 95E7     		b	.L83
 1206              	.LVL160:
 1207              	.L91:
 1208              	.LBE32:
 1209              	.LBE28:
 1210              	.LBE27:
 321:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     }
 1211              		.loc 1 321 0
 1212 014a 0125     		movs	r5, #1
 1213              	.LVL161:
 1214 014c 93E7     		b	.L83
 1215              	.LVL162:
 1216              	.L92:
 1217              	.LBB35:
 1218              	.LBB34:
 339:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****             }
 1219              		.loc 1 339 0
 1220 014e 0125     		movs	r5, #1
 1221 0150 91E7     		b	.L83
 1222              	.LVL163:
 1223              	.L93:
 1224              	.LBB33:
 348:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****                 }
 1225              		.loc 1 348 0
 1226 0152 0125     		movs	r5, #1
 1227              	.LVL164:
 1228 0154 8FE7     		b	.L83
 1229              	.LVL165:
 1230              	.L94:
 1231              	.LBE33:
 356:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****                 }
 1232              		.loc 1 356 0
 1233 0156 0125     		movs	r5, #1
 1234 0158 8DE7     		b	.L83
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s 			page 32


 1235              	.L100:
 1236 015a 00BF     		.align	2
 1237              	.L99:
 1238 015c 00000000 		.word	.LANCHOR5
 1239 0160 00000000 		.word	.LC7
 1240 0164 00000000 		.word	.LC11
 1241 0168 30000000 		.word	.LC12
 1242              	.LBE34:
 1243              	.LBE35:
 1244              		.cfi_endproc
 1245              	.LFE10:
 1247              		.section	.text.pack_head_check,"ax",%progbits
 1248              		.align	1
 1249              		.global	pack_head_check
 1250              		.syntax unified
 1251              		.thumb
 1252              		.thumb_func
 1253              		.fpu fpv4-sp-d16
 1255              	pack_head_check:
 1256              	.LFB12:
 371:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 372:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** int pack_head_check(const pack_head_s *head, uint32_t len)
 373:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** {
 1257              		.loc 1 373 0
 1258              		.cfi_startproc
 1259              		@ args = 0, pretend = 0, frame = 0
 1260              		@ frame_needed = 0, uses_anonymous_args = 0
 1261              	.LVL166:
 1262 0000 70B5     		push	{r4, r5, r6, lr}
 1263              	.LCFI16:
 1264              		.cfi_def_cfa_offset 16
 1265              		.cfi_offset 4, -16
 1266              		.cfi_offset 5, -12
 1267              		.cfi_offset 6, -8
 1268              		.cfi_offset 14, -4
 1269 0002 82B0     		sub	sp, sp, #8
 1270              	.LCFI17:
 1271              		.cfi_def_cfa_offset 24
 1272 0004 0546     		mov	r5, r0
 1273 0006 0E46     		mov	r6, r1
 374:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     uint32_t save_len;
 375:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 376:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     if(!pack_head_is_done(head))
 1274              		.loc 1 376 0
 1275 0008 FFF7FEFF 		bl	pack_head_is_done
 1276              	.LVL167:
 1277 000c D8B1     		cbz	r0, .L112
 377:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     {
 378:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         PACK_LOG("head invalid get len, stored len %u, head len %u", head->stored_len, head->head_l
 379:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         return PACK_ERR;
 380:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     }
 381:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 382:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     save_len = GET_DWORD(head->buff, PACK_HEADER_TOTAL_LEN_POS);
 1278              		.loc 1 382 0
 1279 000e 6B69     		ldr	r3, [r5, #20]
 1280 0010 1A7A     		ldrb	r2, [r3, #8]	@ zero_extendqisi2
 1281 0012 5C7A     		ldrb	r4, [r3, #9]	@ zero_extendqisi2
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s 			page 33


 1282 0014 2404     		lsls	r4, r4, #16
 1283 0016 44EA0264 		orr	r4, r4, r2, lsl #24
 1284 001a 9A7A     		ldrb	r2, [r3, #10]	@ zero_extendqisi2
 1285 001c 44EA0224 		orr	r4, r4, r2, lsl #8
 1286 0020 DB7A     		ldrb	r3, [r3, #11]	@ zero_extendqisi2
 1287 0022 1C43     		orrs	r4, r4, r3
 1288              	.LVL168:
 383:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     if(len != save_len)
 1289              		.loc 1 383 0
 1290 0024 B442     		cmp	r4, r6
 1291 0026 1DD1     		bne	.L113
 384:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     {
 385:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         PACK_LOG("len err save len %u, rcv len %u", save_len, len);
 386:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         return PACK_ERR;
 387:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     }
 388:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 389:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     if((head->checksum_pos == NULL) || (head->checksum_len == 0))
 1292              		.loc 1 389 0
 1293 0028 296A     		ldr	r1, [r5, #32]
 1294 002a 09B1     		cbz	r1, .L105
 1295              		.loc 1 389 0 is_stmt 0 discriminator 1
 1296 002c 6A6A     		ldr	r2, [r5, #36]
 1297 002e 32BB     		cbnz	r2, .L106
 1298              	.L105:
 1299              	.LBB36:
 390:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     {
 391:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         PACK_LOG("fota no checksum exist");
 1300              		.loc 1 391 0 is_stmt 1
 1301 0030 FFF7FEFF 		bl	pack_get_params
 1302              	.LVL169:
 1303 0034 C369     		ldr	r3, [r0, #28]
 1304 0036 63B3     		cbz	r3, .L109
 1305              		.loc 1 391 0 is_stmt 0 discriminator 1
 1306 0038 40F28712 		movw	r2, #391
 1307 003c 1749     		ldr	r1, .L114
 1308 003e 1848     		ldr	r0, .L114+4
 1309              	.LVL170:
 1310 0040 9847     		blx	r3
 1311              	.LVL171:
 1312              	.LBE36:
 392:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         return PACK_OK;
 1313              		.loc 1 392 0 is_stmt 1 discriminator 1
 1314 0042 0020     		movs	r0, #0
 1315 0044 0CE0     		b	.L101
 1316              	.LVL172:
 1317              	.L112:
 1318              	.LBB37:
 378:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         return PACK_ERR;
 1319              		.loc 1 378 0
 1320 0046 FFF7FEFF 		bl	pack_get_params
 1321              	.LVL173:
 1322 004a C469     		ldr	r4, [r0, #28]
 1323 004c ECB1     		cbz	r4, .L107
 378:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         return PACK_ERR;
 1324              		.loc 1 378 0 is_stmt 0 discriminator 1
 1325 004e 2B8B     		ldrh	r3, [r5, #24]
 1326 0050 6A8B     		ldrh	r2, [r5, #26]
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s 			page 34


 1327 0052 0092     		str	r2, [sp]
 1328 0054 4FF4BD72 		mov	r2, #378
 1329 0058 1049     		ldr	r1, .L114
 1330 005a 1248     		ldr	r0, .L114+8
 1331              	.LVL174:
 1332 005c A047     		blx	r4
 1333              	.LVL175:
 1334              	.LBE37:
 379:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     }
 1335              		.loc 1 379 0 is_stmt 1 discriminator 1
 1336 005e 0120     		movs	r0, #1
 1337              	.LVL176:
 1338              	.L101:
 393:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     }
 394:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 395:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     if (head->checksum)
 396:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     {
 397:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         return pack_checksum_check(head->checksum, head->checksum_pos, head->checksum_len);
 398:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     }
 399:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     return PACK_OK;
 400:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** }
 1339              		.loc 1 400 0
 1340 0060 02B0     		add	sp, sp, #8
 1341              	.LCFI18:
 1342              		.cfi_remember_state
 1343              		.cfi_def_cfa_offset 16
 1344              		@ sp needed
 1345 0062 70BD     		pop	{r4, r5, r6, pc}
 1346              	.LVL177:
 1347              	.L113:
 1348              	.LCFI19:
 1349              		.cfi_restore_state
 1350              	.LBB38:
 385:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         return PACK_ERR;
 1351              		.loc 1 385 0
 1352 0064 FFF7FEFF 		bl	pack_get_params
 1353              	.LVL178:
 1354 0068 C569     		ldr	r5, [r0, #28]
 1355              	.LVL179:
 1356 006a 85B1     		cbz	r5, .L108
 385:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****         return PACK_ERR;
 1357              		.loc 1 385 0 is_stmt 0 discriminator 1
 1358 006c 0096     		str	r6, [sp]
 1359 006e 2346     		mov	r3, r4
 1360 0070 40F28112 		movw	r2, #385
 1361 0074 0949     		ldr	r1, .L114
 1362 0076 0C48     		ldr	r0, .L114+12
 1363              	.LVL180:
 1364 0078 A847     		blx	r5
 1365              	.LVL181:
 1366              	.LBE38:
 386:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     }
 1367              		.loc 1 386 0 is_stmt 1 discriminator 1
 1368 007a 0120     		movs	r0, #1
 1369 007c F0E7     		b	.L101
 1370              	.LVL182:
 1371              	.L106:
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s 			page 35


 395:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     {
 1372              		.loc 1 395 0
 1373 007e E869     		ldr	r0, [r5, #28]
 1374 0080 48B1     		cbz	r0, .L110
 397:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     }
 1375              		.loc 1 397 0
 1376 0082 92B2     		uxth	r2, r2
 1377 0084 FFF7FEFF 		bl	pack_checksum_check
 1378              	.LVL183:
 1379 0088 EAE7     		b	.L101
 1380              	.LVL184:
 1381              	.L107:
 379:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     }
 1382              		.loc 1 379 0
 1383 008a 0120     		movs	r0, #1
 1384              	.LVL185:
 1385 008c E8E7     		b	.L101
 1386              	.LVL186:
 1387              	.L108:
 386:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     }
 1388              		.loc 1 386 0
 1389 008e 0120     		movs	r0, #1
 1390              	.LVL187:
 1391 0090 E6E7     		b	.L101
 1392              	.LVL188:
 1393              	.L109:
 392:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     }
 1394              		.loc 1 392 0
 1395 0092 0020     		movs	r0, #0
 1396              	.LVL189:
 1397 0094 E4E7     		b	.L101
 1398              	.L110:
 399:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** }
 1399              		.loc 1 399 0
 1400 0096 0020     		movs	r0, #0
 1401 0098 E2E7     		b	.L101
 1402              	.L115:
 1403 009a 00BF     		.align	2
 1404              	.L114:
 1405 009c 00000000 		.word	.LANCHOR6
 1406 00a0 68000000 		.word	.LC15
 1407 00a4 00000000 		.word	.LC13
 1408 00a8 3C000000 		.word	.LC14
 1409              		.cfi_endproc
 1410              	.LFE12:
 1412              		.section	.text.pack_head_get_head_len,"ax",%progbits
 1413              		.align	1
 1414              		.global	pack_head_get_head_len
 1415              		.syntax unified
 1416              		.thumb
 1417              		.thumb_func
 1418              		.fpu fpv4-sp-d16
 1420              	pack_head_get_head_len:
 1421              	.LFB13:
 401:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 402:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** uint32_t pack_head_get_head_len(const pack_head_s *head)
 403:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** {
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s 			page 36


 1422              		.loc 1 403 0
 1423              		.cfi_startproc
 1424              		@ args = 0, pretend = 0, frame = 0
 1425              		@ frame_needed = 0, uses_anonymous_args = 0
 1426              	.LVL190:
 1427 0000 10B5     		push	{r4, lr}
 1428              	.LCFI20:
 1429              		.cfi_def_cfa_offset 8
 1430              		.cfi_offset 4, -8
 1431              		.cfi_offset 14, -4
 1432 0002 0446     		mov	r4, r0
 404:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     return pack_head_is_done(head) ? (uint32_t)head->head_len : 0;
 1433              		.loc 1 404 0
 1434 0004 FFF7FEFF 		bl	pack_head_is_done
 1435              	.LVL191:
 1436 0008 08B1     		cbz	r0, .L118
 1437              		.loc 1 404 0 is_stmt 0 discriminator 1
 1438 000a 608B     		ldrh	r0, [r4, #26]
 1439              	.L116:
 405:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** }
 1440              		.loc 1 405 0 is_stmt 1
 1441 000c 10BD     		pop	{r4, pc}
 1442              	.LVL192:
 1443              	.L118:
 404:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     return pack_head_is_done(head) ? (uint32_t)head->head_len : 0;
 1444              		.loc 1 404 0
 1445 000e 0020     		movs	r0, #0
 1446 0010 FCE7     		b	.L116
 1447              		.cfi_endproc
 1448              	.LFE13:
 1450              		.section	.text.pack_head_get_head_info,"ax",%progbits
 1451              		.align	1
 1452              		.global	pack_head_get_head_info
 1453              		.syntax unified
 1454              		.thumb
 1455              		.thumb_func
 1456              		.fpu fpv4-sp-d16
 1458              	pack_head_get_head_info:
 1459              	.LFB14:
 406:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 407:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** const uint8_t *pack_head_get_head_info(const pack_head_s *head)
 408:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** {
 1460              		.loc 1 408 0
 1461              		.cfi_startproc
 1462              		@ args = 0, pretend = 0, frame = 0
 1463              		@ frame_needed = 0, uses_anonymous_args = 0
 1464              	.LVL193:
 1465 0000 10B5     		push	{r4, lr}
 1466              	.LCFI21:
 1467              		.cfi_def_cfa_offset 8
 1468              		.cfi_offset 4, -8
 1469              		.cfi_offset 14, -4
 1470 0002 0446     		mov	r4, r0
 409:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     return pack_head_is_done(head) ? head->buff : 0;
 1471              		.loc 1 409 0
 1472 0004 FFF7FEFF 		bl	pack_head_is_done
 1473              	.LVL194:
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s 			page 37


 1474 0008 08B1     		cbz	r0, .L122
 1475              		.loc 1 409 0 is_stmt 0 discriminator 1
 1476 000a 6069     		ldr	r0, [r4, #20]
 1477              	.L120:
 410:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** }
 1478              		.loc 1 410 0 is_stmt 1
 1479 000c 10BD     		pop	{r4, pc}
 1480              	.LVL195:
 1481              	.L122:
 409:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     return pack_head_is_done(head) ? head->buff : 0;
 1482              		.loc 1 409 0
 1483 000e 0020     		movs	r0, #0
 1484 0010 FCE7     		b	.L120
 1485              		.cfi_endproc
 1486              	.LFE14:
 1488              		.section	.text.pack_head_set_head_info,"ax",%progbits
 1489              		.align	1
 1490              		.global	pack_head_set_head_info
 1491              		.syntax unified
 1492              		.thumb
 1493              		.thumb_func
 1494              		.fpu fpv4-sp-d16
 1496              	pack_head_set_head_info:
 1497              	.LFB15:
 411:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 412:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 413:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** int pack_head_set_head_info(pack_head_s *head, pack_device_info_s *device_info)
 414:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** {
 1498              		.loc 1 414 0
 1499              		.cfi_startproc
 1500              		@ args = 0, pretend = 0, frame = 0
 1501              		@ frame_needed = 0, uses_anonymous_args = 0
 1502              		@ link register save eliminated.
 1503              	.LVL196:
 1504 0000 10B4     		push	{r4}
 1505              	.LCFI22:
 1506              		.cfi_def_cfa_offset 4
 1507              		.cfi_offset 4, -4
 1508 0002 0346     		mov	r3, r0
 415:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     head->hardware = device_info->hardware;
 1509              		.loc 1 415 0
 1510 0004 0A68     		ldr	r2, [r1]
 1511 0006 0260     		str	r2, [r0]
 416:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     head->update_check = NULL;
 1512              		.loc 1 416 0
 1513 0008 0020     		movs	r0, #0
 1514              	.LVL197:
 1515 000a 5860     		str	r0, [r3, #4]
 417:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     head->param = NULL;
 1516              		.loc 1 417 0
 1517 000c 9860     		str	r0, [r3, #8]
 418:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     (void)memcpy(&head->key, &device_info->key, sizeof(head->key));
 1518              		.loc 1 418 0
 1519 000e 51F8044F 		ldr	r4, [r1, #4]!	@ unaligned
 1520              	.LVL198:
 1521 0012 4A68     		ldr	r2, [r1, #4]	@ unaligned
 1522 0014 DC60     		str	r4, [r3, #12]	@ unaligned
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s 			page 38


 1523 0016 1A61     		str	r2, [r3, #16]	@ unaligned
 419:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     return PACK_OK;
 420:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** }
 1524              		.loc 1 420 0
 1525 0018 5DF8044B 		ldr	r4, [sp], #4
 1526              	.LCFI23:
 1527              		.cfi_restore 4
 1528              		.cfi_def_cfa_offset 0
 1529 001c 7047     		bx	lr
 1530              		.cfi_endproc
 1531              	.LFE15:
 1533              		.section	.text.pack_head_get_checksum,"ax",%progbits
 1534              		.align	1
 1535              		.global	pack_head_get_checksum
 1536              		.syntax unified
 1537              		.thumb
 1538              		.thumb_func
 1539              		.fpu fpv4-sp-d16
 1541              	pack_head_get_checksum:
 1542              	.LFB16:
 421:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 422:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** pack_checksum_s *pack_head_get_checksum(pack_head_s *head)
 423:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** {
 1543              		.loc 1 423 0
 1544              		.cfi_startproc
 1545              		@ args = 0, pretend = 0, frame = 0
 1546              		@ frame_needed = 0, uses_anonymous_args = 0
 1547              		@ link register save eliminated.
 1548              	.LVL199:
 424:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     return head->checksum;
 425:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** }
 1549              		.loc 1 425 0
 1550 0000 C069     		ldr	r0, [r0, #28]
 1551              	.LVL200:
 1552 0002 7047     		bx	lr
 1553              		.cfi_endproc
 1554              	.LFE16:
 1556              		.section	.text.pack_head_get_key,"ax",%progbits
 1557              		.align	1
 1558              		.global	pack_head_get_key
 1559              		.syntax unified
 1560              		.thumb
 1561              		.thumb_func
 1562              		.fpu fpv4-sp-d16
 1564              	pack_head_get_key:
 1565              	.LFB17:
 426:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** 
 427:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** ota_key_s  *pack_head_get_key(pack_head_s *head)
 428:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** {
 1566              		.loc 1 428 0
 1567              		.cfi_startproc
 1568              		@ args = 0, pretend = 0, frame = 0
 1569              		@ frame_needed = 0, uses_anonymous_args = 0
 1570              		@ link register save eliminated.
 1571              	.LVL201:
 429:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c ****     return &head->key;
 430:C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package\package_head.c **** }
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s 			page 39


 1572              		.loc 1 430 0
 1573 0000 0C30     		adds	r0, r0, #12
 1574              	.LVL202:
 1575 0002 7047     		bx	lr
 1576              		.cfi_endproc
 1577              	.LFE17:
 1579              		.section	.rodata
 1580              		.align	2
 1581              		.set	.LANCHOR2,. + 0
 1582              	.LC0:
 1583 0000 00000000 		.word	pack_head_handle_checksum_tlv
 1584 0004 00000000 		.word	pack_head_handle_bin_type_tlv
 1585              	.LC1:
 1586 0008 FFFF0000 		.word	65535
 1587 000c 04000000 		.word	4
 1588              		.section	.rodata.__FUNCTION__.7293,"a",%progbits
 1589              		.align	2
 1590              		.set	.LANCHOR4,. + 0
 1593              	__FUNCTION__.7293:
 1594 0000 7061636B 		.ascii	"pack_head_parse_head_len\000"
 1594      5F686561 
 1594      645F7061 
 1594      7273655F 
 1594      68656164 
 1595              		.section	.rodata.__FUNCTION__.7308,"a",%progbits
 1596              		.align	2
 1597              		.set	.LANCHOR1,. + 0
 1600              	__FUNCTION__.7308:
 1601 0000 7061636B 		.ascii	"pack_head_handle_checksum_tlv\000"
 1601      5F686561 
 1601      645F6861 
 1601      6E646C65 
 1601      5F636865 
 1602              		.section	.rodata.__FUNCTION__.7316,"a",%progbits
 1603              		.align	2
 1604              		.set	.LANCHOR0,. + 0
 1607              	__FUNCTION__.7316:
 1608 0000 7061636B 		.ascii	"pack_head_handle_bin_type_tlv\000"
 1608      5F686561 
 1608      645F6861 
 1608      6E646C65 
 1608      5F62696E 
 1609              		.section	.rodata.__FUNCTION__.7333,"a",%progbits
 1610              		.align	2
 1611              		.set	.LANCHOR3,. + 0
 1614              	__FUNCTION__.7333:
 1615 0000 7061636B 		.ascii	"pack_head_parse_tlvs\000"
 1615      5F686561 
 1615      645F7061 
 1615      7273655F 
 1615      746C7673 
 1616              		.section	.rodata.__FUNCTION__.7352,"a",%progbits
 1617              		.align	2
 1618              		.set	.LANCHOR5,. + 0
 1621              	__FUNCTION__.7352:
 1622 0000 7061636B 		.ascii	"pack_head_parse\000"
 1622      5F686561 
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s 			page 40


 1622      645F7061 
 1622      72736500 
 1623              		.section	.rodata.__FUNCTION__.7367,"a",%progbits
 1624              		.align	2
 1625              		.set	.LANCHOR6,. + 0
 1628              	__FUNCTION__.7367:
 1629 0000 7061636B 		.ascii	"pack_head_check\000"
 1629      5F686561 
 1629      645F6368 
 1629      65636B00 
 1630              		.section	.rodata.pack_head_check.str1.4,"aMS",%progbits,1
 1631              		.align	2
 1632              	.LC13:
 1633 0000 5B25733A 		.ascii	"[%s:%d]head invalid get len, stored len %u, head le"
 1633      25645D68 
 1633      65616420 
 1633      696E7661 
 1633      6C696420 
 1634 0033 6E202575 		.ascii	"n %u\015\012\000"
 1634      0D0A00
 1635 003a 0000     		.space	2
 1636              	.LC14:
 1637 003c 5B25733A 		.ascii	"[%s:%d]len err save len %u, rcv len %u\015\012\000"
 1637      25645D6C 
 1637      656E2065 
 1637      72722073 
 1637      61766520 
 1638 0065 000000   		.space	3
 1639              	.LC15:
 1640 0068 5B25733A 		.ascii	"[%s:%d]fota no checksum exist\015\012\000"
 1640      25645D66 
 1640      6F746120 
 1640      6E6F2063 
 1640      6865636B 
 1641              		.section	.rodata.pack_head_handle_bin_type_tlv.str1.4,"aMS",%progbits,1
 1642              		.align	2
 1643              	.LC2:
 1644 0000 5B25733A 		.ascii	"[%s:%d]flash_type %d invalid\015\012\000"
 1644      25645D66 
 1644      6C617368 
 1644      5F747970 
 1644      65202564 
 1645              		.section	.rodata.pack_head_handle_checksum_tlv.str1.4,"aMS",%progbits,1
 1646              		.align	2
 1647              	.LC3:
 1648 0000 5B25733A 		.ascii	"[%s:%d]PACK_MALLOC %d fail\015\012\000"
 1648      25645D50 
 1648      41434B5F 
 1648      4D414C4C 
 1648      4F432025 
 1649              		.section	.rodata.pack_head_parse.str1.4,"aMS",%progbits,1
 1650              		.align	2
 1651              	.LC11:
 1652 0000 5B25733A 		.ascii	"[%s:%d]head len err, save len %d head len %u\015\012"
 1652      25645D68 
 1652      65616420 
 1652      6C656E20 
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s 			page 41


 1652      6572722C 
 1653 002e 00       		.ascii	"\000"
 1654 002f 00       		.space	1
 1655              	.LC12:
 1656 0030 5B25733A 		.ascii	"[%s:%d]size exceed, save len %u head len %u max_len"
 1656      25645D73 
 1656      697A6520 
 1656      65786365 
 1656      65642C20 
 1657 0063 2025750D 		.ascii	" %u\015\012\000"
 1657      0A00
 1658              		.section	.rodata.pack_head_parse_head_len.str1.4,"aMS",%progbits,1
 1659              		.align	2
 1660              	.LC7:
 1661 0000 5B25733A 		.ascii	"[%s:%d]head not continuous, len %u offset %u\015\012"
 1661      25645D68 
 1661      65616420 
 1661      6E6F7420 
 1661      636F6E74 
 1662 002e 00       		.ascii	"\000"
 1663 002f 00       		.space	1
 1664              	.LC8:
 1665 0030 5B25733A 		.ascii	"[%s:%d]PACK_MALLOC fail\015\012\000"
 1665      25645D50 
 1665      41434B5F 
 1665      4D414C4C 
 1665      4F432066 
 1666 004a 0000     		.space	2
 1667              	.LC9:
 1668 004c 5B25733A 		.ascii	"[%s:%d]invalid version %d\015\012\000"
 1668      25645D69 
 1668      6E76616C 
 1668      69642076 
 1668      65727369 
 1669              	.LC10:
 1670 0068 5B25733A 		.ascii	"[%s:%d]invalid head len %d, total len %d\015\012\000"
 1670      25645D69 
 1670      6E76616C 
 1670      69642068 
 1670      65616420 
 1671              		.section	.rodata.pack_head_parse_tlvs.str1.4,"aMS",%progbits,1
 1672              		.align	2
 1673              	.LC4:
 1674 0000 5B25733A 		.ascii	"[%s:%d]tvl err attribute %d, tlv_len %d\015\012\000"
 1674      25645D74 
 1674      766C2065 
 1674      72722061 
 1674      74747269 
 1675 002a 0000     		.space	2
 1676              	.LC5:
 1677 002c 5B25733A 		.ascii	"[%s:%d]head empty checksum info\015\012\000"
 1677      25645D68 
 1677      65616420 
 1677      656D7074 
 1677      79206368 
 1678 004e 0000     		.space	2
 1679              	.LC6:
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s 			page 42


 1680 0050 5B25733A 		.ascii	"[%s:%d]pack_checksum_create fail\015\012\000"
 1680      25645D70 
 1680      61636B5F 
 1680      63686563 
 1680      6B73756D 
 1681              		.text
 1682              	.Letext0:
 1683              		.file 2 "c:\\program files (x86)\\liteos studio\\resources\\arm-none-eabi\\arm-none-eabi\\include\
 1684              		.file 3 "c:\\program files (x86)\\liteos studio\\resources\\arm-none-eabi\\arm-none-eabi\\include\
 1685              		.file 4 "C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/include/ota/ota_api.h"
 1686              		.file 5 "c:\\program files (x86)\\liteos studio\\resources\\arm-none-eabi\\lib\\gcc\\arm-none-eabi
 1687              		.file 6 "c:\\program files (x86)\\liteos studio\\resources\\arm-none-eabi\\arm-none-eabi\\include\
 1688              		.file 7 "c:\\program files (x86)\\liteos studio\\resources\\arm-none-eabi\\arm-none-eabi\\include\
 1689              		.file 8 "c:\\program files (x86)\\liteos studio\\resources\\arm-none-eabi\\arm-none-eabi\\include\
 1690              		.file 9 "C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/include/ota/package.h"
 1691              		.file 10 "c:\\program files (x86)\\liteos studio\\resources\\arm-none-eabi\\arm-none-eabi\\include
 1692              		.file 11 "C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package/package_che
 1693              		.file 12 "C:/Users/lenovo/Desktop/liteos/Project2/BearPi_LiteOS/components/ota/package/package_hea
 1694              		.file 13 "<built-in>"
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s 			page 43


DEFINED SYMBOLS
                            *ABS*:00000000 package_head.c
c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s:18     .text.pack_head_get_checksum_attribute:00000000 $t
c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s:24     .text.pack_head_get_checksum_attribute:00000000 pack_head_get_checksum_attribute
c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s:39     .text.pack_head_is_done:00000000 $t
c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s:45     .text.pack_head_is_done:00000000 pack_head_is_done
c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s:80     .text.pack_head_handle_bin_type_tlv:00000000 $t
c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s:86     .text.pack_head_handle_bin_type_tlv:00000000 pack_head_handle_bin_type_tlv
c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s:169    .text.pack_head_handle_bin_type_tlv:00000048 $d
c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s:176    .text.pack_head_handle_checksum_tlv:00000000 $t
c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s:182    .text.pack_head_handle_checksum_tlv:00000000 pack_head_handle_checksum_tlv
c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s:271    .text.pack_head_handle_checksum_tlv:00000054 $d
c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s:277    .text.pack_head_parse_tlvs:00000000 $t
c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s:283    .text.pack_head_parse_tlvs:00000000 pack_head_parse_tlvs
c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s:515    .text.pack_head_parse_tlvs:00000100 $d
c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s:524    .text.pack_head_init:00000000 $t
c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s:531    .text.pack_head_init:00000000 pack_head_init
c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s:554    .text.pack_head_destroy:00000000 $t
c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s:561    .text.pack_head_destroy:00000000 pack_head_destroy
c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s:615    .text.pack_head_parse_head_len:00000000 $t
c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s:622    .text.pack_head_parse_head_len:00000000 pack_head_parse_head_len
c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s:943    .text.pack_head_parse_head_len:00000168 $d
c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s:954    .text.pack_head_parse:00000000 $t
c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s:961    .text.pack_head_parse:00000000 pack_head_parse
c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s:1238   .text.pack_head_parse:0000015c $d
c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s:1248   .text.pack_head_check:00000000 $t
c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s:1255   .text.pack_head_check:00000000 pack_head_check
c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s:1405   .text.pack_head_check:0000009c $d
c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s:1413   .text.pack_head_get_head_len:00000000 $t
c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s:1420   .text.pack_head_get_head_len:00000000 pack_head_get_head_len
c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s:1451   .text.pack_head_get_head_info:00000000 $t
c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s:1458   .text.pack_head_get_head_info:00000000 pack_head_get_head_info
c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s:1489   .text.pack_head_set_head_info:00000000 $t
c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s:1496   .text.pack_head_set_head_info:00000000 pack_head_set_head_info
c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s:1534   .text.pack_head_get_checksum:00000000 $t
c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s:1541   .text.pack_head_get_checksum:00000000 pack_head_get_checksum
c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s:1557   .text.pack_head_get_key:00000000 $t
c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s:1564   .text.pack_head_get_key:00000000 pack_head_get_key
c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s:1580   .rodata:00000000 $d
c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s:1589   .rodata.__FUNCTION__.7293:00000000 $d
c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s:1593   .rodata.__FUNCTION__.7293:00000000 __FUNCTION__.7293
c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s:1596   .rodata.__FUNCTION__.7308:00000000 $d
c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s:1600   .rodata.__FUNCTION__.7308:00000000 __FUNCTION__.7308
c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s:1603   .rodata.__FUNCTION__.7316:00000000 $d
c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s:1607   .rodata.__FUNCTION__.7316:00000000 __FUNCTION__.7316
c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s:1610   .rodata.__FUNCTION__.7333:00000000 $d
c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s:1614   .rodata.__FUNCTION__.7333:00000000 __FUNCTION__.7333
c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s:1617   .rodata.__FUNCTION__.7352:00000000 $d
c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s:1621   .rodata.__FUNCTION__.7352:00000000 __FUNCTION__.7352
c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s:1624   .rodata.__FUNCTION__.7367:00000000 $d
c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s:1628   .rodata.__FUNCTION__.7367:00000000 __FUNCTION__.7367
c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s:1631   .rodata.pack_head_check.str1.4:00000000 $d
c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s:1642   .rodata.pack_head_handle_bin_type_tlv.str1.4:00000000 $d
c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s:1646   .rodata.pack_head_handle_checksum_tlv.str1.4:00000000 $d
c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s:1650   .rodata.pack_head_parse.str1.4:00000000 $d
c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s:1659   .rodata.pack_head_parse_head_len.str1.4:00000000 $d
c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s:1672   .rodata.pack_head_parse_tlvs.str1.4:00000000 $d
ARM GAS  c:\Users\lenovo\AppData\Local\Temp\ccLeqFOJ.s 			page 44



UNDEFINED SYMBOLS
pack_get_params
pack_free
pack_malloc
memcpy
memset
pack_checksum_delete
pack_checksum_create
pack_checksum_check
